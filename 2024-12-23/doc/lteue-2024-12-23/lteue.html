<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>LTE UE and NR Simulator</title>

<meta name="description" content="LTE UE and NR Simulator">
<meta name="keywords" content="LTE UE and NR Simulator">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
table {
    border-spacing: 0px;
    border-collapse: collapse;
}

th {
    border: 1px solid black;
    background-color: #c0f585;
    font-size: 14px;
    padding: 5px;
}

td {
    border: 1px solid black;
    padding: 2px 4px;
}

p>img {
    display: initial;
}


-->
</style>


</head>

<body lang="en">
<h1 class="settitle" align="center">LTE UE and NR Simulator</h1>


<span id="SEC_Contents"></span>
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">
<ul class="no-bullet">
<li><a id="toc-Introduction" href="#Introduction">1 Introduction</a></li>
<li><a id="toc-Features" href="#Features">2 Features</a>
<ul class="no-bullet">
  <li><a id="toc-4G-LTE" href="#g_t4G-LTE">2.1 4G LTE</a></li>
  <li><a id="toc-5G-NR" href="#g_t5G-NR">2.2 5G NR</a></li>
</ul></li>
<li><a id="toc-Requirements" href="#Requirements">3 Requirements</a>
<ul class="no-bullet">
  <li><a id="toc-Hardware-requirements" href="#Hardware-requirements">3.1 Hardware requirements</a></li>
  <li><a id="toc-Software-requirements" href="#Software-requirements">3.2 Software requirements</a></li>
</ul></li>
<li><a id="toc-Installation" href="#Installation">4 Installation</a>
<ul class="no-bullet">
  <li><a id="toc-Linux-setup" href="#Linux-setup">4.1 Linux setup</a>
  <ul class="no-bullet">
    <li><a id="toc-Packages" href="#Packages">4.1.1 Packages</a></li>
    <li><a id="toc-OpenSSL" href="#OpenSSL">4.1.2 OpenSSL</a></li>
  </ul></li>
  <li><a id="toc-Linux-setup-for-best-performance-1" href="#Linux-setup-for-best-performance-1">4.2 Linux setup for best performance</a></li>
  <li><a id="toc-RRH-setup-1" href="#RRH-setup-1">4.3 RRH setup</a>
  <ul class="no-bullet">
    <li><a id="toc-Amarisoft-PCIe-SDR" href="#Amarisoft-PCIe-SDR">4.3.1 Amarisoft PCIe SDR</a></li>
    <li><a id="toc-Ettus-Research-USRP" href="#Ettus-Research-USRP">4.3.2 Ettus Research USRP</a></li>
    <li><a id="toc-Lime-Microsystems-LimeSDR" href="#Lime-Microsystems-LimeSDR">4.3.3 Lime Microsystems LimeSDR</a></li>
  </ul></li>
  <li><a id="toc-LTEUE-installation" href="#LTEUE-installation">4.4 LTEUE installation</a>
  <ul class="no-bullet">
    <li><a id="toc-RRH-selection-1" href="#RRH-selection-1">4.4.1 RRH selection</a></li>
    <li><a id="toc-License-key-installation" href="#License-key-installation">4.4.2 License key installation</a></li>
  </ul></li>
  <li><a id="toc-Initial-testing" href="#Initial-testing">4.5 Initial testing</a></li>
  <li><a id="toc-5G-SA-initial-testing" href="#g_t5G-SA-initial-testing">4.6 5G SA initial testing</a></li>
  <li><a id="toc-Multiple-UE-case-1" href="#Multiple-UE-case-1">4.7 Multiple UE case</a></li>
  <li><a id="toc-Multiple-UE-case-with-Channel-Simulator-1" href="#Multiple-UE-case-with-Channel-Simulator-1">4.8 Multiple UE case with Channel Simulator</a></li>
  <li><a id="toc-Resources" href="#Resources">4.9 Resources</a>
  <ul class="no-bullet">
    <li><a id="toc-Amarisoft-eNB" href="#Amarisoft-eNB">4.9.1 Amarisoft eNB</a></li>
    <li><a id="toc-Amarisoft-MME" href="#Amarisoft-MME">4.9.2 Amarisoft MME</a></li>
  </ul></li>
</ul></li>
<li><a id="toc-Using-web-interface" href="#Using-web-interface">5 Using web interface</a>
<ul class="no-bullet">
  <li><a id="toc-Configuration" href="#Configuration">5.1 Configuration</a></li>
  <li><a id="toc-Scenario-tab" href="#Scenario-tab">5.2 Scenario tab</a>
  <ul class="no-bullet">
    <li><a id="toc-Create-scenario" href="#Create-scenario">5.2.1 Create scenario</a></li>
    <li><a id="toc-Create-UEs-tab" href="#Create-UEs-tab">5.2.2 Create UEs tab</a></li>
    <li><a id="toc-Power-on_002foff-tab" href="#Power-on_002foff-tab">5.2.3 Power on/off tab</a></li>
    <li><a id="toc-Simulations-tab" href="#Simulations-tab">5.2.4 Simulations tab</a>
    <ul class="no-bullet">
      <li><a id="toc-Internal-IP-simulations" href="#Internal-IP-simulations">5.2.4.1 Internal IP simulations</a></li>
      <li><a id="toc-External-application" href="#External-application">5.2.4.2 External application</a></li>
    </ul></li>
    <li><a id="toc-Export-scenario" href="#Export-scenario">5.2.5 Export scenario</a></li>
  </ul></li>
  <li><a id="toc-UE-tab" href="#UE-tab">5.3 UE tab</a>
  <ul class="no-bullet">
    <li><a id="toc-Actions" href="#Actions">5.3.1 Actions</a></li>
    <li><a id="toc-UE-list" href="#UE-list">5.3.2 UE list</a></li>
    <li><a id="toc-Statistics" href="#Statistics">5.3.3 Statistics</a></li>
  </ul></li>
  <li><a id="toc-Scenario-example" href="#Scenario-example">5.4 Scenario example</a></li>
  <li><a id="toc-Executing-scenario-tab" href="#Executing-scenario-tab">5.5 Executing scenario tab</a></li>
  <li><a id="toc-Example" href="#Example">5.6 Example</a></li>
</ul></li>
<li><a id="toc-Configuration-reference" href="#Configuration-reference">6 Configuration reference</a>
<ul class="no-bullet">
  <li><a id="toc-Configuration-file-syntax" href="#Configuration-file-syntax">6.1 Configuration file syntax</a>
  <ul class="no-bullet">
    <li><a id="toc-JSON-merge-rules-1" href="#JSON-merge-rules-1">6.1.1 JSON merge rules</a></li>
  </ul></li>
  <li><a id="toc-Global-properties" href="#Global-properties">6.2 Global properties</a></li>
  <li><a id="toc-Radio-driver-configuration-1" href="#Radio-driver-configuration-1">6.3 Radio driver configuration</a></li>
  <li><a id="toc-Cell-group-configuration-1" href="#Cell-group-configuration-1">6.4 Cell group configuration</a></li>
  <li><a id="toc-Cell-configuration-1" href="#Cell-configuration-1">6.5 Cell configuration</a></li>
  <li><a id="toc-UE-configuration-1" href="#UE-configuration-1">6.6 UE configuration</a>
  <ul class="no-bullet">
    <li><a id="toc-Virtual-USIM" href="#Virtual-USIM">6.6.1 Virtual USIM</a></li>
    <li><a id="toc-SIM-card-reader" href="#SIM-card-reader">6.6.2 SIM card reader</a></li>
    <li><a id="toc-UE-parameters" href="#UE-parameters">6.6.3 UE parameters</a>
    <ul class="no-bullet">
      <li><a id="toc-Common-parameters" href="#Common-parameters">6.6.3.1 Common parameters</a></li>
      <li><a id="toc-LTE-specific-parameters" href="#LTE-specific-parameters">6.6.3.2 LTE specific parameters</a></li>
      <li><a id="toc-NB_002dIoT-specific-parameters" href="#NB_002dIoT-specific-parameters">6.6.3.3 NB-IoT specific parameters</a></li>
      <li><a id="toc-NR-specific-parameters" href="#NR-specific-parameters">6.6.3.4 NR specific parameters</a></li>
    </ul></li>
    <li><a id="toc-Power-control" href="#Power-control">6.6.4 Power control</a></li>
    <li><a id="toc-RF-test-mode" href="#RF-test-mode">6.6.5 RF test mode</a></li>
  </ul></li>
  <li><a id="toc-Channel-simulator" href="#Channel-simulator">6.7 Channel simulator</a>
  <ul class="no-bullet">
    <li><a id="toc-Introduction-1" href="#Introduction-1">6.7.1 Introduction</a></li>
    <li><a id="toc-Per-cell-parameters" href="#Per-cell-parameters">6.7.2 Per cell parameters</a></li>
    <li><a id="toc-Per-UE-parameters" href="#Per-UE-parameters">6.7.3 Per UE parameters</a></li>
    <li><a id="toc-Known-limitations-and-implementation-details" href="#Known-limitations-and-implementation-details">6.7.4 Known limitations and implementation details</a></li>
  </ul></li>
</ul></li>
<li><a id="toc-CPU_002fCores-configuration" href="#CPU_002fCores-configuration">7 CPU/Cores configuration</a>
<ul class="no-bullet">
  <li><a id="toc-Hyperthreading" href="#Hyperthreading">7.1 Hyperthreading</a></li>
  <li><a id="toc-Core-restriction-cores" href="#Core-restriction-cores">7.2 Core restriction cores</a></li>
  <li><a id="toc-Affinity" href="#Affinity">7.3 Affinity</a></li>
  <li><a id="toc-Memory" href="#Memory">7.4 Memory</a></li>
</ul></li>
<li><a id="toc-Remote-API-1" href="#Remote-API-1">8 Remote API</a>
<ul class="no-bullet">
  <li><a id="toc-Messages" href="#Messages">8.1 Messages</a></li>
  <li><a id="toc-Startup" href="#Startup">8.2 Startup</a></li>
  <li><a id="toc-Errors" href="#Errors">8.3 Errors</a></li>
  <li><a id="toc-Sample-nodejs-program" href="#Sample-nodejs-program">8.4 Sample nodejs program</a></li>
  <li><a id="toc-Common-messages" href="#Common-messages">8.5 Common messages</a></li>
  <li><a id="toc-LTE-messages-1" href="#LTE-messages-1">8.6 LTE messages</a></li>
  <li><a id="toc-LTE-events" href="#LTE-events">8.7 LTE events</a></li>
  <li><a id="toc-IP-simulation-messages-1" href="#IP-simulation-messages-1">8.8 IP simulation messages</a>
  <ul class="no-bullet">
    <li><a id="toc-Common-message-definition" href="#Common-message-definition">8.8.1 Common message definition</a></li>
    <li><a id="toc-Common-response-definition" href="#Common-response-definition">8.8.2 Common response definition</a></li>
    <li><a id="toc-Definitions" href="#Definitions">8.8.3 Definitions</a></li>
    <li><a id="toc-Start-notification" href="#Start-notification">8.8.4 Start notification</a></li>
  </ul></li>
  <li><a id="toc-IP-simulation-examples" href="#IP-simulation-examples">8.9 IP simulation examples</a>
  <ul class="no-bullet">
    <li><a id="toc-IP-simulation-server-1" href="#IP-simulation-server-1">8.9.1 IP simulation server</a></li>
  </ul></li>
  <li><a id="toc-Examples" href="#Examples">8.10 Examples</a></li>
</ul></li>
<li><a id="toc-Command-line-monitor-reference" href="#Command-line-monitor-reference">9 Command line monitor reference</a></li>
<li><a id="toc-Remote-UE-1" href="#Remote-UE-1">10 Remote UE</a>
<ul class="no-bullet">
  <li><a id="toc-Configuration-1" href="#Configuration-1">10.1 Configuration</a></li>
</ul></li>
<li><a id="toc-UDC-configuration-reference-1" href="#UDC-configuration-reference-1">11 UDC configuration reference</a>
<ul class="no-bullet">
  <li><a id="toc-args-Configuration" href="#args-Configuration">11.1 args Configuration</a></li>
  <li><a id="toc-Debug" href="#Debug">11.2 Debug</a></li>
</ul></li>
<li><a id="toc-Log-file-format-1" href="#Log-file-format-1">12 Log file format</a>
<ul class="no-bullet">
  <li><a id="toc-PHY-layer" href="#PHY-layer">12.1 PHY layer</a></li>
  <li><a id="toc-MAC-and-RRC-layers" href="#MAC-and-RRC-layers">12.2 MAC and RRC layers</a></li>
  <li><a id="toc-RLC_002c-PDCP-and-NAS-layers" href="#RLC_002c-PDCP-and-NAS-layers">12.3 RLC, PDCP and NAS layers</a></li>
  <li><a id="toc-IP-layer" href="#IP-layer">12.4 IP layer</a></li>
</ul></li>
<li><a id="toc-Known-limitations" href="#Known-limitations">13 Known limitations</a></li>
<li><a id="toc-Change-history" href="#Change-history">14 Change history</a>
<ul class="no-bullet">
  <li><a id="toc-Version-2024_002d12_002d23" href="#Version-2024_002d12_002d23">14.1 Version 2024-12-23</a></li>
  <li><a id="toc-Version-2024_002d12_002d13" href="#Version-2024_002d12_002d13">14.2 Version 2024-12-13</a></li>
  <li><a id="toc-Version-2024_002d09_002d13" href="#Version-2024_002d09_002d13">14.3 Version 2024-09-13</a></li>
  <li><a id="toc-Version-2024_002d06_002d14" href="#Version-2024_002d06_002d14">14.4 Version 2024-06-14</a></li>
  <li><a id="toc-Version-2024_002d03_002d15" href="#Version-2024_002d03_002d15">14.5 Version 2024-03-15</a></li>
  <li><a id="toc-Version-2023_002d12_002d15" href="#Version-2023_002d12_002d15">14.6 Version 2023-12-15</a></li>
  <li><a id="toc-Version-2023_002d09_002d08" href="#Version-2023_002d09_002d08">14.7 Version 2023-09-08</a></li>
  <li><a id="toc-Version-2023_002d06_002d10" href="#Version-2023_002d06_002d10">14.8 Version 2023-06-10</a></li>
  <li><a id="toc-Version-2023_002d03_002d17" href="#Version-2023_002d03_002d17">14.9 Version 2023-03-17</a></li>
  <li><a id="toc-Version-2022_002d12_002d16" href="#Version-2022_002d12_002d16">14.10 Version 2022-12-16</a></li>
  <li><a id="toc-Version-2022_002d09_002d16" href="#Version-2022_002d09_002d16">14.11 Version 2022-09-16</a></li>
  <li><a id="toc-Version-2022_002d06_002d17" href="#Version-2022_002d06_002d17">14.12 Version 2022-06-17</a></li>
  <li><a id="toc-Version-2022_002d03_002d18" href="#Version-2022_002d03_002d18">14.13 Version 2022-03-18</a></li>
  <li><a id="toc-Version-2021_002d12_002d17" href="#Version-2021_002d12_002d17">14.14 Version 2021-12-17</a></li>
  <li><a id="toc-Version-2021_002d09_002d17" href="#Version-2021_002d09_002d17">14.15 Version 2021-09-17</a></li>
</ul></li>
<li><a id="toc-License" href="#License">15 License</a></li>

</ul>
</div>


<span id="Introduction"></span><h2 class="chapter">1 Introduction</h2>

<p>LTEUE is a LTE and NR UE simulator.<br>
It simulates one or more UEs (typically hundreds of UEs) by communicating through a RF system with eNodeB and core network.<br>
It allows to test LTE and NR procedures and to simulate a large number of
users on eNodeBs.<br>
It supports NR both in Standalone (SA) and Non-standalone (NSA) mode.<br>
It also supports connecting to a 5G core network through a ng-eNB.
</p>
<p>The LTEUE is connected to network via eNB through the air on one side.<br>
On the other side it can be managed using WebSocket and IP traffic may be reachable with a Linux TUN network interface.
</p>
<img src="img/ue_arch.webp" alt="img/ue_arch">

<span id="Features"></span><h2 class="chapter">2 Features</h2>

<ul class="no-bullet">
<li>- Simulate a large number of UEs sharing the same spectrum.

</li><li>- IP traffic simulator (ping, constant bitrate UDP, HTTP).

</li><li>- Remote API based on Websocket and JSON.

</li><li>- Command line monitor.

</li><li>- Access to external programs such as iPerf in tunnel interface mode with IPv6 support and automatic DNS configuration.

</li><li>- Includes PHY, MAC, RLC, PDCP, RRC and NAS layers.

</li><li>- Support of all ciphering and integrity protection algorithms including ZUC.

</li></ul>

<span id="g_t4G-LTE"></span><h3 class="section">2.1 4G LTE</h3>

<ul class="no-bullet">
<li>- LTE Release 8 support with features up to Release 17.

</li><li>- FDD/TDD support.

</li><li>- Bandwidths: 1.4, 3, 5, 10, 15 and 20 MHz.

</li><li>- MIMO DL support.

</li><li>- 1024QAM support in DL, 256QAM in UL.

</li><li>- MBMS support.

</li><li>- Category M1 support for FDD, HD-FDD and TDD.

</li><li>- NB-IoT support (category NB1/NB2) with multi-tone, multi-carrier and multi-DRB support.

</li><li>- Release 17 NTN support in NB-IoT.

</li><li>- Release 16 WUS support in NB-IoT and Cat-M1.

</li><li>- eDRX and PSM support.

</li><li>- Multi-UE fading channel simulator.

</li><li>- ETWS and CMAS support.

</li><li>- Semi-persistent scheduling (SPS) support.

</li><li>- TTI bundling support.

</li><li>- EPS user plane integrity support.

</li></ul>

<span id="g_t5G-NR"></span><h3 class="section">2.2 5G NR</h3>

<ul class="no-bullet">
<li>- Release 18 EN-DC support for 5G NSA mode.

</li><li>- Release 18 5G SA support.

</li><li>- FDD/TDD support.

</li><li>- Support of all FR1 carrier spacings for DL, UL and SSB.

</li><li>- Bandwidth up to 50 MHz or 100MHz depending on the product version.

</li><li>- Up to 8 DL MIMO layers.

</li><li>- Up to 4 UL MIMO layers.

</li><li>- 256QAM support in DL and UL, 1024QAM in DL.

</li><li>- Support of DCI formats 0-0, 0-1, 1-0 and 1-1.

</li><li>- Support of PUCCH formats 0, 1, 2, 3 and 4.

</li><li>- Periodic and aperiodic CSI reports.

</li><li>- Periodic and aperiodic SRS.

</li><li>- Multi-BWP support.

</li><li>- Carrier aggregation support (DL and UL CA).

</li><li>- Supplementary Uplink support.

</li><li>- ETWS and CMAS support.

</li><li>- RRC Inactive mode support.

</li><li>- eDRX, MICO and active time support.

</li><li>- Multi-UE fading channel simulator.

</li><li>- Release 17 NTN support.

</li><li>- Release 18 RedCap and eRedCap support.

</li></ul>

<span id="Requirements"></span><h2 class="chapter">3 Requirements</h2>

<span id="Hardware-requirements"></span><h3 class="section">3.1 Hardware requirements</h3>

<ul class="no-bullet">
<li>- A fast PC:

<ul class="no-bullet">
<li>- For best performances, a quad core Intel Core i7 CPU (Haswell
  architecture or later) is recommended. Support of the AVX2 instruction set
  extension is required to run the software.

</li><li>- At least 1 Gigabit Ethernet ports.

</li><li>- At least 2 GB of RAM.

</li><li>- At least 1 GB of hard disk space.

</li><li>- The video adapter does not matter.

</li></ul>

</li><li>- Radio front end

<ul class="no-bullet">
<li>- Amarisoft PCIe SDR

</li><li>- Ettus Research USRP N2x0 (SBX daughterboard). For MIMO 2x2, a second N2x0
    with the SBX daughterboard and a USRP MIMO cable are needed.

</li><li>- Ettus Research USRP B2x0.

</li><li>- Ettus Research USRP X3x0.

</li><li>- Lime Microsystem LimeSDR
  </li></ul>


</li><li>- Appropriate antennas for the intended LTE frequencies
or cables and attenuators to connect to a UE.

</li><li>- An eNodeB connected to a LTE Core Network must be available to communicate.
</li></ul>

<span id="Software-requirements"></span><h3 class="section">3.2 Software requirements</h3>

<ul>
<li> A 64 bit Linux distribution. Fedora 39 is the officially supported distribution.<br>
The following distributions are known as compatible:
<ul>
<li> Fedora 22 to 39
</li><li> Cent OS 7
</li><li> Ubuntu 14 to 22
</li></ul>

<p>Your system requires at least GLIBC 2.17.
</p>

<p>Other distributions can be used provided the radio frontend drivers are available for them.<br>
</p>
</li></ul>


<span id="Installation"></span><h2 class="chapter">4 Installation</h2>

<span id="Linux-setup"></span><h3 class="section">4.1 Linux setup</h3>

<span id="Packages"></span><h4 class="subsection">4.1.1 Packages</h4>

<p>The Remote UE feature of LTEUE uses the SCTP protocol for which the necessary
packages are not usually installed. In order to install them, do as
root user:
</p>
<ul>
<li> Fedora
<div class="example">
<pre class="example">dnf install lksctp-tools kernel-modules-extra
</pre></div>

</li><li> Ubuntu
<div class="example">
<pre class="example">sudo apt-get install lksctp-tools linux-image-extra-3.13.0-24-generic
</pre></div>

<p>Note that linux-image-extra package name may differ depending on your kernel version.
</p>
</li></ul>

<p>To verify that SCTP kernel module is running, do as root user:
</p><div class="example">
<pre class="example">checksctp
</pre></div>
<p>If it reports that the protocol is not supported,
</p><ul>
<li> check if you have a /etc/modprobe.d/sctp-blacklist.conf file
</li><li> edit it to comment the &rsquo;blacklist sctp&rsquo; line
</li></ul>

<p>Then reboot the PC in case the Linux kernel was upgraded too.
</p>

<span id="openssl"></span><span id="OpenSSL"></span><h4 class="subsection">4.1.2 OpenSSL</h4>


<p>LTEUE has been compiled against openssl version 1.1.1w.<br>
If your system does not have compatible version installed you may have this error message at startup:
</p><div class="example">
<pre class="example">error while loading shared libraries: libssl.so.1.1: cannot open shared object file: No such file or directory
</pre></div>

<p>To overcome this problem, you may:
</p><ul>
<li> Copy libssl.so.1.1 and libcrypto.so.1.1 from
<code>libs</code> subdirectory of your release tarball.<br>
If you have installed software with automatic install script, this should have been done automatically.



</li><li> Compile and install proper openssl version yourself

</li></ul>

<p>In case of persisting issue, raise a ticket from our support site at <a href="https://support.amarisoft.com/">https://support.amarisoft.com/</a>
with the information provided by below commands executed in LTEUE directory:
</p><div class="example">
<pre class="example">uname -a
ls -l
ldd ./lteue
openssl version
</pre></div>



<span id="Linux-setup-for-best-performance"></span><span id="Linux-setup-for-best-performance-1"></span><h3 class="section">4.2 Linux setup for best performance</h3>

<p>LTEUE requires a lot of CPU power and it has hard real time
requirements (a maximum latency of 3 ms is required).
</p>
<p>In order to get the lowest latency, it is recommended to set up the
<code>performance</code> frequency governor for each CPU core. An example is
included in the <samp>lte_init.sh</samp> script given with LTEUE.
</p>
<p>Some buggy drivers are known to block the CPU during a few tens of
ms. When it happens, LTEUE displays <code>UHD status: L=X U=Y
S=Z</code>. One known problem is the DRM KMS cable polling. The script
<samp>lte_init.sh</samp> disables it automatically.
</p>
<p>Other drivers such as Wifi controllers can give the same problem. In
order to avoid such problems, remove all unnecessary peripherals from
the PC.
</p>


<span id="RRH-setup"></span><span id="RRH-setup-1"></span><h3 class="section">4.3 RRH setup</h3>

<p>Please refer to sub section of your radio frontend to set it up.<br>
When configured, you will have to select it (See <a href="#RRH-selection">RRH selection</a>).
</p>
<span id="Amarisoft-PCIe-SDR"></span><h4 class="subsection">4.3.1 Amarisoft PCIe SDR</h4>

<p>Read the PCIe SDR documentation (<samp>trx_sdr.pdf</samp>).
</p><span id="Ettus-Research-USRP"></span><h4 class="subsection">4.3.2 Ettus Research USRP</h4>

<p>Read the UHD Compatible RF frontends documentation (<samp>trx_uhd.pdf</samp>).
</p>
<span id="Lime-Microsystems-LimeSDR"></span><h4 class="subsection">4.3.3 Lime Microsystems LimeSDR</h4>

<p>Use LimeSuiteNG software suite located at <a href="https://github.com/myriadrf/LimeSuiteNG">https://github.com/myriadrf/LimeSuiteNG</a>, which contains Amarisoft plugin.
During build it creates the needed trx_limesuite.so (build directory) file, which can be sim linked or copy pasted.
</p>

<span id="LTEUE-installation"></span><h3 class="section">4.4 LTEUE installation</h3>

<p>Decompress the LTEUE archive to a convenient place. The executable lteue can be launched from this directory.
</p>
<span id="RRH-selection"></span><span id="RRH-selection-1"></span><h4 class="subsection">4.4.1 RRH selection</h4>

<p>To select appropriate RF frontend to use, please execute following command:
</p>
<div class="example">
<pre class="example">./config/rf_select.sh &lt;type&gt;
</pre></div>

<p>Where <code>type</code> is your frontend type:
</p><ul>
<li> sdr
</li><li> n2x0
</li><li> b2x0
</li><li> n3x0
</li><li> x3x0
</li><li> limeMini
</li><li> limeSDR
</li></ul>

<p>NB: you can lanch following command to see available frontends:
</p><div class="example">
<pre class="example">./config/rf_select.sh
</pre></div>


<span id="License-key-installation"></span><h4 class="subsection">4.4.2 License key installation</h4>

<p>LTEUE needs a license key file to run.
<em>It is associated to your PC, so if you replace
it or change its hardware configuration you must
contact Amarisoft to get a new license key</em>.
</p>
<p>The following steps are needed to get this license file:
</p>
<ul>
<li> Run LTEUE:

<div class="example">
<pre class="example">./lteue config/ue.cfg
</pre></div>

<p>It says that the license key is not present and prints a 16 digit
hexadecimal code.
</p>
</li><li> Send by mail to <code>delivery@amarisoft.com</code> this hexadecimal code to your contact at Amarisoft.
You will get back the <samp>lteue.key</samp> license key file.

</li><li> Copy the <samp>lteue.key</samp> file to the <samp>${HOME}/.amarisoft/</samp> directory (<code>${HOME}</code> is the home directory of the <code>root</code> user). You can use the shell variable <code>AMARISOFT_PATH</code> to change this path.

</li></ul>

<p>Once the license key is installed, lteue should start
normally.
</p>

<span id="Initial-testing"></span><h3 class="section">4.5 Initial testing</h3>

<p>First update <code>config/ue.cfg</code> configuration file to match your eNB frequency and bandwidth
by editing:
</p><ul class="no-bullet">
<li>- dl_earfcn
</li><li>- sample_rate
</li></ul>
<p>Look at ue_list section to match UE SIM parameters on MME side.
</p>
<p>Check your eNB is running.
</p>
<p>Start the LTEUE software as <code>root</code> user.
<code>root</code> privileges are needed to use real time scheduling
priority.
</p>
<div class="example">
<pre class="example">./lteue config/ue.cfg
</pre></div>

<p>You should see <code>SIB found</code> message displayed.
</p>
<p>Type <code>ue</code> in the monitor, you should see list of UEs with their states.
</p>
<p>If UE has been able to register to network, its <code>EMM_STATE</code> should be <code>registered</code>.
</p>
<p>If not, look at logs on both UE and eNB/MME side.
</p>
<span id="g_t5G-SA-initial-testing"></span><h3 class="section">4.6 5G SA initial testing</h3>
<p>Update <code>config/ue-nr-sa.cfg</code> configuration file to match your gNB frequency, bandwidth and numerology by editing:
</p><ul class="no-bullet">
<li>- dl_nr_arfcn
</li><li>- ssb_nr_arfcn
</li><li>- bandwidth
</li><li>- subcarrier_spacing
</li></ul>

<p>Look at ue_list section to match UE SIM parameters on AMF side.
</p>
<p>Check your gNB is running.
</p>
<p>Start the LTEUE software as <code>root</code> user.
<code>root</code> privileges are needed to use real time scheduling
priority.
</p>
<div class="example">
<pre class="example">./lteue config/ue-nr-sa.cfg
</pre></div>

<p>You should see <code>SIB found</code> message displayed.
If the gNB is not running, the message <code>TRX discontinuity too wide</code> might appear.<br>
Type <code>ue</code> in the monitor, you should see list of UEs with their states.
</p>
<span id="Multiple-UE-case"></span><span id="Multiple-UE-case-1"></span><h3 class="section">4.7 Multiple UE case</h3>

<p>To activate the simulation of multiple UEs, the parameter <code>multi_ue</code> should be set to <code>true</code>. In this mode, UE simulator may have difficulties to synchronize with eNB signal. If such a case occurs, you should see that UE is able to receive SIBs but further communications fails with bad CRC on physical layer. <br>
This means that you should adjust the parameter <code>global_timing_advance</code> (See <a href="#global_005ftiming_005fadvance">global_timing_advance</a>) in your configuration file.
The <code>global_timing_advance</code> parameter can be set automatically by using the special value -1 (<code>global_timing_advance:-1</code>). If automatic mode is set, the UE simulator uses the timing advance from the first received RAR for all UEs. This is the default behaviour.
</p>
<p>You can also manually adjust the timing advance for all UEs in case you still experience CRC erros with automatic mode. You can check TA value on eNB side and
set it to minus 1 in UE <br> (global_timing_ advance = TA[enb] - 1). if you are using simulator with Amarisoft eNB/gNB, you can type <code>t</code> at eNB/gNB screen and look at PRACH traces.
</p>
<p>Then, use <code>ta</code> value minus one as <code>global_timing_advance</code>.
</p>
<div class="example">
<pre class="example">PRACH: cell=01 seq=17 ta=2 snr=18.5 dB
PRACH: cell=01 seq=22 ta=2 snr=18.0 dB
PRACH: cell=01 seq=23 ta=2 snr=18.5 dB
PRACH: cell=01 seq=29 ta=3 snr=17.6 dB
</pre></div>

<p>In this example, adjust <code>global_timing_advance</code> to 1.
</p>
<p>If you are using another eNB and you do not have access to eNB logs and information, you can enable the PHY and MAC layer logs in UE simulator and look for <code>ta</code> value in MAC traces
</p><div class="example">
<pre class="example">12:13:37.086 [MAC] -  0001 ta=13 ul_grant=128768 c_rnti=0x0047

</pre></div>
<p>In this example, you should set the <code>global_timing_advance</code> to 12.
</p>
<p>If all the simulated UEs are expected to share the same timing advance and if this timing advance will likely need further adjustments (moving UEs, NGSO NTN scenario, ...)
the parameter <code>apply_ta_commands</code> can be set to apply the TA commands received by the network. The <code>apply_ta_commands</code> parameter is supported only in NB-IoT and NR.
</p>
<p>To summarize:
</p><ul>
<li> <code>apply_ta_commands</code> set to true: the UE simulator can change the timing advance of ALL UEs upon reception of the RAR and TA commands during the runtime
</li><li> <code>global_timing_advance</code> set to -1: the UE simulator can change the timing advance of ALL UEs only ONCE, upon reception of the first RAR
</li><li> <code>global_timing_advance</code> set to a &lt;value&gt;: the UE simulator statically fixes the timing advance of ALL UEs at start-up and the it is never adjusted
</li></ul>

<span id="Multiple-UE-case-with-Channel-Simulator"></span><span id="Multiple-UE-case-with-Channel-Simulator-1"></span><h3 class="section">4.8 Multiple UE case with Channel Simulator</h3>

<p>In multi_ue mode, because all UEs share the same physical layer, the timing advance cannot be adjusted independently for each UE. 
However, this can be achieved by using the <a href="#Channel-Simulator">Channel Simulator</a> with the parameter <a href="#delay_005fsim">delay_sim</a> set to true.
</p>
<p>With <code>delay_sim</code>, a different timing advance for each UE can be simulated by applying a cycling shift on each UE uplink signal.   It assumes that the all timing advances stay in a certain range, the center of this range is set either by the first received RAR  or by the value of global_timing_advance.
</p>
<p>When <code>delay_sim</code> is set to true, the <code>apply_ta_command</code> is not applicable.
</p>
<span id="Resources"></span><h3 class="section">4.9 Resources</h3>

<p>When using a big amount of UE (&gt; 32), you need to check in your eNB and MME
configurations that enough resources are available.
</p>
<span id="Amarisoft-eNB"></span><h4 class="subsection">4.9.1 Amarisoft eNB</h4>

<p>If your are using Amarisoft eNB for your simulation, you may need to increase
SRS resources so that your UE can simultaneously connect to eNB.
</p>
<p>You can check you are running into this issue if you find such message in your eNB log file:
</p><div class="example">
<pre class="example">11:44:06.533 [RRC] -  01 005d RRC connection request: ue_allocate_resources() fail
</pre></div>

<p>Please take a look at <code>srs_dedicated</code> parameter in eNB documentation.
</p>
<p>Here is an example to allow more than 1000 UE on eNB:
</p>
<pre class="verbatim">srs_dedicated: {
    srs_period: 320,
    srs_bandwidth: 3,
    srs_hopping_bandwidth: 0,
    cyclic_shift: 0,
},
</pre>
<p>Depending on the number of UEs simulated, you may also need to provision enough resources for SR (Scheduling Request) and CQI (Channel Quality Indicator) reporting. One way of checking if all your resources are available, is to take a look at the eNB log. In the header part, you always see the following information: <br>
<code>
<br>
# SR resource count=480 <br>
# CQI resource count=960 <br>
# SRS resources: offsets=32 freqs=10 total=640 <br>
<br>
</code>
In this example, the eNB has SR resources to serve 480 UEs, CQI resources to serve 960 UEs and SRS resources for 640 UEs. You can increase the SR resources by increasing the value of <code>sr_period</code>. The CQI resources could as well be increased by reducing its periodicity <code>cqi_period</code>. Depending on the number of UEs that you would like to simulate, you may as well need to increase the following parameters in SIB2:
</p><ul>
<li> <code>n1PUCCH-AN</code> to add more RB (Resource Blocks) for SR
</li><li> <code>preambleTransMax</code> to increase the number of retries after PRACH collision
</li></ul>

<span id="Amarisoft-MME"></span><h4 class="subsection">4.9.2 Amarisoft MME</h4>

<p>If your are using Amarisoft MME for your simulation, you may need to increase
IP allocation range so that your UE can simultaneously connect to network.
</p>
<p>You can check you are running into this issue if you find such message in your MME log file:
</p><div class="example">
<pre class="example">11:47:54.643 [NAS] -  0041 Can't allocate new IPv4 address
</pre></div>

<p>Please take a look at <code>first_ip_addr</code>, <code>last_ip_addr</code> and <code>ip_addr_shift</code>
parameter in eNB documentation.
</p>
<p>Here is an example to allow more than 1000 UE on MME:
</p>
<pre class="verbatim">      first_ip_addr: &quot;192.168.4.2&quot;,
      last_ip_addr: &quot;192.168.7.254&quot;,
      ip_addr_shift: 0,
</pre>
<p>Please make sure to change the <code>net_mask</code> in <code>mme-ifup</code> script as well to go with your IP allocation range.
</p>
<span id="Using-web-interface"></span><h2 class="chapter">5 Using web interface</h2>

<p>You can configure your UEs and test scripts using configuration file or you can dynamically
use remote API.
As an example, the Amarisoft Web interface will allow you to make basic tests.
</p>
<span id="Configuration"></span><h3 class="section">5.1 Configuration</h3>

<p>First enable remote API by setting <code>com_addr</code> in configuration file.<br>
</p>
<p>If you want to add UEs, you also need to enable <code>multi_ue</code>.
</p>
<p>Then, on Web interface, click on <code>Add server</code> button and set UE <code>com_addr</code>
</p>
<img src="img/gui_lteue_00.webp" alt="img/gui_lteue_00">

<p>When Web interface is connected, you should see a green lightning icon on left panel,
logs displayed on center panel and a two new tabs on top:<br>
<code>UE Scenario</code> will be used to define scenarii.<br>
<code>UE Simulator</code> is to control your UE simulator instance.
</p>
<img src="img/gui_lteue_01.webp" alt="img/gui_lteue_01">

<span id="Scenario-tab"></span><h3 class="section">5.2 Scenario tab</h3>


<span id="Create-scenario"></span><h4 class="subsection">5.2.1 Create scenario</h4>

<p>Click on the <code>UE Scenario</code> tab.<br>
Click on <code>Add</code> button and select <code>New scenario</code>.<br>
The scenario panel will be displayed on right.<br>
After modification, click on <code>Apply changes</code> to commit them.
</p>

<img src="img/gui_lteue_02.webp" alt="img/gui_lteue_02">


<span id="Create-UEs-tab"></span><h4 class="subsection">5.2.2 Create UEs tab</h4>

<p>You will then define for the UE that will be created their configuration:
</p>
<dl compact="compact">
<dt><code>Count</code></dt>
<dd><p>Number of UE to create.<br>
  If set to 0, the scenario shall only be applied to an already created UE.
</p>
</dd>
<dt><code>IMSI</code></dt>
<dd><p>IMSI of each UE.<br> 
  To differentiate each UE, the special character $ or <code>${f(i)}</code> can be added.<br>
  $ will be replaced by the UE index and <code>${f(i)}</code> will be replaced by the result of the mathematical formula <code>f(i)</code> where <code>i</code> is the UE index. Ex: <code>${i+64}</code><br>
  NB: if IMSI are all the same, your MME must support it (For Amarisoft MME, check that
  <code>multi_sim</code> parameter is true).
</p>
</dd>
<dt><code>RAT</code></dt>
<dd><p>RAN technology of the UE: either LTE, NB-IoT, LTE + NR (5G NSA) or NR (5G SA).
</p>
</dd>
<dt><code>category</code></dt>
<dd><p>UE category. This field is not present in NR SA.
</p>
</dd>
<dt><code>Forced RI</code></dt>
<dd><p>Forces RI return by UE to base station. If set to 0, UE will estimate it.<br>
  We recommend to force it to 2 when UE category is &gt; 2.
</p>
</dd>
<dt><code>Forced CQI</code></dt>
<dd><p>Forces CQI return by UE to base station. If set to 0, UE will estimate it.<br>
  We recommend to force it to when UE category is &gt; 2.
</p>
</dd>
<dt><code>K</code></dt>
<dd><p>USIM secret. As for IMSI, $ or <code>${f(i)}</code> can be used.
</p>
</dd>
<dt><code>OP</code></dt>
<dd><p>USIM OP. Only available for milenage. As for IMSI, $ or <code>${f(i)}</code> can be used. Configure either OP or OPc.
</p>
</dd>
<dt><code>OPc</code></dt>
<dd><p>USIM OPc. Only available for milenage. As for IMSI, $ or <code>${f(i)}</code> can be used. Configure either OP or OPc.
</p>
</dd>
<dt><code>Algo</code></dt>
<dd><p>USIM Algo. Can be XOR or milenage.
</p>
</dd>
<dt><code>Type</code></dt>
<dd><p>Allow to select simulation mode between default simulation, tunnel interface mode
  and remote UE mode.<br>
</p>
</dd>
<dt><code>Setup script</code></dt>
<dd><p>Used with tunnel interface mode and remote UE mode as <code>tun_setup_script</code> parameter
</p>
</dd>
<dt><code>Remote address</code></dt>
<dd><p>Used with remote UE mode as <code>rue_addr</code>.
</p>

</dd>
</dl>



<span id="Power-on_002foff-tab"></span><h4 class="subsection">5.2.3 Power on/off tab</h4>

<p>If <code>Power on/off</code> is checked, simulation will generate on and off period for each UE
and place inside each on period defined simulations.<br>
Scenario will try to put as many simulation as possible, depending on parameters.
</p>

<dl compact="compact">
<dt><code>Duration</code></dt>
<dd><p>Duration of the simulation in seconds.<br>
  All simulations and power off/on commands will be over before this duration.<br>
  If can be seen as the maximum simulation duration.
</p>
</dd>
<dt><code>Connection attempts/s</code></dt>
<dd><p>Number of maximum UE connection attempt per second.
</p>
</dd>
<dt><code>Max simultaneous connected UE</code></dt>
<dd><p>Maximum number of simultaneously connected UE.<br>
  Simulation will avoid any power on until this limit is reached, in other words,
  next power on will occur after new power off.
</p>
</dd>
<dt><code>Power on duration</code></dt>
<dd><p>Duration in seconds of power on period. UE will remain powered on during this time
  and them will power off, allowing a new UE to connect.
</p>
</dd>
<dt><code>Power off duration</code></dt>
<dd><p>Minimum duration in seconds of power off period. When powered off, a UE will remain powered
  off at least this time before being candidate to power on again.
</p></dd>
</dl>



<span id="Simulations-tab"></span><h4 class="subsection">5.2.4 Simulations tab</h4>

<p>The simulation allow you to create different type of IP traffic simulation.<br>
You can add several simulation per scenario.<br>
Each simulation will be placed inside each power on period of each UE.
</p>
<p>Click on add button and select simulation type:
</p>
<img src="img/gui_lteue_03.webp" alt="img/gui_lteue_03">

<p>The following parameters apply to all simulations:
</p>
<dl compact="compact">
<dt><code>Start delay</code></dt>
<dd><p>Script start delay in seconds.<br>
  If power off/on procedure is not activated, script starts after this delay.
  If power on/off procedure is activated, you should always set a delay as power
  on procedure may take a while unless it is what you want to do.
</p>
</dd>
<dt><code>Duration</code></dt>
<dd><p>Duration of the script in seconds.
</p>
</dd>
</dl>


<span id="Internal-IP-simulations"></span><h4 class="subsubsection">5.2.4.1 Internal IP simulations</h4>

<p>You can choose the following simulations:
</p>
<dl compact="compact">
<dt><code>ICMP Ping</code></dt>
<dd><p>Perform ICMP Ping request.
</p>
</dd>
<dt><code>UDP</code></dt>
<dd><p>Send UDP constant bitrate traffic.
</p>
</dd>
<dt><code>RTP</code></dt>
<dd><p>Send RTP constant bitrate traffic.
</p>
</dd>
<dt><code>VOIP</code></dt>
<dd><p>Simulate voice RTP traffic using statistical model.
</p>
</dd>
<dt><code>Flood</code></dt>
<dd><p>Send UDP packet burst
</p>
</dd>
<dt><code>HTTP transfert</code></dt>
<dd><p>Send HTTP requests.
</p>
</dd>
<dt><code>Application</code></dt>
<dd><p>Launches an external application.<br>
  Note that TUN mode must be enabled on UE.
</p>
</dd>
</dl>




<p>For more detail on configuration, See <a href="#IP-simulation-messages">IP simulation messages</a>.
</p>

<span id="External-application"></span><h4 class="subsubsection">5.2.4.2 External application</h4>

<p>You can replace predefined simulation by a custom application.<br>
For this, choose <code>Application</code> in IP simulation list.
See <a href="#ext_005fapp">ext_app</a> for its configuration.
</p>
<p>When started, the external application will fork a process and
return its standard output and error.
</p>
<p>To handle dedicated application, please take a look at <code>libsim_custom.js</code>
file in <code>LTEWWW</code> component.<br>
You can add specific result handler using <code>tag</code> for association.
</p>
<p>Note that it requires associated UE to be configured in tunnel mode
or with remote UE mode and thus IP simulations can&rsquo;t be mixed.
</p>

<span id="Export-scenario"></span><h4 class="subsection">5.2.5 Export scenario</h4>

<p>The <code>Export</code> will generate json config file that you can directly
integrate in your UE configuration file.<br>
Thus, you can start several time same scenario directly from command line.
</p>

<span id="UE-tab"></span><h3 class="section">5.3 UE tab</h3>


<p>When selecting UE tab, several area are displayed.
</p>
<ul>
<li> One to perform actions
</li><li> One for UE list that allows you to perform action and it
</li><li> One with various real time charts providing informations
</li></ul>

<img src="img/gui_lteue_04.webp" alt="img/gui_lteue_04">

<span id="Actions"></span><h4 class="subsection">5.3.1 Actions</h4>

<p><code>Refresh</code> button will force refresh of UE list. Else it is done regularly and refresh
period is defined by the number field on the right.
</p>
<p><code>Start</code> button will allow you to start predefined scenario.<br>
Note that only scenario that create UEs will be proposed.
</p>
<p><code>Stop</code> button will stop any pending simulation on UE simulator.
</p>


<span id="UE-list"></span><h4 class="subsection">5.3.2 UE list</h4>

<p>The UE list displays list of UE and their state.<br>
You can click on the first icon to power on and off UE.<br>
Right click on any UE to perform more actions:
</p><ul>
<li> Power on/off
</li><li> Connect pdn: enter APN for PDN to connect
</li><li> Scenario: apply scenario on this UE (Only scenario without UE creation can be used).
</li></ul>




<span id="Statistics"></span><h4 class="subsection">5.3.3 Statistics</h4>

<p>Here you can find some general real time statistics.
</p>


<span id="Scenario-example"></span><h3 class="section">5.4 Scenario example</h3>

<ul>
<li> First create a scenario in <code>UE scenario</code> tab and call it <code>My first test</code>.<br>

</li><li> Select <code>Simulations</code> tab and add ICMP ping:<br>
<img src="img/gui_lteue_05.webp" alt="img/gui_lteue_05">

</li><li> Click on <code>Apply changes</code>

</li><li> Go to <code>UE Simulator tab</code>.

</li><li> Click on red icon to power on UE and right click on UE:<br>
<img src="img/gui_lteue_06.webp" alt="img/gui_lteue_06">

</li><li> Select <code>My first test</code>. A new tab is created to follow scenario.

</li><li> Select scenario tab<br>

</li></ul>


<span id="Executing-scenario-tab"></span><h3 class="section">5.5 Executing scenario tab</h3>

<img src="img/gui_lteue_07.webp" alt="img/gui_lteue_07">

<p>Following buttons are available:
</p><ul>
<li> Reset will flush logs
</li><li> Retry will start scenario again
</li><li> Stop will stop current scenario
</li><li> Export will export in a CSV file scenario results
</li></ul>


<span id="Example"></span><h3 class="section">5.6 Example</h3>

<p>Let&rsquo;s try the following exercise:
</p><ul>
<li> 100 UE have to be connected simultaneously.
  </li><li> 20 UE will connect every second.
  </li><li> Each UE will stay connected 10s
  </li><li> Each UE can&rsquo;t be powered of less than 10s
  </li><li> Scenario will last 1 minute.
  </li><li> UE will perform HTTP transfer and pings.
</li></ul>

<p>Let&rsquo;s create a new scenario.<br>
First, we need to estimate the amount of necessary UE.<br>
If we set only 100 UE:
</p><ul>
<li> The first one will connect at t=0s and disconnect at t=10s
  </li><li> The last one will connect at t=5s (100 UE will take 5s to connect at 20 caps).
  </li><li> From t=10s, UE will start to disconnect but there will be no non connected
  remaining UE to connect again as UE have to stay disconnected at least 10s.
</li></ul>

<p>This implies between t=10s and t=20s, total amount of connected UE will decrease to 0 at t=20s.
As a result:
</p>
<img src="img/gui_lteue_20.webp" alt="img/gui_lteue_20">

<p>So what can we do ?<br>
We can reduce power off duration but this will imply all UE will stay disconnected 0s !<br>
And we can increase the amount of UE to have a constant pool of disconnected UE.<br>
</p>
<p>Let&rsquo;s do this:
</p>
<img src="img/gui_lteue_21.webp" alt="img/gui_lteue_21">

<p>Then we can add our scripts:
</p>
<img src="img/gui_lteue_22.webp" alt="img/gui_lteue_22">

<p>With this configuration, HTTP transfer will last 6s.<br>
As power on duration is 10s, it means HTTP transfer will start 2s after power on
and will stop 2s before power off.
</p>
<p>Take a look at URL: <code>http://192.1.168.4.1:8080/data?size=10000</code>
</p>
<p>This URL will be interpreted by <code>ltesim_server</code> embedded HTTP server as a transfer of 10000 byte(s).
</p>
<p>Note that <code>ltesim_server</code> must be started with HTTP server enabled:
</p>
<div class="example">
<pre class="example">sudo ./ltesim_server -a 192.168.4.1 -H 8080
</pre></div>

<p>Then add ping
</p>
<img src="img/gui_lteue_23.webp" alt="img/gui_lteue_23">

<p>And start it
</p>
<img src="img/gui_lteue_24.webp" alt="img/gui_lteue_24">


<span id="Configuration-reference"></span><h2 class="chapter">6 Configuration reference</h2>

<span id="Configuration-file-syntax"></span><h3 class="section">6.1 Configuration file syntax</h3>

<p>The main configuration file uses a syntax very similar to the
Javascript Object Notation (JSON) with few extensions.
</p>
<ol>
<li> Supported types:

<ul class="no-bullet">
<li>- Numbers (64 bit floating point). Notation: <code>13.4</code>
</li><li>- Complex numbers. Notation: <code>1.2+3*I</code>
</li><li>- Strings. Notation: <code> &quot;string&quot; </code>
</li><li>- Booleans. Notation: <code>true</code> or <code>false</code>.
</li><li>- Objects. Notation: <code> { field1: <var>value1</var>, field2: <var>value2</var>, .... } </code>
</li><li>- Arrays. Notation: <code> [ <var>value1</var>, <var>value2</var>, .... ] </code>
</li></ul>

</li><li> The basic operations <code>+</code>, <code>-</code>, <code>*</code> and <code>/</code> are
supported with numbers and complex numbers. <code>+</code> also concatenates
strings. The operators <code>!</code>, <code>||</code>, <code>&amp;&amp;</code>, <code>==</code>,
<code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>&gt;</code> are supported too.

</li><li> The numbers <code>0</code> and <code>1</code> are accepted as synonyms for the
boolean values <code>false</code> and <code>true</code>.

</li><li> {} at top level are optional.

</li><li> &quot; for property names are optional, unless the name starts with a number.

</li><li> Properties can be duplicated.<br>
If properties are duplicated, they will be merged following <a href="#JSON-merge-rules">JSON merge rules</a> with overriding
occuring in reading direction (last overrides previous).<br>
Ex:
<pre class="verbatim">{
    value: &quot;foo&quot;,
    value: &quot;bar&quot;,
    sub: {
        value: &quot;foo&quot;
    },
    sub: {
        value: &quot;bar&quot;
    }
}
</pre><p>Will be equivalent to:
</p><pre class="verbatim">{
    value: &quot;bar&quot;,
    sub: {
        value: &quot;bar&quot;
    }
}
</pre>


</li><li> Files can be included using <var>include</var> keyword (must not be quoted) followed by a string (without :) representing the file to include (path is relative to current file) and terminating by a comma.<br>
Arrays can&rsquo;t be included.<br>
Merge will be done as for duplicate properties.<br>
If <var>file1.cfg</var> is:
<pre class="verbatim">    value: &quot;foo&quot;,
    include &quot;file2.cfg&quot;,
    foo: &quot;foo&quot;
</pre><p>And <var>file2.cfg</var> is:
</p><pre class="verbatim">    value: &quot;bar&quot;,
    foo: &quot;bar&quot;
</pre><p>Final config will be:
</p><pre class="verbatim">{
    value: &quot;bar&quot;,
    foo: &quot;foo&quot;
}
</pre>
</li><li> A C like preprocessor is supported. The following preprocessor commands are available:
  <dl compact="compact">
<dt><code>#define <var>var</var> <var>expr</var></code></dt>
<dd><p>Define a new variable with value <var>expr</var>. <var>expr</var> must be a
  valid JSON expression. Note that unlike the standard C preprocessor,
  <var>expr</var> is evaluated by the preprocessor.
  </p></dd>
<dt><code>#undef <var>var</var></code></dt>
<dd><p>Undefine the variable <var>var</var>.
  </p></dd>
<dt><code>#include <var>expr</var></code></dt>
<dd><p>Include the file whose filename is the evaluation of the string
  expression <var>expr</var>.
  </p></dd>
<dt><code>#if <var>expr</var></code></dt>
<dd><p>Consider the following text if <var>expr</var> is true.
  </p></dd>
<dt><code>#else</code></dt>
<dd><p>Alternative of <code>#if</code> block.
  </p></dd>
<dt><code>#elif</code></dt>
<dd><p>Composition of <code>#else</code> and <code>#if</code>.
  </p></dd>
<dt><code>#endif</code></dt>
<dd><p>End of <code>#if</code> block.
  </p></dd>
<dt><code>#ifdef <var>var</var></code></dt>
<dd><p>Shortcut for <code>#if defined(var)</code>
  </p></dd>
<dt><code>#ifndef <var>var</var></code></dt>
<dd><p>Shortcut for <code>#if !defined(var)</code>
  </p></dd>
</dl>

<p>In the JSON source, every occurrence of a defined preprocessor
  variable is replaced by its value.
</p>
</li><li> Backquote strings: JSON expression can be inserted in backquote delimited strings with the <code>${expr}</code> syntax. Example: <code>`abc${1+2}d`</code> is evaluated as the string <code>&quot;abc3d&quot;</code>. Preprocessor variables can be used inside the expression. Backquote strings may span several lines.

</li></ol>


<span id="JSON-merge-rules"></span><span id="JSON-merge-rules-1"></span><h4 class="subsection">6.1.1 JSON merge rules</h4>

<p>Merge overriding direction depends on context, i.e source may override destination or the opposite.<br>
JSON merge is recursive for Objects and Arrays.<br>
</p>
<p>Example, merging
</p><pre class="verbatim">{
    foo: { value: &quot;bar&quot; },
    same: &quot;one&quot;,
    one: 1
}
</pre><p>with
</p><pre class="verbatim">{
    foo: { value: &quot;none&quot;, second: true },
    same: &quot;two&quot;,
    two: 1
}
</pre>
<p>Will become:
</p><pre class="verbatim">{
    foo: { value: &quot;bar&quot;, second: true },
    same: &quot;one&quot;,
    one: 1
    two: 1
}
</pre><p>assuming first object overrides second one.<br>
</p>

<p>In case of Array merging, the final array length will be the maximum length of all merged arrays.<br>
For each element of the final array, merge will be done considering defined elements only.<br>
Ex:
</p><pre class="verbatim">{
    array: [0, 1, 2, { foo: &quot;bar&quot; } ],
    array: [3, 4],
    array: [5, 6, 7, { bar: &quot;foo&quot; }, 8 ]
}
</pre><p>Will be merged to:
</p><pre class="verbatim">{
    array: [5, 6, 7, { foo: &quot;bar&quot;, bar: &quot;foo&quot; }, 8 ],
}
</pre>


<span id="Global-properties"></span><h3 class="section">6.2 Global properties</h3>

<!-- prop: -->

<dl compact="compact">
<dt><code>log_filename</code></dt>
<dd>
<p>String. Set the log filename. If no leading <code>/</code>, it is relative to the
configuration file path. See <a href="#Log-file-format">Log file format</a>.
</p>
<span id="log_005foptions"></span></dd>
<dt><code>log_options</code></dt>
<dd>
<p>String. Set the logging options as a comma separated list of assignments.
</p>
<ul>
<li> <var>layer</var>.level=<var>verbosity</var>. For each layer, the log verbosity can be set
to <code>none</code>, <code>error</code>, <code>info</code> or <code>debug</code>. In debug
level, the content of the transmitted data is logged.

</li><li> <var>layer</var>.max_size=<var>n</var>. When dumping data content, at
most <code>n</code> bytes are shown in hexa. For ASN.1, NAS or Diameter content, show the full content of the message if <code>n &gt; 0</code>.

</li><li> <var>layer</var>.payload=[0|1]. Dump ASN.1, NAS, SGsAP or Diameter payload in hexadecimal.

</li><li> <var>layer</var>.key=[0|1]. Dump security keys (NAS and RRC layers).

</li><li> <var>layer</var>.crypto=[0|1]. Dump plain and ciphered data (NAS and PCDP layers).


</li><li> phy.signal=[0|1]. Dump binary received signal data of the
  physical layer to another file (<var>log_filename</var>.bin). The
  currently available data are QAM constellations and channel
  estimation for PDSCH, PUSCH and SRS. The GUI can be used to display
  them. Note: the size of the binary signal data is larger than the
  textual logs, so they should be enabled only when needed.


</li><li> phy.rep=[0|1]. Log the NPUSCH/NPDSCH allocations and repetitions in each subframe (NB-IoT UE only).
  </li><li> phy.dci_size=[0|1]. Log the expected DCI sizes (NR UE only).
  </li><li> phy.csi=[0|1]. Log the computed CSI information.
  </li><li> phy.cell_meas=[0|1]. Log some cell related statistics.
  </li><li> phy.cch=[0|1]. Log number of CCH symbols and SINR.
  </li><li> phy.ntn=[0|1]. Log timing updates performed for NTN.
  </li><li> rrc.cell_meas=[0|1]. Log RRC cell measurements.
  </li><li> nas.plmn=[0|1]. Log the PLMNs used by the NAS PLMN selection.



</li><li> time=[sec|short|full]. Display the time as seconds, time only
or full date and time (default = time only).

</li><li> time.us=[0|1]. Dump time with microseconds precision.

</li><li> file=cut. Close current file log and open a new one.

</li><li> file.rotate=now. Rename current log with timestamp and open new one.

</li><li> file.rotate=<var>size</var>. Rename current log every time it reaches <var>size</var> bytes open new one.
  Size is an integer and can be followed by K, M or G.

</li><li> file.path=<var>path</var>. When log rotation is enabled, move current log to this path instead of
  initial log path.

</li><li> append=[0|1]. (default=0). If 0, truncate the log file when
  opening it. Otherwise, append to it.

</li></ul>

<p>Available layers are: <code>phy</code>, <code>mac</code>, <code>rlc</code>, <code>pdcp</code>, <code>rrc</code>, <code>nas</code>, <code>ip</code>
</p>
</dd>
<dt><code>log_sync</code></dt>
<dd><p>Optional boolean (default = false). If true, logs will be synchronously dumped to file.<br>
  Warning, this may lead to performances decrease.
</p>
</dd>
<dt><code>rf_driver</code></dt>
<dd><p>Object. Parameters of the radio driver. See <a href="#Radio-driver-configuration">Radio driver configuration</a>.
</p>
<span id="tx_005fgain"></span></dd>
<dt><code>tx_gain</code></dt>
<dd><p>Float or array of floats. Transmit gain in dB. The range is device
dependent. For the PCIe SDR board, the range is between 0 and 89.75
dB. For the USRP N2x0 device with the SBX daughterboard, the range is
0 to 31.5 dB. With an array of floats a different gain is specified
for each channel.
</p>
<span id="rx_005fgain"></span></dd>
<dt><code>rx_gain</code></dt>
<dd><p>Float or array of floats. Receive gain in dB. The range is device
dependent. For the PCIe SDR board, the range is between -11 and 77 dB
(the exact limits depend on the RX frequency). For the USRP N2x0
device with the SBX daughterboard, the range is 0 to 31.5 dB. With an
array of floats a different gain is specified for each channel.
</p>
</dd>
<dt><code>udc_ports</code></dt>
<dd><p>Optional array of objects. Each object contains the configuration of the corresponding UDC port.
</p>
<p>Each object contains the following properties:
</p>
<dl compact="compact">
<dd><span id="args"></span></dd>
<dt><code>args</code></dt>
<dd><p>String. Set the UDC configuration parameters. Each parameter composing the string is separed by semicolon (See <a href="#args-configuration">args configuration</a>).
    <span id="cmd"></span>    </p></dd>
<dt><code>cmd</code></dt>
<dd><p>String. Specifies the path to the script for the UDC configuration (See <a href="#UDC-configuration-reference">UDC configuration reference</a>). The script is called once for each configured <code>udc_port</code> with the following command line arguments:
</p><ul>
<li> <code>args</code>: (See <a href="#args">args</a>)

</li><li> <code>lo_freq</code>: (See <a href="#lo_005ffreq">lo_freq</a>)

</li><li> <code>min_freq</code>: automatically set by the software, spectrum minimum frequency for aggregated cells using the same <code>udc_port</code>

</li><li> <code>max_freq</code>: automatically set by the software, spectrum maximum frequency for aggregated cells using the same <code>udc_port</code>

</li><li> <code>freq</code>: automatically set by the software, FR2 cell central frequency, for each <code>rf_port</code> using the same <code>udc_port</code>

</li><li> <code>bandwidth</code>: automatically set by the software, FR2 cell bandwidth, for each <code>rf_port</code> using the same <code>udc_port</code>
</li></ul>

<span id="lo_005ffreq"></span></dd>
<dt><code>lo_freq</code></dt>
<dd><p>Optional float. Specifies the UDC LO frequency in MHz to be configured. If not present, it will be automatically computed.
</p>
</dd>
<dt><code>tx_power_offset</code></dt>
<dd><p>Optional float. Measured in dB, negative value. It corresponds to the amount of attenuation between the SDR and the UDC IF port.<br>
    The default value is 0, in case of aggregated cells with combiner the attenuation is computed as -10*log10(COMBINER_PORTS).
</p>
</dd>
</dl>


</dd>
<dt><code>cell_groups</code></dt>
<dd><p>Array of object. Parameters for each group of similar cells. See <a href="#Cell-group-configuration">Cell group configuration</a>.
</p>
</dd>
<dt><code>ue_list</code></dt>
<dd><p>Array of object. Each element gives the configuration of a UE. See <a href="#UE-configuration">UE configuration</a>.
</p>
</dd>
<dt><code>custom_freq_band</code></dt>
<dd><p>Optional object or array of objects. Define a non standard LTE or NR
frequency band. Standard bands can also be overriden by this
option. If the uplink information is not provided, it is assumed to be
the same as the downlink (TDD band). Use an array of objects if you
want to define more than one custom band.
</p>
<p>For LTE bands, the following parameters are available:
</p>
<dl compact="compact">
<dt><code>band</code></dt>
<dd><p>Range: 1 to 256.
  </p></dd>
<dt><code>dl_earfcn_min</code></dt>
<dd><p>Range: 0 to 262143.
  </p></dd>
<dt><code>dl_earfcn_max</code></dt>
<dd><p>Range: 0 to 262143.
  </p></dd>
<dt><code>dl_freq_min</code></dt>
<dd><p>Float. Low DL frequency in MHz.
  </p></dd>
<dt><code>ul_earfcn_min</code></dt>
<dd><p>Optional integer. Range: 0 to 262143.
  </p></dd>
<dt><code>ul_earfcn_max</code></dt>
<dd><p>Optional integer. Range: 0 to 262143.
  </p></dd>
<dt><code>ul_freq_min</code></dt>
<dd><p>Optional Float. Low UL frequency in MHz.
  </p></dd>
<dt><code>ntn</code></dt>
<dd><p>Optional boolean. True if this is a NTN band.
  </p></dd>
</dl>

<p>For NR bands, the following parameters are available:
</p>
<dl compact="compact">
<dt><code>band_nr</code></dt>
<dd><p>Range: 1 to 1024. NR band number.
  </p></dd>
<dt><code>dl_freq_min</code></dt>
<dd><p>Float. Range: 0 to 65535. Minimum DL frequency in MHz. Use 0 if no DL.
  </p></dd>
<dt><code>dl_freq_max</code></dt>
<dd><p>Float. Range: 0 to 65535. Maximum DL frequency in MHz. Use 0 if no DL.
  </p></dd>
<dt><code>ul_freq_min</code></dt>
<dd><p>Float. Range: 0 to 65535. Minimum UL frequency in MHz. Use 0 if no UL. If
  not provided, use the same value as DL (TDD).
  </p></dd>
<dt><code>ul_freq_max</code></dt>
<dd><p>Float. Range: 0 to 65535. Maximum UL frequency in MHz. Use 0 if no UL.
  </p></dd>
<dt><code>ssb_scs</code></dt>
<dd><p>Array of integers. List of allowed SSB subcarrier spacing for this
  band. Allowed values: 15, 30, 120 or 240.
  </p></dd>
<dt><code>f_raster</code></dt>
<dd><p>Enumeration: 100, 15, 15_30, 15_30_100, 60_120, 100_enhanced. Frequency raster in kHz.
  </p></dd>
<dt><code>ssb_case_c</code></dt>
<dd><p>Boolean. True if SSB case C is enabled on this band.
  </p></dd>
<dt><code>min_40mhz_bw</code></dt>
<dd><p>Boolean. True if the minimum allowed bandwidth on this band is at
  least 40 MHz. This information is used to select the CoReSet #0
  table in standalone mode.
  </p></dd>
<dt><code>delta_gscn</code></dt>
<dd><p>Optional enumeration: 1, 3, 7, 16 (default  = 1). GSCN step size.
  </p></dd>
<dt><code>ntn</code></dt>
<dd><p>Optional boolean. True if this is a NTN band.
  </p></dd>
</dl>

</dd>
<dt><code>rue_bind_addr</code></dt>
<dd><p>Optional string. Set it to enable and define <var>lterue</var> bind address.
</p>
</dd>
<dt><code>user_thread_count</code></dt>
<dd><p>Optional integer (default = 1). Sets number of threads for external application
launcher and tun_setup_script.
</p>
</dd>
<dt><code>com_addr</code></dt>
<dd><p>Optional string. Address of the WebSocket server remote API. See <a href="#Remote-API">Remote API</a>.<br>
If set, the WebSocket server for remote API will be enabled and bound to this address.<br>
Default port is 9002.<br>
Setting IP address to [::] will make remote API reachable through all network interfaces.
</p>
</dd>
<dt><code>com_name</code></dt>
<dd><p>Optional string. Sets server name. UE by default
</p>

</dd>
<dt><code>com_ssl_certificate</code></dt>
<dd><p>Optional string. If set, forces SSL for WebSockets. Defines CA
certificate filename.
</p>
</dd>
<dt><code>com_ssl_key</code></dt>
<dd><p>Optional string. Mandatory if <var>com_ssl_certificate</var> is set. Defines CA
private key filename.
</p>
</dd>
<dt><code>com_ssl_peer_verify</code></dt>
<dd><p>Optional boolean (default is false). If <var>true</var>, server will check
client certificate.
</p>
</dd>
<dt><code>com_ssl_ca</code></dt>
<dd><p>Optional string. Set CA certificate. In case of peer verification with self signed
certificate, you should use the client certificate.
</p>

</dd>
<dt><code>com_log_lock</code></dt>
<dd><p>Optional boolean (default is false). If <var>true</var>, logs configuration can&rsquo;t be changed
via <code>config_set</code> remote API.
</p>
</dd>
<dt><code>com_log_us</code></dt>
<dd><p>Optional boolean (default is false). If <var>true</var>, logs sent by <code>log_get</code> remote API
response will have a <code>timestamp_us</code> parameters instead of <code>timestamp</code>
</p>
</dd>
<dt><code>com_auth</code></dt>
<dd><p>Optional object. If set, remote API access will require authentication.<br>
Authentication mechanism is describe in <a href="#Remote-API-Startup">Remote API Startup</a> section.<br>
</p>
<dl compact="compact">
<dt><code>passfile</code></dt>
<dd><p>Optional string. Defines filename where password is stored (plaintext).<br>
    If not set, <code>password</code> must be set
</p>
</dd>
<dt><code>password</code></dt>
<dd><p>Optional string. Defines password.<br>
    If not set, <code>passfile</code> must be set.
</p>
</dd>
<dt><code>unsecure</code></dt>
<dd><p>Optional boolean (default  false). If set, allow password to be sent plaintext.<br>
    NB: you should set it to true if you access it from a Web Browser (Ex: Amarisoft GUI)
    without SSL (https) as your Web Browser may prevent secure access to work.
</p>
</dd>
</dl>

</dd>
<dt><code>com_log_count</code></dt>
<dd><p>Optional number (Default = 8192). Defines number of logs to keep in memory before dropping them.<br>
Must be between 4096 and 2097152).
</p>

</dd>
<dt><code>license_server</code></dt>
<dd><p>Configuration of the Amarisoft license server to use.<br>
Object with following properties:
</p>
<dl compact="compact">
<dt><code>server_addr</code></dt>
<dd><p>String. IP address of the license server.
</p></dd>
<dt><code>name</code></dt>
<dd><p>Optional string. Text to be displayed inside server monitor or remote API.
</p></dd>
<dt><code>tag</code></dt>
<dd><p>Optional string. If set, server will only allow license with same tag.
</p></dd>
</dl>

<p>Example:
</p><pre class="verbatim">license_server: {
    server_addr: &quot;192.168.0.20&quot;,
    name: &quot;My license&quot;
}
</pre>

</dd>
<dt><code>sim_ip_remote_addr</code></dt>
<dd><p>Optional string. Defines default server address for IP simulation events of all UE.
</p>
</dd>
<dt><code>cpu_core_list</code></dt>
<dd><p>Optional array. Defines the list of CPU cores indexes on which LTEUE will run.<br>
If not set, LTEUE may use all cores, refer to <a href="#cpu_005fcore_005flist">cpu_core_list</a> for syntax.<br>
Note that the number of cores depends on Linux scheduler and LTEUE configuration.
</p>
</dd>
<dt><code>vrb_lib_path</code></dt>
<dd><p>Optional string. Path to the <code>vrb_dpdk.so</code> dynamic library file located in the delivered tarball. 
If present, the eNodeB uses Intel vRANBoost device for LDPC decoding. 
The CPU must support vRANBoost, DPDK must be installed on the machine and the vRANBoost device must be configured properly before use.
This mode enables faster LDPC decoding. It can be used to lower the CPU usage of the stack or to increase 
the number of LDPC decoding iterations in order to improve decoding sensitivity.
</p>
</dd>
</dl>


<span id="Radio-driver-configuration"></span><span id="Radio-driver-configuration-1"></span><h3 class="section">6.3 Radio driver configuration</h3>


<!-- prop:rf_driver -->

<dl compact="compact">
<dt><code>name</code></dt>
<dd><p>Driver name. The corresponding DLL file name is <samp>trx_<var>name</var>.so</samp>.
It is searched in the lteue executable directory, in the path configured
in the <code>path</code> property.<br>
The following drivers are currently available:
</p><table>
<tr><td width="10%">dummy</td><td width="90%">Dummy driver. Can be used to measure the RX to TX latency.</td></tr>
<tr><td width="10%">sdr</td><td width="90%">Amarisoft PCIe SDR driver.<br>
Parameters are defined here:<br>
<a href="https://tech-academy.amarisoft.com/trx_sdr.doc#TRX-driver-configuration-options">SDR50</a><br>
<a href="https://tech-academy.amarisoft.com/trx_sdr100.doc#TRX-driver-configuration-options">SDR100</a><br>
<a href="https://tech-academy.amarisoft.com/trx_cpri.doc#TRX-driver-configuration-options">CPRI</a><br></td></tr>
<tr><td width="10%">uhd</td><td width="90%">Ettus Research UHD driver for USRP N2x0, B2x0 and X3x0 series.<br>
Please check Amarisoft UHD documentation delivered within package.</td></tr>
<tr><td width="10%">lms7002m</td><td width="90%">Lime MicroSystem LimeSDR platform driver.<br>
Please check Amarisoft SDR documentation delivered within package.</td></tr>
</table>

<p>If you don&rsquo;t have and need one of these drivers, please
contact <a href="mailto:customer@amarisoft.com">customer@amarisoft.com</a> and ask for it.
</p></dd>
</dl>






<span id="Cell-group-configuration"></span><span id="Cell-group-configuration-1"></span><h3 class="section">6.4 Cell group configuration</h3>

<p>A cell groups references the configuration of 1 or more cells of the same type.<br>
</p>
<p>Cells within same group must be synchronized at subframe/frame level.<br>
Handovers are not allowed between cells of different groups.<br>
NB-IoT groups can only handle one cell.<br>
</p>
<p>To perform 5G NSA, the configuration must contain at least two groups, one of LTE type and one of NR type.
</p>
<!-- prop:cell_groups -->

<dl compact="compact">
<dt><code>group_type</code></dt>
<dd><p>String. Defines cell type, can be:
  </p><dl compact="compact">
<dt><code>lte</code></dt>
<dd><p>LTE category 0 to max.
    </p></dd>
<dt><code>cat_m1</code></dt>
<dd><p>Cat-M1
    </p></dd>
<dt><code>nbiot</code></dt>
<dd><p>NB-IoT
    </p></dd>
<dt><code>nr</code></dt>
<dd><p>5G NR
  </p></dd>
</dl>

</dd>
<dt><code>tx_gain_offset</code></dt>
<dd><p>Optional float. Set the digital TX gain (can be seen as the opposite of
the TX backoff power). Warning: do not change it unless you know what
you do because a too high value introduces saturation in the output.
</p>
<p>For LTE, the default value is -12 dB in multi UE mode and -8 dB in
single UE mode.<br>
For NB-IoT the default value is always -20 dB.<br>
For NR the default value is always -14 dB.<br>
</p>
</dd>
<dt><code>tx_time_offset</code></dt>
<dd><p>Optional integer (LTE only). Time offset (in samples) for the TX
stream relative to the RX stream. It may be needed to compensate
internal delays in the radio head.
</p>
</dd>
<dt><code>tx_pad_duration</code></dt>
<dd><p>Optional integer (default = 23) (NR only). Duration (in 1/1.92 us
units) of the zero sample burst sent before the start of the uplink
burst in TDD. It corresponds to the power amplifier ramp up
duration. The appropriate value depends on the radio head.
</p>
</dd>
<dt><code>ground_position</code></dt>
<dd><p>Optional object needed for GNSS location estimate for LPP and/or NTN.
For NTN, this position will allow the dynamic computation of the timing advance, based on satellite realtime position.
Defines the geographic coordinates at the origin [0, 0, 0] in the local coordinates system in which the position in defined See <a href="#position">position</a>.<br>
Contains the following parameters:
</p><dl compact="compact">
<dt><code>latitude</code></dt>
<dd><p>Float value. Range -90 to 90. Degrees of latitude.
   </p></dd>
<dt><code>longitude</code></dt>
<dd><p>Float value. Range -180 to 180. Degrees of longitude.
   </p></dd>
<dt><code>altitude</code></dt>
<dd><p>Optional float value (default = 0). Range -1000m to 20km. Altitude in meters.
   </p></dd>
</dl>

</dd>
<dt><code>cells</code></dt>
<dd><p>Array of object. Each element gives the configuration of a cell. See <a href="#Cell-configuration">Cell configuration</a>.
</p>
</dd>
<dt><code>multi_ue</code></dt>
<dd><p>Boolean. If enabled, UE simulation mode is activated where multiple UEs can be run at the same time. Note
that when this mode is enabled, you should adjust the
<code>global_timing_advance</code> cell parameter. If set to false, the real UE mode is activated with one single instance of UE.
</p>
</dd>
<dt><code>long_range</code></dt>
<dd><p>Optional boolean (default = false). If true, enable a proprietary
Amarisoft extension to extend the cell range (a modified eNodeB is
necessary) (LTE only). This parameter applies to all the UEs in
multi-UE mode.
</p>
</dd>
<dt><code>rel13_5</code></dt>
<dd><p>Optional boolean (default = true). If true, enable incompatible
physical layer changes for NPBCH/BCCH introduced in release 13.5
(category NB1 only).
</p>
</dd>
<dt><code>channel_sim</code></dt>
<dd><p>Optional boolean (default = false). If set, the UE channel simulator
is enabled. It is only available in multi UE mode (<code>multi_ue =
true</code>). See <a href="#channel_005fsim">channel_sim</a> for more information.
</p>
</dd>
<dt><code>pdcch_decode_opt</code></dt>
<dd><p>Optional boolean (default = false). If set, <code>pdcch_decode_opt_threshold</code>
will be used (LTE and NR).
</p>
</dd>
<dt><code>pdcch_decode_opt_threshold</code></dt>
<dd><p>Optional float. <code>pdcch_decode_opt</code> must be set to true. This
parameter defines an EPRE (Energy Per Resource Element) threshold
relative to CRS (LTE) or SSB (NR) for PDCCH detection to save CPU
time.<br> Use it only with high SNR (Ex: using cables) as it may prevent
from decoding low power PDCCH.<br>
</p>
</dd>
<dt><code>pdsch_max_its</code></dt>
<dd><p>Optional integer (range 1 to 20, default = 6). CPU load limitation: set the
maximum number of iterations of the turbo decoder (LTE only). A higher value
gives a lower frame error rate but a higher CPU load.
</p>
</dd>
<dt><code>ldpc_max_its</code></dt>
<dd><p>Optional integer (range 1 to 50, default = 5). CPU load limitation: set the
maximum number of iterations of the LDPC decoder (NR only). A higher value
gives a lower frame error rate but a higher CPU load.
</p>
</dd>
<dt><code>cpu_core_list</code></dt>
<dd><p>Optional array. Defines the list of CPU cores indexes on which the cell group will run.<br>
Refer to <a href="#cpu_005fcore_005flist">cpu_core_list</a> for syntax.<br>
If not set, LTEUE may use all cores, or if RF frontend driver provides NUMA nodes,
they will be used.
</p></dd>
</dl>


<span id="Cell-configuration"></span><span id="Cell-configuration-1"></span><h3 class="section">6.5 Cell configuration</h3>

<!-- prop:cell_groups.cells -->

<dl compact="compact">
<dt><code>n_antenna_dl</code></dt>
<dd><p>Optional integer (default = 1). Range: 1 to 8. Set the number of
downlink antennas. See <a href="#channel_005fsim">channel_sim</a> to have more information when
the channel simulator is enabled. NB-IoT cells only support a single
downlink antenna.
</p>
</dd>
<dt><code>n_antenna_ul</code></dt>
<dd><p>Optional integer (default = 1). Range: 1 to 8. Set the number of
uplink antennas. See <a href="#channel_005fsim">channel_sim</a> to have more information when the
channel simulator is enabled. LTE and NB-IoT cells only support a single
uplink antenna.
</p>
</dd>
<dt><code>sample_rate</code></dt>
<dd><p>Optional float. Sample rate in MHz. It is normally automatically set
depending on the radio head capabilities and selected bandwidth.<br>
To take effect, <code>bandwidth</code> must not be set.
</p>
</dd>
<dt><code>rf_dl_freq</code></dt>
<dd><p>Optional float. Override the tuning frequency in MHz for the
downlink. This optional is only needed if there is a frequency
translator after the SDR device.
</p>
</dd>
<dt><code>rf_ul_freq</code></dt>
<dd><p>Optional float. Override the tuning frequency in MHz for the
uplink. This optional is only needed if there is a frequency
translator after the SDR device.
</p>
<span id="global_005ftiming_005fadvance"></span></dd>
<dt><code>global_timing_advance</code></dt>
<dd><p>Optional integer. Range: -1 to 1292 (default = -1). This option is
only meaningful in multiple UE mode and specifies the timing advance
of the uplink relative to the downlink. The unit is <code>1/1.92</code> us
for non NR cells and <code>1/(0.128*SCS)</code> us for NR cells where
<code>SCS</code> is the cell subcarrier spacing in kHz. The special value -1
indicates to use the timing advance from the first received
RAR. See <a href="#Multiple-UE-case">Multiple UE case</a> for more information.
</p>
</dd>
<dt><code>apply_ta_commands</code></dt>
<dd><p>Optional boolean (default = false). This option is only meaningful in
multiple UE mode and allows the UE to follow the TA commands received
from the network. This option is only available for NB-IoT and NR
UEs. It is not possible to have both <code>delay_sim</code> and
<code>apply_ta_commands</code> set to true. See <a href="#Multiple-UE-case">Multiple UE case</a> for more
information.
</p>
</dd>
<dt><code>forced_pci</code></dt>
<dd><p>Optional integer (default = -1). Force the selected Physical Cell
Identity. The default value -1 indicates to select the first detected
PCI. This parameter is currently not available for NB-IoT cells.
</p>
</dd>
<dt><code>ntn_n_ta_ue</code></dt>
<dd><p>Optional float (default = -1). If positive, specify a constant NTA_UE in microseconds
when computing Timing Advance in NTN. <br>
If negative or left out and if the cell is in a NTN band, <code>ground_position</code> in the cell group is mandatory.
</p>
</dd>
<dt><code>ntn_eci_aligned_ecef</code></dt>
<dd><p>Optional boolean (default = false).
If set to true, the orbital parameters (read from SIB31 in NB-IoT or SIB19 in NR)
are understood with the ECI reference frame aligned with the ECEF frame at the current epoch.<br>
If set to false, the ECI reference is aligned with the J2000 vernal equinox.
</p>
</dd>
<dt><code>ntn_service_dl_freq</code></dt>
<dd><p>Optional integer (default = 0). NR only. If non zero, this parameter sets the value in Hz of the actual DL frequency used on the satellite service link when it is different from the DL frequency specified by <code>dl_nr_arfcn</code>.
</p>
</dd>
<dt><code>ntn_service_ul_freq</code></dt>
<dd><p>Optional integer (default = 0). NR only. If non zero, this parameters sets the value in Hz of the actual UL frequency used on the satellite service link.
</p>
</dd>
<dt><code>cpu_core_list</code></dt>
<dd><p>Optional Array. Defines the core affinity of the digital signal processing
engine (Physical layer) for both UL and DL of the cells associated
to this rf_port (See <a href="#cpu_005fcore_005flist">cpu_core_list</a>).
</p>
</dd>
<dt><code>cpu_core_list_ul</code></dt>
<dd><p>Optional Array. Defines the core affinity of the digital signal processing
engine (Physical layer) for UL of the associated cell(s).
If set, overrides <code>cpu_core_list</code>.
</p>
</dd>
<dt><code>cpu_core_list_dl</code></dt>
<dd><p>Optional Array. Defines the core affinity of the digital signal processing
engine (Physical layer) for DL of the associated cell(s).
If set, overrides <code>cpu_core_list</code>.
</p>
</dd>
<dt><code>nb_threads</code></dt>
<dd><p>Optional number. If set, forces the number of threads used by the digital
processing engine for DL or UL of the associated cell(s).
</p>
</dd>
<dt><code>nb_threads_ul</code></dt>
<dd><p>Optional number. If set, forces the number of threads used by the digital
processing engine for UL of the associated cell(s).
If set, overrides <code>nb_threads</code>.
</p>
</dd>
<dt><code>nb_threads_dl</code></dt>
<dd><p>Optional number. If set, forces the number of threads used by the digital
processing engine for DL of the associated cell(s).
If set, overrides <code>nb_threads</code>.
</p>
<span id="cpu_005fnuma_005flist"></span></dd>
<dt><code>cpu_numa_list</code></dt>
<dd><p>Optional array of integers. Each integer represent a NUMA node index.
If set will, digital processing engine will use the list of defined NUMA nodes
for its memory usage.<br>
If this field is not set but <code>cpu_core_list</code> is defined, LTEUE will select
the NUMA nodes associated to the affected cores. This means that most of the time this
parameter shouldn&rsquo;t be set.
The only relevant case is when a NUMA node has no RAM bank connected,
you may use this parameter to select the closest NUMA node with memory.
</p>

</dd>
<dt><code>s72</code></dt>
<dd><p>Optional object. If set, this cell port will use ORAN split 7.2 TRX API to send data to the radio unit.<br>
This section has the following properties:
</p><dl compact="compact">
<dt><code>rtc_id</code></dt>
<dd><p>Integer. RTC id.
</p>
</dd>
<dt><code>ud_comp_hdr</code></dt>
<dd><p>Optional integer (default = 0). Set User Data compression header configuration.
Can be <code>0</code> for no compression, <code>0x81</code> for BF8, <code>0x91</code> for BF9, <code>0xc1</code> for BF12 or
<code>0xe1</code> for BF14.
</p>
</dd>
<dt><code>port_mapping</code></dt>
<dd><p>Optional array of integers. If set, allows to map UE antenna to different RU port.<br>
Each number represents the RU port ID used for the antenna in ORAN packets.<br>
This array must have same number of elements as the maximum between DL antenna count and UL antenna count.<br>
Each RU port must be set once in the array.
Ex:
</p><pre class="verbatim">port_mapping: [1, 2, 4, 0],
</pre><p>Means UE will use RU port 1 for the first antenna, RU port 2 for the second antenna...
By default, it is set to <code>[0, 1, 2, ... ]</code>
</p>
</dd>
<dt><code>port_mapping_dl</code></dt>
<dd><p>Optional array of integers. Same as <code>port_mapping</code> except that it applies only for
DL antenna and the array must have same number of elements as DL antenna count.
</p>
</dd>
<dt><code>port_mapping_ul</code></dt>
<dd><p>Optional array of integers. Same as <code>port_mapping</code> except that it applies only for
UL antenna and the array must have same number of elements as UL antenna count.
</p>
</dd>
<dt><code>port_mapping_prach</code></dt>
<dd><p>Optional array of integers. Same as <code>port_mapping</code> except that it applies only for
the PRACH ORAN packets.
</p>
</dd>
<dt><code>gen_prb0</code></dt>
<dd><p>Optional boolean (default = false). If true, numPrbc of U-Plane ORAN section will be set
to 0 when all ressources blocks are used and exceed 255.<br>
If set to false and number of ressources blocks exceed 255, multiple ORAN sections
will be generated.
</p>
</dd>
<dt><code>relative_symbol</code></dt>
<dd><p>Optional boolean (default = false). In case of section type 3, start symbol of both control
and data packet will start at 0, i.e relative to time_offset
</p></dd>
</dl>


</dd>
</dl>

<p>The following parameters are available if <code>group_type</code> is not set to &quot;nr&quot;:
</p>
<dl compact="compact">
<dt><code>dl_earfcn</code></dt>
<dd><p>Range: 0 to 262143. Set the DL EARFCN. See
<a href="https://www.sqimway.com/lte_band.php">https://www.sqimway.com/lte_band.php</a> to convert between the center frequency
and EARFCN.
</p>
</dd>
<dt><code>ul_earfcn</code></dt>
<dd><p>Optional. Range: 0 to 262143. Set the UL EARFCN. If not provided, the
default DL/UL gap is used (i.e. ul_earfcn = dl_earfcn +
18000 for FDD).
</p>
</dd>
<dt><code>bandwidth</code></dt>
<dd><p>Optional number. Defines LTE bandwidth and can be 20, 15, 10, 5, 3 or 1.4.<br>
If omitted, <code>sample_rate</code> has to be set.
</p>
</dd>
<dt><code>sample_rate_num</code></dt>
<dd><p>Optional integer (LTE only). Main sample rate used for the LTE signal
processing in 1.92 MHz units (hence 3 means 5.76 MHz). It is normally
automatically set depending on the radio head capabilities and
selected bandwidth. If the resulting rate is different from
<code>sample_rate</code>, a fractional sample rate interpolator is used to
convert the sample rate.
</p>
</dd>
<dt><code>prach_delay</code></dt>
<dd><p>Optional integer (LTE and NR only). Range: 0 to 1920 (default =
0). This option specifies the PRACH delay relative to the other uplink
signals in TA units. The same PRACH delay is applied to all the UEs of
the cell. This option is useful to simulate an arbitrary PRACH timing
advance in multiple UE mode.
</p>
</dd>
<dt><code>sync_id</code></dt>
<dd><p>Optional integer (default = 0). Cells with same <code>sync_id</code> must be synchronized
in time (Same Frame/SubFrame numbers). To allow non synchronized cells within a group,
set different <code>sync_id</code> for each cell. Only applicable to LTE UEs.<br>
Note that for proper CA operation, the PCell and SCells must be synchronized.
</p>
</dd>
</dl>

<p>The following parameters are available if <code>group_type</code> is set to &quot;nr&quot;:
</p><dl compact="compact">
<dt><code>band</code></dt>
<dd><p>Integer (range 0 to 1024). NR band.
</p>
</dd>
<dt><code>dl_nr_arfcn</code></dt>
<dd><p>Integer (range 0 to 3279165). Set the DL NR-ARFCN.
See <a href="https://www.sqimway.com/nr_band.php">https://www.sqimway.com/nr_band.php</a> to convert between the center frequency and NR-ARFCN.
</p>
</dd>
<dt><code>ul_nr_arfcn</code></dt>
<dd><p>Integer (range 0 to 3279165). Set the UL NR-ARFCN.
See <a href="https://www.sqimway.com/nr_band.php">https://www.sqimway.com/nr_band.php</a> to convert between the center frequency and NR-ARFCN.
</p>
</dd>
<dt><code>subcarrier_spacing</code></dt>
<dd><p>Integer (15, 30, 60, 120). Set the cell subcarrier spacing.
</p>
</dd>
<dt><code>ssb_subcarrier_spacing</code></dt>
<dd><p>Optional integer (15, 30, 120, 240). Set the SSB subcarrier spacing.
If absent, the value from <code>subcarrier_spacing</code> is used instead.
</p>
</dd>
<dt><code>ssb_nr_arfcn</code></dt>
<dd><p>Optional integer (range 0 to 3279165). Set the SSB NR-ARFCN.
See <a href="https://www.sqimway.com/nr_band.php">https://www.sqimway.com/nr_band.php</a> to convert between the center frequency and NR-ARFCN.
If absent, the value from <code>dl_nr_arfcn</code> is used instead.
</p>
</dd>
<dt><code>ssb_case_c</code></dt>
<dd><p>Optional boolean. Set to true if case C must be used instead of case B
for 30 kHz SSB SCS. The default value depends on the selected
frequency band (see 3GPP TS 38.101-1 table 5.4.3.3-1).
</p>
</dd>
<dt><code>bandwidth</code></dt>
<dd><p>Optional integer (range 3 to 400). Cell bandwidth.
</p>
</dd>
<dt><code>n_rb_dl</code></dt>
<dd><p>Optional integer (range 20 to 275). Number of DL resource blocks.
Used if <code>bandwidth</code> is absent.
</p>
</dd>
<dt><code>rx_to_tx_latency</code></dt>
<dd><p>Optional integer (Range 2 to 32, default = 4). Minimum allowed latency in slots between RX and TX.<br>
This parameter will bound the minimum k1 and k2 parameter allowed by the system.<br>
Increasing the value will improve performances, especially in case of radio frontend underflows.
</p>
</dd>
<dt><code>pdcch_log_filename</code></dt>
<dd><p>Optional string. Log the PDCCH decoding attempts to the
<samp>pdcch_log_filename</samp> file. It is useful only when debugging the
PHY layer. Do not enable it in other cases as it may generate a large log
file and may degrade the UE performance.
</p>
</dd>
<dt><code>udc_port</code></dt>
<dd><p>Optional integer. Selects the UDC port used for the cell. Cells aggregated with the same UDC device, will use the same udc_port number.
</p>
</dd>
<dt><code>tx_power_offset</code></dt>
<dd><p>Optional float. If set add an offset in dB to any TX signal power
information such as &rsquo;t spl&rsquo;.
Useful when placing an attenuator (negative value) or a power amplifier (positive value) after the radio frontend TX output.
</p>
</dd>
</dl>

<span id="UE-configuration"></span><span id="UE-configuration-1"></span><h3 class="section">6.6 UE configuration</h3>

<span id="Virtual-USIM"></span><h4 class="subsection">6.6.1 Virtual USIM</h4>

<p>The following parameters configure the virtual USIM:
</p>
<!-- prop:ue_list -->

<dl compact="compact">
<dt><code>mnc_nb_digits</code></dt>
<dd><p>Optional enumeration: 2, 3 (default = 2). Set the number of digits in home network MNC.
</p>

</dd>
<dt><code>imsi</code></dt>
<dd><p>Optional string. Shall be present if <code>nai</code> is absent. Set the IMSI.
</p>
</dd>
<dt><code>nai</code></dt>
<dd><p>Optional string applicable to 5G only.<br>
  Shall be present if <code>imsi</code> is not set. 
  Set the Network specific identifier-based SUPI.<br>
</p>
</dd>
<dt><code>sim_algo</code></dt>
<dd><p>Optional enumeration. xor, milenage or tuak (default = xor). Set the USIM
  authentication algorithm. Note: test USIM cards use the XOR algorithm.
</p>
</dd>
<dt><code>sqn</code></dt>
<dd><p>Optional String (6 byte hexadecimal string). Default =
  <code>&quot;000000000000&quot;</code>. Set the initial sequence number. For the XOR
  algorithm, the actual value does not matter. For the Milenage or TUAK
  algorithm, a sequence number resynchronization is initiated if the
  sequence number does not match the one stored in the USIM.
</p>
</dd>
<dt><code>K</code></dt>
<dd><p>String. Set the user secret key (as a 16 bytes hexadecimal string,
  or eventually 32 bytes hexadecimal string for TUAK).
</p>
</dd>
<dt><code>op</code></dt>
<dd><p>Optional string. Operator key (as a 16 byte hexadecimal
  string). When the Milenage authentication algorithm is used, either
  <code>op</code> or <code>opc</code> must be set.
</p>
</dd>
<dt><code>opc</code></dt>
<dd><p>Optional string. Operator key preprocessed with the user secret key
  (as a 16 byte hexadecimal string). When the Milenage authentication
  algorithm is used, either <code>op</code> or <code>opc</code> must be set.
</p>
</dd>
<dt><code>r</code></dt>
<dd><p>Optional array of 5 integers (range: 0 to 127). Allows to customize the
  r1 to r5 parameters when Milenage authentication algorithm is used. If
  the array is not present, the default values (as defined in 3GPP TS 35.206)
  are used.
</p>
</dd>
<dt><code>c</code></dt>
<dd><p>Optional array of 5 strings. Each value contains a 16 byte hexadecimal string.
  Allows to customize the c1 to c5 parameters when Milenage authentication
  algorithm is used. If the array is not present, the default values
  (as defined in 3GPP TS 35.206) are used.
</p>
</dd>
<dt><code>top</code></dt>
<dd><p>Optional string. Operator key (as a 32 byte hexadecimal
  string). When the TUAK authentication algorithm is used, either
  <code>top</code> or <code>topc</code> must be set.
</p>
</dd>
<dt><code>topc</code></dt>
<dd><p>Optional string. Operator key preprocessed with the user secret key
  (as a 32 byte hexadecimal string). When the TUAK authentication
  algorithm is used, either <code>top</code> or <code>topc</code> must be set.
</p>
</dd>
<dt><code>keccak_iter</code></dt>
<dd><p>Optional integer (range: 1 to MAX_INT). Allows to customize the number of
  Keccak permutations performed when using the TUAK authentication algorithm.
  If the item is not present, the default value 1 (as defined in 3GPP TS 35.231)
  is used.
</p>
</dd>
<dt><code>cag_info_list</code></dt>
<dd><p>Optional array. Subscribed CAG information list. Each element of the array contains:
    </p><dl compact="compact">
<dt><code>plmn</code></dt>
<dd><p>String (5 or 6 digits).
      </p></dd>
<dt><code>cag_id_list</code></dt>
<dd><p>Array of 1 to 12 integers (range 0 to 4294967295) giving the list of the allowed CAG-Identifiers.
      </p></dd>
<dt><code>cag_only_ind</code></dt>
<dd><p>Optional boolean (default = FALSE). Indication that the UE is only allowed to access 5GS via CAG cells.
    </p></dd>
</dl>

</dd>
<dt><code>csg_info_list</code></dt>
<dd><p>Optional array of objects. Subscribed CSG information.  Each element of the array contains:
    </p><dl compact="compact">
<dt><code>plmn</code></dt>
<dd><p>String (5 or 6 digits).
      </p></dd>
<dt><code>csg_id_list</code></dt>
<dd><p>Array of integers in range 0 to 0x7FFFFFF. Allowed CSG id list in the PLMN.
    </p></dd>
</dl>

</dd>
<dt><code>res_len</code></dt>
<dd><p>Optional integer (default = 8).
  Defines length of response in bytes during authentication. For TUAK
  authentication algorithm, the RES length configured on UE and network
  side must match and the value must be 4, 8 or 16 bytes long.
</p>
</dd>
<dt><code>preferred_plmn_list</code></dt>
<dd><p>Optional array. Each element of the array contains a PLMN string (5 or 6 digits)
  ordered by decreasing priority. Can be present only if none of plmnwact, oplmnwact and ehplmn is present. 
</p>
<span id="plmnwact"></span></dd>
<dt><code>plmnwact</code></dt>
<dd><p>Optional array containing the list of user controlled PLMN with access technology (refer to 3GPP 31.102 chapter 4.2.5) used by the NAS PLMN selection procedure. Each element of the array contains a PLMN and the allowed access technologies, ordered by decreasing priority: 
  </p><dl compact="compact">
<dt><code>plmn</code></dt>
<dd><p>String (5 or 6 digits).
    </p></dd>
<dt><code>access_techno</code></dt>
<dd><p>Array of enumeration: eutra_nb, eutra_wb, eutra, nr.
  </p></dd>
</dl>

</dd>
<dt><code>oplmnwact</code></dt>
<dd><p>Optional array containing the list of operator controlled PLMN with access technology (refer to 3GPP 31.102 chapter 4.2.53) used by the NAS PLMN selection procedure. See <a href="#plmnwact">plmnwact</a> for coding.
</p>
</dd>
<dt><code>hplmnact</code></dt>
<dd><p>Optional array of elements listed in decreasing priority order, giving the access technologies of the home PLMN the UE will consider when searching for the HPLMN (refer to 3GPP 31.102 chapter 4.2.54).
  Each element is an array of enumeration: eutra_nb, eutra_wb, eutra, nr.
  Example:
</p><pre class="verbatim">  hplmnact: 
  [
    [&quot;nr&quot;, &quot;eutra_nb&quot;], 
    [&quot;eutra_wb&quot;]
  ]
</pre>
</dd>
<dt><code>ehplmn</code></dt>
<dd><p>Optional array containing the equivalent home PLMN list (refer to 3GPP 31.102 chapter 4.2.84) used by the NAS PLMN selection procedure.
  Each element of the array contains a PLMN string (5 or 6 digits) ordered by decreasing priority.
</p>
</dd>
<dt><code>lrplmnsi</code></dt>
<dd><p>Optional enumeration: last_registered, hplmn_or_last_registered (default = last_registered).
  Gives the Last RPLMN Selection Indication as defined in 3GPP 31.102 chapter 4.2.86.
</p>
</dd>
<dt><code>access_control_classes</code></dt>
<dd><p>Optional array of integers containing the assigned access control classes (refer to 3GPP 31.102 chapter 4.2.15 EFACC).<br>
  Default value is [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].<br>
  Each element of the array is an access class number in range 0-9 or 11, 12, 13, 14, 15.
</p>
</dd>
<dt><code>uac_access_identities</code></dt>
<dd><p>Optional array of enumeration: &quot;mps&quot;, &quot;mcs&quot;. 
  Gives the configuration information pertaining to access identities allocated for specific high priority services.
  If &quot;mps&quot; is present in the array, the UE is configured for Multimedia Priority Service,
  if &quot;mcs&quot; is present in the array, the UE is configured for Mission Critical Services, see specified in 3GPP 31.102 chapter 4.4.11.7 EFUAC_AIC;
</p>
</dd>
<dt><code>eab</code></dt>
<dd><p>Optional boolean (default = false).
  Indicates whether the UE applies EAB (extended access barring).
  Equivalent parameter in the USIM is &rsquo;Extended access barring&rsquo; in EFNASCONFIG (see 31.102 chapter 4.2.94 EFNASCONFIG).
</p>  
</dd>
</dl>

<span id="SIM-card-reader"></span><h4 class="subsection">6.6.2 SIM card reader</h4>

<!-- prop:ue_list -->

<dl compact="compact">
<dt><code>external_sim</code></dt>
<dd><p>Optional boolean (default = false). If set, will try to use SIM card reader
  instead previous parameters. (Uses the PCSC lite library)
</p>
</dd>
<dt><code>sim_reader_index</code></dt>
<dd><p>Optional integer (range 0 to 1024). If <var>external_sim</var> is set, this allow to select SIM card
  reader if several are plugged.
</p>
</dd>
</dl>

<span id="UE-parameters"></span><h4 class="subsection">6.6.3 UE parameters</h4>

<span id="Common-parameters"></span><h4 class="subsubsection">6.6.3.1 Common parameters</h4>

<p>The following parameters are available for UEs of all types, unless stated otherwise.
</p>
<!-- prop:ue_list -->

<dl compact="compact">
<dt><code>imeisv</code></dt>
<dd><p>Optional string. Set the International Mobile station Equipment Identity and Software Version Number. If not set, will be automatically generated.
</p>
</dd>
<dt><code>as_release</code></dt>
<dd><p>Optional integer (default = 8). Define the Access Stratum release for UE capabilities. Releases 8 to 18 are supported.
</p>
</dd>
<dt><code>nas_5gs</code></dt>
<dd><p>Optional boolean (default = false). When set to true, the LTE or NB-IoT UE will connect to a 5G core network through a ng-eNB.
</p>
</dd>
<dt><code>ue_category</code></dt>
<dd><p>Optional integer (-2 to 13) or string (default = 4). Set the UE
  category/type. The string values <code>m1</code>, <code>nb1</code>, <code>nb2</code> or <code>nr</code> are
  also accepted. For backward compatibility, -1 means category M1 and
  -2 means category NB1.
  Category M1 or NB1 need at least <code>as_release</code> 13.
  Category NB2 needs at least <code>as_release</code> 14.
  Category NR needs at least <code>as_release</code> 15 and sets the UE in 5G SA mode.
</p>
<p>All UEs must be either category &gt;= 0, category M1, NB-IoT or NR.
</p>
</dd>
<dt><code>long_drx</code></dt>
<dd><p>Optional boolean (default = true). When set to false, the UE does not indicate
  supporting DRX in its capabilities (LTE, NR).
</p>
</dd>
<dt><code>short_drx</code></dt>
<dd><p>Optional boolean (default = true). When set to false, the UE does not indicate
  supporting short DRX cycles in its capabilities (LTE, NR).
</p>
</dd>
<dt><code>t3324</code></dt>
<dd><p>Optional integer. Value in seconds of the T3324 information element sent by
  the UE in the NAS Attach Request, Tracking Area Update Request and Registration Request messages.
</p>
</dd>
<dt><code>sprt_support</code></dt>
<dd><p>Optional boolean (default = false). Set strictly periodic registration timer support in 5GMM MICO indication IE.
</p>
</dd>
<dt><code>t3412</code></dt>
<dd><p>Optional integer. Value in seconds of the T3412 extended information element
  sent by the UE in the NAS Attach Request and Tracking Area Update Request messages,
  or requested T3512 information element sent by the UE in the NAS Registration Request message.
  <code>t3324</code> parameter must be set.
</p>
</dd>
<dt><code>edrx_params</code></dt>
<dd><p>Optional integer (range 0 to 255). If present, UE will declare support for
  extended idle mode DRX. This integer is encoded according to 3GPP TS 24.008
  chapter 10.5.5.32.
</p>
</dd>
<dt><code>dl_ca</code></dt>
<dd><p>Optional boolean (default = true). When set to false, the UE does not report
  BandCombinations with DL CA in its capabilities.
</p>
</dd>
<dt><code>ul_ca</code></dt>
<dd><p>Optional boolean (default = true). When set to false, the UE does not report
  BandCombinations with UL CA in its capabilities.
</p>
</dd>
<dt><code>ca_filter_bc_3x101</code></dt>
<dd><p>Optional boolean (default = true). When set to false, the UE will report all
  the possible band combinations (in the SupportedBandCombinationList IE of the UE capabilities)
  based on the <code>cells</code> array, regardless of their support in 3GPP TS 36.101/38.101 v18.2.0.<br>
  When set to true, only the combinations supported in 3GPP specification will be reported.
</p>
</dd>
<dt><code>ca_intraband</code></dt>
<dd><p>Optional enumeration: all, contiguous_only, non_contiguous_only (default = all).
  Controls how the UE reports the intraband CA band combinations.
</p>
</dd>
<dt><code>wus_support</code></dt>
<dd><p>Optional boolean (default = true). When set to false, the UE does not indicate supporting wake up signal in NB-IoT and Cat-M1.
</p>
</dd>
<dt><code>wus_edrx_min_time_offset</code></dt>
<dd><p>Optional enumeration: 40, 240, 1000, 2000 (default = 40). 
  Minimum time offset (in ms) between the end of WUS transmission and beginning of paging occasion when UE is in eDRX.
</p>
</dd>
<dt><code>gwus_paging_probability</code></dt>
<dd><p>Optional enumeration: -1, 0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100 (default = -1: group WUS not activated). 
  Requested paging probability of the UE used to determine the WUS group to which belongs the UE.
</p>
</dd>
<dt><code>apn</code></dt>
<dd><p>Optional string. If set, this APN will be used for UE attachment as default APN.
</p>
</dd>
<dt><code>authentication</code></dt>
<dd><p>Optional enumeration: <code>none</code>, <code>pap</code>, <code>chap</code> or <code>eap</code> (default set to <code>none</code>).
  Defines the APN authentication mechanism used during attachment. <br>
  <code>eap</code> is applicable to 5G only.
</p>
</dd>
<dt><code>username</code></dt>
<dd><p>Optional string (up to 100 characters) containing the user name used for <code>pap</code>, <code>chap</code> or <code>eap</code> authentication.
</p>
</dd>
<dt><code>password</code></dt>
<dd><p>Optional string (up to 100 characters) containing the password used for <code>pap</code>, <code>chap</code> or <code>eap</code> authentication.
</p>
</dd>
<dt><code>tun_setup_script</code></dt>
<dd><p>Optional string. Set the path of the shell script to set up the virtual network
  interface (Path can be absolute or relative to config file).<br>
  Script is called for each PDN with following parameters:
    </p><ol>
<li> UE ID
    </li><li> PDN unique ID (starts from 0)
    </li><li> Interface name
    </li><li> IPv4 address
    </li><li> IPv4 DNS address
    </li><li> IPv6 link local address
    </li><li> IPv6 DNS address
    </li><li> <code>tun_script_param</code> associated to UE
    </li></ol>

<p>A sample script is provided: <code>ue-ifup</code>.<br>
  It configures a network namespace for each UE.<br>
  As a result you can set IP traffic this way:
</p>
<div class="example">
<pre class="example">  ip netns exec &lt;UE ID&gt; ping 192.168.3.1
  </pre></div>

<p>If no script is given, no virtual network interface is created.<br>
If <code>rue_addr</code> is set, this parameter will be forwarded to remote UE server.<br>
When this mode is on, only <code>ext_app</code> simulation is available.
</p>
</dd>
<dt><code>tun_script_param</code></dt>
<dd><p>Optional string. Parameter passed to <code>tun_setup_script</code> for this UE.
</p>
</dd>
<dt><code>tun_ifname</code></dt>
<dd><p>Optional string. If <code>tun_setup_script</code> is set, defines the name of the TUN interface
  for the first PDN. The TUN interface may have been created outside of the program.
</p>
</dd>
<dt><code>rue_addr</code></dt>
<dd><p>Optional string. Address of remote UE server. See <a href="#Remote-UE">Remote UE</a>. Default port is 2152.
</p>
<p>Note that <code>tun_setup_script</code> is mandatory.
</p>

<span id="sim_005fevents"></span></dd>
<dt><code>sim_events</code></dt>
<dd><p>Array of object. Each element gives an event configuration to execute for
  this UE.<br>
  Event configuration is exactly the same as for <a href="#Remote-API">Remote API</a> messages
  except that message field must be event.
</p>
</dd>
<dt><code>sim_events_loop_count</code></dt>
<dd><p>If set, will define <code>loop_count</code> for each event of <code>sim_events</code>, See <a href="#loop_005fcount">loop_count</a>.
</p>
</dd>
<dt><code>sim_events_loop_delay</code></dt>
<dd><p>If set, will define <code>loop_delay</code> for each event of <code>sim_events</code>, See <a href="#loop_005fdelay">loop_delay</a>.
</p>

</dd>
<dt><code>sim_ip_remote_addr</code></dt>
<dd><p>Optional string. Defines default server address for IP simulation events
</p>
</dd>
<dt><code>attach_request_with_dummy_guti</code></dt>
<dd><p>Optional boolean (default = false). If true, attach procedure will be done with a dummy GUTI instead of IMSI.
</p>
</dd>
<dt><code>emergency_attach</code></dt>
<dd><p>Optional boolean (default = false). If true, attach procedure will be for emergency services.
</p>
</dd>
<dt><code>imei_attach</code></dt>
<dd><p>Optional boolean (default = false). If true, attach procedure will be done with an IMEI instead of an IMSI.
</p>
</dd>
<dt><code>ue_usage_setting</code></dt>
<dd><p>Optional enumeration: none, voice, data (default = data). Sets the UE usage setting as defined
  in 3GPP TS 24.008 chapter 10.5.5.28 and 3GPP TS 24.501 chapter 9.11.3.55.
</p>
</dd>
<dt><code>voice_domain_preference_eutran</code></dt>
<dd><p>Optional enumeration: cs_only, ims_ps_only, cs_preferred, ims_ps_preferred (default = ims_ps_only).
  Sets the voice domain preference for E-UTRAN as defined in 3GPP TS 24.008 chapter 10.5.5.28.
</p>
</dd>
<dt><code>cp_ciot_opt</code></dt>
<dd><p>Optional boolean (default = false). If true, enable control plane
  CIoT optimization support. It can be used if the network supports it.
</p>
</dd>
<dt><code>cp_edt</code></dt>
<dd><p>Optional boolean (default = false). If true and control plane CIoT is supported, 
  enable CP-EDT support.
</p>
</dd>
<dt><code>attach_without_pdn</code></dt>
<dd><p>Optional boolean (default = false). If true ;<br>
  For LTE, enable attach without PDN for data
  transfer via SMS. It can be used if the network supports it.<br>
  For 5G, the UE will not set the Follow-On request bit in the initial registration message
  and will not request any PDU session establishment, unless a call to <code>pdn_connect</code> is performed.
</p>
</dd>
<dt><code>attach_pdn_type</code></dt>
<dd><p>Optional enumeration: ipv4, ipv6, ipv4v6, unstructured, ethernet (default = ipv4v6).<br>
  For LTE, selects the PDN type for the PDN connectivity request message piggybacked in attach request.<br>
  For 5G, selects the PDU session type for the PDU session establishment request sent after the UE registration.<br>
  Note that IPv6 and Ethernet require the use of the tun interface.
</p>
</dd>
<dt><code>attach_pdn_ims</code></dt>
<dd><p>Optional boolean (default = false). Specifies if the PDN connectivity request message piggybacked in attach request
  or the first PDU session establishment request sent after the UE registration is for IMS or not.
</p>
</dd>
<dt><code>combined_eps_imsi_attach</code></dt>
<dd><p>Optional boolean (default = false). If true, attach procedure type will use combined EPS/IMSI.
</p>
</dd>
<dt><code>sms_centre_address</code></dt>
<dd><p>Optional object used to configure the SMS centre address.
  Contains the following parameters:
  </p><dl compact="compact">
<dt><code>type_of_number</code></dt>
<dd><p>Optional enumeration &quot;unknown&quot;, &quot;international&quot;, &quot;national&quot; (default = &quot;unknown&quot;).
    SMS centre address type of number.
    </p></dd>
<dt><code>numbering_plan</code></dt>
<dd><p>Optional enumeration &quot;unknown&quot;, &quot;national&quot;, &quot;private&quot; (default = &quot;unknown&quot;).
    SMS centre address numbering plan identification.
    </p></dd>
<dt><code>number</code></dt>
<dd><p>String. Contains optional &rsquo;+&rsquo; at first position followed by a maximum of 20 digits. SMS centre address number.
  </p></dd>
</dl>

</dd>
<dt><code>use_security_context_for_registration</code></dt>
<dd><p>Optional boolen (default = true). If false, the UE will never use its current security context for the
  EMM attach request or initial 5GMM registration request message.
</p>
</dd>
<dt><code>eutra_voice_support</code></dt>
<dd><p>Optional boolean (default = true). If true, UE declares voice support in EUTRA RRC capabilities.
</p>
</dd>
<dt><code>nr_voice_support</code></dt>
<dd><p>Optional boolean (default = true). If true, UE declares voice support in NR RRC capabilities.
</p>
</dd>
<dt><code>lpp_support</code></dt>
<dd><p>Optional boolean (default = true). Indicates the support of LPP in the UE.
</p>
</dd>
<dt><code>cipher_algo_bitmap</code></dt>
<dd><p>Optional integer (default = 0xe0). Defines the ciphering algorithms advertised by the UE in
  the NAS UE Network Capability information element. The coding of the field is per 3GPP TS 24.301
  chapter 9.9.3.34: most significant bit is for EEA0/5G-EA0, followed by EEA1/5G-EA1, EEA2/5G-EA2 and EEA3/5G-EA3.
</p>
<p>If encryption is necessary, AES (EEA2/5G-EA2) would give the best performance
if your CPU supports the AES NI Intel instruction set (use  &quot;grep -o aes /proc/cpuinfo&quot; 
in Linux to see if AES is displayed). In this case, it is recommended to configure the network to use EEA2. Alternatively, the EEA2 usage could be forced at the network side by setting the supported algorithms to EEA0 and EEA2 in the bitmap, if there is no other solution.<br>
</p>
</dd>
<dt><code>integ_algo_bitmap</code></dt>
<dd><p>Optional integer (default = 0xe0). Defines the integrity algorithms advertised by the UE in
  the NAS UE Network Capability information element. The coding of the field is per 3GPP TS 24.301
  chapter 9.9.3.34: most significant bit is for EIA0/5G-IA0, followed by EIA1/5G-IA1, EIA2/5G-IA2 and EIA3/5G-IA3.
</p>
<p>For best performance, use AES (EIA2/5G-IA2) if your CPU supports the
AES NI Intel instruction set (use  &quot;grep -o aes /proc/cpuinfo&quot; 
in Linux to see if AES is displayed). In this case, it is recommended to configure the network to use EIA2. Alternatively, the EIA2 usage could be forced at the network side by setting the supported algorithms to EIA0 and EIA2 in the bitmap, if there is no other solution.
</p>
</dd>
<dt><code>cell_index</code></dt>
<dd><p>Optional integer. Defines the cell index (index of the object in the <code>cells</code> array) to be used for the initial cell selection. If <code>rrc_initial_selection</code> is set to true, <code>cell_index</code> is ignored.
</p>  
</dd>
<dt><code>rrc_initial_selection</code></dt>
<dd><p>Optional boolean (default = true). It set to true, RRC initial cell selection according to 3GPP 36.304 and 38.304 is performed and <code>cell_index</code> is ignored.
</p>
</dd>
<dt><code>rrc_sel_resel</code></dt>
<dd><p>Optional boolean (default = true). It set to false, RRC cell selection and reselection according to 3GPP 36.304 and 38.304 are not performed.
</p>
</dd>
<dt><code>ue_count</code></dt>
<dd><p>Optional integer (default = 1). Create n user entries by incrementing the IMSI and K. All other properties would stay the same for the UEs. Note that you should as well create the same user entries at the MME side with their corresponding IMSI and K values (For Amarisoft MME, you can use the <code>count</code> parameter).
</p>
</dd>
<dt><code>rsrq_offset</code></dt>
<dd><p>Optional float (default = 0). Add an offset in dB to the measured RSRQ.
</p>
</dd>
<dt><code>apply_ul_mbr</code></dt>
<dd><p>Optional boolean (default = true). If set to true, the UE restricts the UL traffic to the configured non-GBR AMBR or GBR MBR/MFBR.
</p>
</dd>
<dt><code>pdsch_fer</code></dt>
<dd><p>Optional float. Range 0 to 1 (default = 0). If different from zero, simulate a
  given Frame Error Rate (or BLER) for each PDSCH decoding. The FER is
  simulated only when the PDSCH are successfully
  decoded. Note: <code>pdsch_fer</code> overrides the FER coming from the UE
  channel simulator.
</p>
</dd>
</dl>

<span id="LTE-specific-parameters"></span><h4 class="subsubsection">6.6.3.2 LTE specific parameters</h4>

<!-- prop:ue_list -->

<dl compact="compact">
<dt><code>dl_category</code></dt>
<dd><p>Optional integer (0 to 15, 20). If present, set the DL UE category for a
  release 12 UE or for the secondary RAT in a NR UE with s1 mode support. Not all combinations of DL UE category and UL UE
  category are allowed (see Table 4.1A-6 in 3GPP TS 36.306).
  DL category 20 is only supported for release 15 UE.
</p>
</dd>
<dt><code>ul_category</code></dt>
<dd><p>Optional integer (0 to 13, 16 to 20). Must be present if <code>dl_category</code> is
  present. Set the UL UE category for a release 12 UE or for the secondary RAT in a NR UE with s1 mode support.
  UL category 16 or higher is only supported for release 14 UE.
</p>
</dd>
<dt><code>drx_cycle</code></dt>
<dd><p>Optional integer (32, 64, 128 or 256 for LTE and NR UEs, 32, 64, 128, 256, 512 or 1024 for NB-IOT UEs).
  If set, the UE indicates a UE specific DRX cycle in the EPS NAS Attach Request or 5GS Registration Request
  message and uses it for paging monitoring.
</p>
</dd>
<dt><code>sps</code></dt>
<dd><p>Optional boolean (default = false). When set to true, the UE indicates 
  semi-persistent scheduling support in its capabilities.
</p>
</dd>
<dt><code>tti_bundling</code></dt>
<dd><p>Optional boolean (default = false). When set to true, the UE indicates
  TTI bundling support in its capabilities.
  UE with release 12 or higher will also declare support for e-HARQ-Pattern-FDD-r12
  and noResourceRestrictionForTTIBundling-r12.
</p>
</dd>
<dt><code>half_duplex</code></dt>
<dd><p>Optional boolean (default = false). Set UE duplex mode.
</p>
</dd>
<dt><code>mbms</code></dt>
<dd><p>Optional boolean (default = true). If true, MBMS is enabled. 
</p>
</dd>
<dt><code>forced_cqi</code></dt>
<dd><p>Optional integer. Range 0 to 15 (default = -1). If &gt;= 0, forces the CQI reported to eNB.
</p>
</dd>
<dt><code>forced_ri</code></dt>
<dd><p>Optional integer. Range -1 to 8 (default = 0). If &gt;= 1 force the
  Rank Indicator (RI) reported to eNodeB. 0 indicates to compute the
  RI (currently it is always set to the maximum number of layers
  determined from the transmission mode, number of downlink antennas and UE
  capabilities). -1 forces the RI to cycle between 1 and the maximum
  number of layers.
</p>
</dd>
<dt><code>forced_pmi</code></dt>
<dd><p>Optional integer. Range -1 to 15 (default = -1). If &gt;= 0, force the
  Precoding Matrix Indicator (PMI) in the CSI reports. Otherwise the
  PMI is randomly selected.
</p>
</dd>
<dt><code>max_mimo_layers_dl</code></dt>
<dd><p>Optional integer (default = 0). Range 0 to 8. If != 0, the maximum
  number of DL MIMO layers in the UE capabilities is set to
  min(max_mimo_layers_dl, n_antenna_dl).
</p>
</dd>
<dt><code>random_ap_subband_cqi</code></dt>
<dd><p>Optional boolean (default = false). If true, send random aperiodic
  subband CQI (reporting modes 3-0 and 3-1). The wideband CQI is not
  random.
</p>
</dd>
<dt><code>random_ap_subband_pmi</code></dt>
<dd><p>Optional boolean (default = false). If true, send random aperiodic
  subband PMI (reporting mode 1-2). The wideband PMI is not random.
</p>
</dd>
<dt><code>forced_ce_level</code></dt>
<dd><p>Optional integer. Range -1 to 3 (default = -1). If &gt;= 0, force the
  coverage extension level (UE Category M1 or NB-IoT only).
</p>
</dd>
</dl>

<span id="NB_002dIoT-specific-parameters"></span><h4 class="subsubsection">6.6.3.3 NB-IoT specific parameters</h4>

<!-- prop:ue_list -->

<dl compact="compact">
<dt><code>multi_tone</code></dt>
<dd><p>Optional boolean (default = true). If true, UE declares support for
  multi tone.
</p>  
</dd>
<dt><code>multi_carrier</code></dt>
<dd><p>Optional boolean (default = false). If true, UE declares support for
  multi carriers. This option is only compatible in UE simulation
  mode (<code>multi_ue:true</code>).<br>
  <code>bandwidth</code> or <code>sample_rate</code> should be large enough to fit the 
  the expected non-anchor carriers around the anchor carrier. There is no need to specify
  the DL/UL EARFCN of the non anchor carriers.
  If the UE is also release 14 or higher, NPRACH and paging on non anchor carrier is supported.
</p>
</dd>
<dt><code>two_harq</code></dt>
<dd><p>Optional boolean (default = false). If true, UE declares support for
  two HARQ processes (NB-IoT category NB2 only).
</p>
</dd>
<dt><code>interf_rnd</code></dt>
<dd><p>Optional boolean (default = false). If true, UE declares support for
  interference randomisation feature (NB-IoT Rel 14 only).
  If UE declares multi carrier support, the value defaults to true.
</p>
</dd>
</dl>

<span id="NR-specific-parameters"></span><h4 class="subsubsection">6.6.3.4 NR specific parameters</h4>

<!-- prop:ue_list -->

<dl compact="compact">
<dt><code>en_dc_support</code></dt>
<dd><p>Optional boolean (default = false). Activates EN-DC support to perform 5G NSA. Need at least <code>as_release</code> 15 and <code>ue_category</code> 1.
</p>
</dd>
<dt><code>n1_support</code></dt>
<dd><p>Optional boolean applicable to a LTE UE only (default = false). Activates the N1 mode in the UE.
</p>
</dd>
<dt><code>s1_support</code></dt>
<dd><p>Optional boolean applicable to a NR UE only (default = false). Activates the S1 mode in the UE.
</p>
</dd>
<dt><code>srb3_support</code></dt>
<dd><p>Optional boolean (default = false). Activates SRB3 support for EN-DC UEs.
</p>
</dd>
<dt><code>rrc_inactive_support</code></dt>
<dd><p>Optional boolean (default = false). Activates RRC Inactive mode support (SA only).
</p>
</dd>
<dt><code>sul_support</code></dt>
<dd><p>Optional boolean (default = false). Activates Supplementary Uplink support.
  The cell used as supplementary uplink should be defined in the NR cell_group and 
  transmit at least a valid SSB, similarly to carrier aggregation operation.
  <code>multi_ue</code> also needs to be set to true.
</p>
</dd>
<dt><code>uplink_tx_switch_option</code></dt>
<dd><p>Optional enumeration : none, switched, dual, both (default = none).
  If set different from <code>none</code> and if <code>ul_ca</code> is false, the UE will advertise
  Uplink Tx Switch band combinations and set the corresponding value for uplinkTxSwitching-OptionSupport-r16.
</p>
</dd>
<dt><code>ecc_params</code></dt>
<dd><p>Optional object. Set the parameters used for concealing the subscription permanent identifier (SA only).
    </p><dl compact="compact">
<dt><code>scheme</code></dt>
<dd><p>Optional enumeration: null, A, B (default = null). Set the protection scheme.
      </p></dd>
<dt><code>home_nw_public_key</code></dt>
<dd><p>Conditional string. Shall be absent if scheme is null, and present otherwise.
      Set the home network public key.
      Length shall be 32 bytes for profile A and 33 for profile B.
      </p></dd>
<dt><code>home_nw_public_key_id</code></dt>
<dd><p>Integer in range 0 to 255. Set the home network public key identifier related to the provided home network public key.
      Value 0 is only valid for null scheme protection.
      </p></dd>
<dt><code>routing_indicator</code></dt>
<dd><p>Optional string (default = &quot;0&quot;). 
      1 to 4 numerical digits.
      Set the home network routing indicator.
    </p></dd>
</dl>

</dd>
<dt><code>nr_forced_cqi</code></dt>
<dd><p>Optional integer. Range 0 to 15 (default = -1). If &gt;= 0, forces the
  CQI reported in the CSI reports.
</p>
</dd>
<dt><code>nr_forced_ri</code></dt>
<dd><p>Optional integer. Range -1 to 8 (default = 0). If &gt;= 1 force the
  Rank Indicator (RI) in the CSI reports.
</p>
</dd>
<dt><code>nr_forced_pmi_i1</code></dt>
<dd><p>Optional integer  (default = -1). If &gt;= 0, force the
  Precoding Matrix Indicator i1 in the CSI reports.
  The subparts of the i1 (i1_1, i1_2 and i1_3) are extracted from the value
  and cropped accordingly based on the network-configured codebook and reported rank indicator.
</p>  
</dd>
<dt><code>nr_forced_pmi_i2</code></dt>
<dd><p>Optional integer  (default = -1). If &gt;= 0, force the
  Precoding Matrix Indicator i2 in the CSI reports.
</p>
</dd>
<dt><code>nr_forced_li</code></dt>
<dd><p>Optional integer (default = -1). If &gt;= 0, force the
  Layer Indicator in the CSI reports with CRI_RI_LI_PMI_CQI report quantity.
</p>
</dd>
<dt><code>nr_max_mimo_layers_dl</code></dt>
<dd><p>Optional integer (default = 0). Range 0 to 8. If != 0, the
  maximum number of DL MIMO layers in the UE capabilities is set to
  min(nr_max_mimo_layers_dl, n_antenna_dl).
</p>
</dd>
<dt><code>nr_max_mimo_layers_ul</code></dt>
<dd><p>Optional integer (default = 0). Range 0 to 8. If != 0, the
  maximum number of UL MIMO layers in the UE capabilities is set to
  min(nr_max_mimo_layers_ul, n_antenna_ul).
</p>
</dd>
<dt><code>ptrs_density_recommendation_dl</code></dt>
<dd>  
<p>Optional object. Specify the <code>ptrs-DensityRecommendationSetDL</code>
  NR UE RRC capability for all the supported bands. The following object
  properties are defined:
</p>
<dl compact="compact">
<dt><code>frequency_density</code></dt>
<dd><p>Optional array of 2 integers (default = <code>[1, 176]</code>).
    </p></dd>
<dt><code>time_density</code></dt>
<dd><p>Optional array of 3 integers (default = <code>[0, 0, 0]</code>).
    </p></dd>
</dl>

<span id="default_005fpdu_005fsession_005fsnssai"></span></dd>
<dt><code>default_pdu_session_snssai</code></dt>
<dd><p>Optional object (SA only). S-NSSAI provided by the UE during the establishment of the default PDU session.<br>
  If not present, no S-NSSAI is provided.
  </p><dl compact="compact">
<dt><code>sst</code></dt>
<dd><p>Integer (range 0-255). Slice Service Type.
      </p></dd>
<dt><code>sd</code></dt>
<dd><p>Optional integer (range 0-0xFFFFFE). Slice Differentiator.
    </p></dd>
</dl>

</dd>
<dt><code>default_nssai</code></dt>
<dd><p>Optional array (SA only). Default configured NSSAI as defined in 3GPP TS 23.501.<br>
  Each entry will set a S-NSSAI value as defined below:<br>
  See <a href="#default_005fpdu_005fsession_005fsnssai">default_pdu_session_snssai</a>
</p>
</dd>
<dt><code>snssai_credentials</code></dt>
<dd><p>Optional array (SA only). Each entry will set the credentials of a given S-NSSAI as defined below:<br>
    </p><dl compact="compact">
<dt><code>snssai</code></dt>
<dd><p>S-NSSAI value.
    See <a href="#default_005fpdu_005fsession_005fsnssai">default_pdu_session_snssai</a>
    </p></dd>
<dt><code>username</code></dt>
<dd><p>String (up to 100 characters) containing the user name used for NSSAA.
    </p></dd>
<dt><code>password</code></dt>
<dd><p>String (up to 100 characters) containing the password used for NSSAA.
  </p></dd>
</dl>

</dd>
<dt><code>eap_tls</code></dt>
<dd><p>Optional object applicable to SA only.
  Shall be present if EAP-TLS method is supported by the UE.<br>
  It contains the following objects:
  </p><dl compact="compact">
<dt><code>certificate</code></dt>
<dd><p>Define the user certificate filename.
    </p></dd>
<dt><code>private_key</code></dt>
<dd><p>Define the user private key filename.
    </p></dd>
<dt><code>ca_certificate</code></dt>
<dd><p>Define the CA certificate filename. It contains a list of root
    certificates to authenticate the server.
  </p></dd>
</dl>

</dd>
<dt><code>snpn_access_mode</code></dt>
<dd><p>Optional boolean applicable to SA only (default = false).
  Activates the SNPN mode in the UE.
  This mode is configurable dynamically when the UE is powered off using the remote api <code>config_set</code>.
</p>
</dd>
<dt><code>allowed_snpn</code></dt>
<dd><p>Optional object (SA only). Set the SNPN id to select in SNPN mode.
    </p><dl compact="compact">
<dt><code>plmn</code></dt>
<dd><p>String (5 or 6 digits).
      </p></dd>
<dt><code>nid</code></dt>
<dd><p>Network Identifier as defined in 23.003 12.7 Stand-Alone Non-Public Network Identifier.
      Contains the following parameters:
      </p><dl compact="compact">
<dt><code>value</code></dt>
<dd><p>String (10 hexadecimal digits). NID value.
        </p></dd>
<dt><code>assignment_mode</code></dt>
<dd><p>Optional enumeration (&quot;self&quot;, &quot;coordinated_1&quot;, &quot;coordinated_2&quot;). Default value is &quot;self&quot;.
      </p></dd>
</dl>
</dd>
</dl>

</dd>
<dt><code>cag_info_list</code></dt>
<dd><p>Optional array (SA only). Preconfigured CAG information list as defined in 3GPP TS 23.501 5.30.3.3 UE configuration. Each element of the array contains:
    </p><dl compact="compact">
<dt><code>plmn</code></dt>
<dd><p>String (5 or 6 digits).
      </p></dd>
<dt><code>cag_id_list</code></dt>
<dd><p>Array of 1 to 12 integers (range 0 to 4294967295) giving the list of the allowed CAG-Identifiers.
      </p></dd>
<dt><code>cag_only_ind</code></dt>
<dd><p>Optional boolean (default = false). Indication that the UE is only allowed to access 5GS via CAG cells.
    </p></dd>
</dl>

</dd>
<dt><code>redcap</code></dt>
<dd><p>Optional enumeration (normal redcap, eredcap). Set the UE type in SA.
    The <code>as_release</code> needs to be at least 17 for <code>redcap</code> and 18 for <code>eredcap</code>.
</p>
</dd>
<dt><code>eredcap_reduced_bb_bw</code></dt>
<dd><p>Optional boolean (default = true). Defines if the eRedCap UE is with reduced baseband bandwidth or not.
</p>
</dd>
<dt><code>half_duplex</code></dt>
<dd><p>Optional boolean (default = false). Set a RedCap UE as half-duplex. Value is ignored if <code>redcap</code> is not set.
</p>
</dd>
</dl>

<span id="Power-control"></span><h4 class="subsection">6.6.4 Power control</h4>

<p>The following parameter control the UE power:
</p>
<!-- prop:ue_list -->

<dl compact="compact">
<dt><code>power_control_enabled</code></dt>
<dd><p>Optional boolean. If set, UE power control is enabled. The uplink
messages are transmitted with the power specified by the standard.
</p>
<p>The default value of <code>power_control_enabled</code> is <code>true</code> if the UE
channel simulator is enabled and otherwise <code>false</code>.
</p>
<p>If the UE power control is disabled, the uplink messages are
transmitted with a constant EPRE (Energy Per Resource Element) =
<code>EPRE_max</code> determined by <code>tx_gain_offset</code> (digital gain) and
<a href="#tx_005fgain">tx_gain</a> (RF interface TX gain).
</p>
<p>When the UE power control is enabled, the EPRE (Energy Per Resource
Element) is limited by <code>EPRE_max</code> so that there is no digital
saturation even if the uplink bandwidth is shared between several UEs.
</p>
<p>The <code>sat</code> column of the <code>t g</code> monitor command counts the
number of times the UE simulator had to limit the TX power of an
uplink signal (e.g. PUCCH or PUSCH) to <code>EPRE_max</code>. It indicates
that the actual UE TX power was lower than the specified one.
</p>
</dd>
<dt><code>power</code></dt>
<dd><p>Optional float (only meaningful if UE power control is enabled). Set
the maximum UE transmit power in dBm. The default value is 23 dBm.
</p>
<p>Note that the actual maximum TX power may be lower because of the
limited power of the RF interface and because of the uplink EPRE
limitation (see the <code>power_control_enabled</code> parameter).
</p>
</dd>
<dt><code>power_min</code></dt>
<dd><p>Optional float (default = -40) (only meaningful if UE power control is
enabled). Set the minimum UE transmit power in dBm.
</p>
</dd>
</dl>

<span id="RF-test-mode"></span><h4 class="subsection">6.6.5 RF test mode</h4>

<p>The following parameters configure the UE RF test mode:
</p>
<!-- prop:ue_list -->

<dl compact="compact">
<dt><code>test_mode</code></dt>
<dd><p>Optional Object. If present, enable the UE RF test mode. In this mode,
the UE automatically goes to RRC connected mode with a default
configuration after acquiring the System Information. Then it listens
to PDCCH to initiate PDSCH or PUSCH transmissions. It also transmits
PUCCH ACK/NACK and listens to PHICH.
</p>
<p>The following properties are available for LTE UEs:
</p>
<dl compact="compact">
<dt><code>rnti</code></dt>
<dd><p>Integer. Range 0 to 65535. Select the C-RNTI.
</p>
</dd>
<dt><code>trans_mode</code></dt>
<dd><p>Integer. (LTE only) Range 1 to 9. Select the PDSCH transmission mode.
</p>
</dd>
<dt><code>dl_256qam</code></dt>
<dd><p>Optional boolean. (LTE only) Enable the DL 256QAM MCS table.
</p>
</dd>
</dl>

<p>The following properties are available for NB-IoT UEs:
</p>
<dl compact="compact">
<dt><code>rnti</code></dt>
<dd><p>Integer. Range 0 to 65535. Select the C-RNTI.
</p>
</dd>
<dt><code>npdcch_uss_n_rep_max</code></dt>
<dd><p>Integer. Range: 1 to 2048. Maximum number of repetition for the User
  Search Space (USS) NPDCCH.
</p>
</dd>
<dt><code>npdcch_uss_start_sf</code></dt>
<dd><p>Enumeration: 1.5, 2, 4, 8, 16, 32, 48, 64. Used to compute of the period of the USS NPDCCH by multiplying it to <code>npdcch_uss_n_rep_max</code>.
</p>  
</dd>
<dt><code>npdcch_uss_offset</code></dt>
<dd><p>Integer. Range: 0 to 3. USS NPDCCH start offset in 8th of the USS
  NPDCCH period.
</p>
</dd>
<dt><code>ul_sc_spacing</code></dt>
<dd><p>Enumeration: 0, 1. Select the subcarrier spacing used by the UE. 0 =
  3.75 KHz subcarriers, 1 = 15 KHz subcarriers.
</p>
</dd>
<dt><code>timing_advance</code></dt>
<dd><p>Integer (0 to 1282). Initial timing advance in 1/1.92 microsecond.
</p>
</dd>
</dl>

<p>The following properties are available for NR UEs:
</p>
<dl compact="compact">
<dt><code>rnti</code></dt>
<dd><p>Integer. Range 0 to 65535. Select the C-RNTI.
</p>
</dd>
<dt><code>dmrs_type_a_pos</code></dt>
<dd><p>Integer. Range 2 to 3. dmrs-TypeA-Position parameter.
</p>
</dd>
<dt><code>ssb_pos_bitmap</code></dt>
<dd><p>String. SSB position bitmap in bits (4, 8 or 64 bits depending on the DL frequency).
</p>
</dd>
<dt><code>ssb_period</code></dt>
<dd><p>Enumeration (5, 10, 20, 40, 80, 160). SSB periodicity in ms.
</p>
</dd>
<dt><code>pdcch</code></dt>
<dd><p>Object containing the following parameters:
    </p><dl compact="compact">
<dt><code>rb_start</code></dt>
<dd><p>Integer. Range 0 to 274. PDCCH resource block start.
    </p></dd>
<dt><code>l_crb</code></dt>
<dd><p>Integer. PDCCH resource block length.
    </p></dd>
<dt><code>duration</code></dt>
<dd><p>Integer. Range 1 to 3. PDCCH duration.
    </p></dd>
<dt><code>n_candidates</code></dt>
<dd><p>Array of 5 integers. Enumeration: 0, 1, 2, 3, 4, 5, 6, 8.
    nrofCandidates parameters for each aggregation level (1, 2, 4, 8, 16).
    </p></dd>
</dl>

</dd>
<dt><code>pdsch</code></dt>
<dd><p>Object containing the following parameters:
    </p><dl compact="compact">
<dt><code>start_symb</code></dt>
<dd><p>Integer. Range 0 to 3. PDSCH start symbol.
    </p></dd>
<dt><code>n_symb</code></dt>
<dd><p>Optional integer. Range 3 to 14-<code>start_symb</code>, default = 14-<code>start_symb</code>.
    Number of symbols for PDSCH.
    </p></dd>
<dt><code>k0</code></dt>
<dd><p>Integer. Range 0 to 3. Delay in slots from DCI to PDSCH.
    </p></dd>
</dl>

</dd>
<dt><code>pucch</code></dt>
<dd><p>Object containing the following parameters:
    </p><dl compact="compact">
<dt><code>pucch_group_hopping</code></dt>
<dd><p>Enumeration: neither, enable, disable. pucch-GroupHopping parameter.
    </p></dd>
</dl>

</dd>
<dt><code>pusch</code></dt>
<dd><p>Object containing the following parameters:
    </p><dl compact="compact">
<dt><code>beta_offset_ack_index</code></dt>
<dd><p>Integer. Range 0 to 15.
    </p></dd>
<dt><code>n_symb</code></dt>
<dd><p>Integer. Range 4 to 14. Number of symbols for PUSCH.
    </p></dd>
<dt><code>tf_precoding</code></dt>
<dd><p>Boolean. Enable transform precoding for PUSCH (only used in DCI 0_1).
    </p></dd>
<dt><code>k2</code></dt>
<dd><p>Integer. Range 0 to 7. Delay in slots from DCI to PUSCH.
    </p></dd>
</dl>

</dd>
<dt><code>timing_advance</code></dt>
<dd><p>Integer. Range 0 to 4095. Timing advance value in TA units.
</p>
</dd>
</dl>

</dd>
</dl>


<span id="channel_005fsim"></span><span id="Channel-Simulator"></span><span id="Channel-simulator"></span><h3 class="section">6.7 Channel simulator</h3>

<span id="Introduction-1"></span><h4 class="subsection">6.7.1 Introduction</h4>

<p>The UE channel simulator simulates an AWGN or fading channel for each
UE. It is available in multi UE mode for LTE or NR UEs.
</p>
<p>On the downlink side, depending on the simulated UE path loss and
fading model, the channel simulator modifies the PER (Packet Error
Rate) of PDSCH and PDCCH and updates the measured RSRP and CSI. On the
uplink side, the signal level is modified according to the path loss
and the fading model is applied.
</p>
<p>The path loss of each UE is computed according to the corresponding UE
and cell positions and the channel and antenna models.
</p>
<p>The channel simulator is enabled with the global <code>channel_sim</code>
parameter. It can optionally be disabled with the per-UE parameter
<code>channel_sim</code> parameter.
</p>
<span id="Per-cell-parameters"></span><h4 class="subsection">6.7.2 Per cell parameters</h4>

<p>When the channel simulator is enabled, the following additional parameters may be
specified for each cell:
</p>
<!-- prop:cell_groups.cells -->

<dl compact="compact">
<dt><code><code>n_antenna_dl</code></code></dt>
<dd><p>Optional integer (default = 1). Set the number of simulated UE downlink antennas.
</p>
</dd>
<dt><code><code>n_antenna_ul</code></code></dt>
<dd><p>Optional integer (default = 1). Set the number of simulated UE uplink antennas.
</p>
</dd>
<dt><code>n_antenna_dl_rf</code></dt>
<dd><p>Optional integer (default = <code>n_antenna_dl</code>). Specifies the number
of eNB/gNB DL RF antennas for this cell. For LTE cells, it is usually
equal to the number of PBCH antennas. When using a
<code>parabolic_panel</code> antenna, it must be equal to (p*n1*n2).
</p>
</dd>
<dt><code>n_antenna_ul_rf</code></dt>
<dd><p>Optional integer (default = <code>n_antenna_ul</code>). Specifies the number
of eNB/gNB UL RF antennas for this cell. When using a
<code>parabolic_panel</code> antenna, it must be equal to (p*n1*n2).
</p>

</dd>
<dt><code>position</code></dt>
<dd><p>Array of 1 to 3 floats. X, Y and Z coordinates of the cell antenna, in
meters. If less than 3 elements are provided, the remaining
coordinates are set to zero. For the <code>satellite</code> antenna type, the position
corresponds to the beam center on the ground.
</p>
</dd>
<dt><code>antenna</code></dt>
<dd><p>Object. Cell antenna parameters:
    </p><dl compact="compact">
<dt><code>type</code></dt>
<dd><p>Enumeration: isotropic, parabolic, parabolic_panel, satellite. An
    <code>isotropic</code> antenna radiates the same intensity in all
    directions. A <code>parabolic</code> antenna sends a beam in a given
    direction (attenuation in dB = <code>min(max_attenuation,
    12*(phi/beam_width)^2)</code> where <code>phi</code> is the radiation angle. A
    <code>parabolic_panel</code> antenna is the same as a parabolic antenna
    except that it has several N1 antenna elements in the Y direction,
    N2 antenna elements in the Z direction and P polarisation channels
    per antenna elements. See 3GPP TR 38.901 section 7.3 for more information.
    A <code>satellite</code> antenna emulates a satellite link for NTN operation and is valid
    only for a NR cell.
</p>
</dd>
<dt><code>attenuation</code></dt>
<dd><p>Optional enumeration (urban, vacuum, atmospheric, custom, custom_freq). Set the propagation loss model. It must be provided for the <code>satellite</code> antenna. For the other antenna types it is set to <code>urban</code> by default. The following values are available:
      </p><dl compact="compact">
<dt><code>urban</code></dt>
<dd><p>The path loss in dB is computed from the 3GPP urban model as <code>A +
      B * log10(d)</code> where <code>d</code> is the distance in meters between the
      UE and the cell antenna, <code>A</code> = 15.3 and <code>B</code> = 37.6.
      </p></dd>
<dt><code>custom</code></dt>
<dd><p>Same as <code>urban</code> except than <code>A</code> and <code>B</code> can be set.
      </p></dd>
<dt><code>custom_freq</code></dt>
<dd><p>Same as <code>custom</code> with an additional frequency term. The path loss is defined as <code>A +
      B * log10(d) + 20 * log10(f)</code> where <code>f</code> is the downlink frequency in Hz.
      </p></dd>
<dt><code>vacuum</code></dt>
<dd><p>Free space path loss depending only on the downlink frequency and distance.
      </p></dd>
<dt><code>atmospheric</code></dt>
<dd><p>Only available for satellite. Same as <code>vacuum</code> but with an
      additional atmospheric attenuation term depending on the satellite
      elevation.
      </p></dd>
</dl>
      
</dd>
<dt><code>attenuation_A</code></dt>
<dt><code>attenuation_B</code></dt>
<dd><p>Optional float. Parameters for the <code>custom</code> and <code>custom_freq</code> attenuation.
    </p></dd>
</dl>

<p>The following parameters are for the <code>parabolic</code>,
    <code>parabolic_panel</code> and <code>satellite</code> antennas:
    </p><dl compact="compact">
<dt><code>max_attenuation</code></dt>
<dd><p>Optional float (default = 20). Maximum attenuation in dB when the UE is out of the beam coverage
    </p></dd>
</dl>

<p>The following parameters are for the <code>parabolic</code> and
    <code>parabolic_panel</code> antennas:
</p>
<dl compact="compact">
<dt><code>beam_width</code></dt>
<dd><p>Optional float (default = 70). Horizontal beam half-width in degrees.
    </p></dd>
<dt><code>vertical_beam_width</code></dt>
<dd><p>Optional float (default = 70). Vertical beam half-width in degrees.
    </p></dd>
<dt><code>orientation</code></dt>
<dd><p>Float (range = -180 to 180). Orientation of the antenna in the X-Y
    plane in degress.
    </p></dd>
<dt><code>elevation</code></dt>
<dd><p>Optional float (range = -90 to 90, default = 0). Elevation of the
    antenna in degrees.
    </p></dd>
</dl>
    
<p>The following parameters are for the <code>parabolic_panel</code>
    antenna:
</p>
<dl compact="compact">
<dt><code>n1</code></dt>
<dd><p>Integer. Number of antenna elements in the Y direction.
    </p></dd>
<dt><code>n2</code></dt>
<dd><p>Optional integer (default = 1). Number of antenna elements in the
    Z direction.
    </p></dd>
<dt><code>p</code></dt>
<dd><p>Optional integer (range = 1 to 2, default = 2). Number of
    polarisation channels per antenna element.
    </p></dd>
<dt><code>d1</code></dt>
<dd><p>Optional float (default = 0.5). Distance between the antenna elements in the Y direction in wavelength units.
    </p></dd>
<dt><code>d2</code></dt>
<dd><p>Optional float (default = 0.5). Distance between the antenna elements in the Z direction in wavelength units.
    </p></dd>
</dl>
<p>The RF channel index c corresponding to an antenna element can be
    computed as c=(k*n2+j)*n1+i with 0 &lt;= i &lt; n1, 0 &lt;= j &lt; n2, 0 &lt;= k
    &lt; p and 0 &lt;= c &lt; p*n2*n1. i is the antenna element index in the Y
    direction, j is the antenna element index in the Z direction and k
    is the index of the polarisation channel.
</p>

<p>The following parameters are for the <code>satellite</code> antenna:
</p>
<dl compact="compact">
<dt><code>beam_width</code></dt>
<dd><p>Optional float (default = 5). Conical beam half-width in degrees.
    </p></dd>
<dt><code>ephemeris_from_sib</code></dt>
<dd><p>Optional boolean (default = true).
    If true, the satellite orbit will be determined based on SIB19 reception.
    If false, the orbit information needs to be explicitely given by the <code>tle_filename</code> or <code>ephemeris</code> parameters.
    </p></dd>
<dt><code>tle_filename</code></dt>
<dd><p>Optional string. If <code>ephemeris_from_sib</code> is false, specifies a TLE file to describe satellite orbit.
    </p></dd>
<dt><code>ephemeris</code></dt>
<dd><p>Optional object. If <code>ephemeris_from_sib</code> is false and <code>tle_filename</code> is absent, this parameter describes explicitely the orbital elements of the satellite.
    The ephemeris configuration is understood in a fixed ECI reference frame aligned with the J2000 vernal equinox, like a TLE configuration.<br>
    Contains the following parameters:
        </p><dl compact="compact">
<dt><code>eccentricity</code></dt>
<dd><p>Float value. Range 0 to 0.99. Eccentricity, unitless
        </p></dd>
<dt><code>inclination</code></dt>
<dd><p>Float value. Range <em>0</em> to <em>\pi</em>. Inclination, in radians. Value between <em>\pi/2</em> and <em>\pi</em> will be encoded as <em>-\pi/2</em> to -1 in RRC ASN.1 representation.
        </p></dd>
<dt><code>semi_major_axis</code></dt>
<dd><p>Float value. Semi-major axis, in meters.
        </p></dd>
<dt><code>longitude</code></dt>
<dd><p>Float value. Range 0 to <em>2\pi</em>. Longitude of the ascending node, in radians.
        </p></dd>
<dt><code>periapsis</code></dt>
<dd><p>Float value. Range 0 to <em>2\pi</em>. Argument of periapsis, in radians.
        </p></dd>
<dt><code>anomaly</code></dt>
<dd><p>Float value. Range 0 to <em>2\pi</em>. Mean anomaly of the satellite on its orbit at <code>epoch</code>, in radians.
        </p></dd>
<dt><code>epoch</code></dt>
<dd><p>Optional string. Epoch for the <code>anomaly</code> parameter, formatted &quot;YYYY-MM-DDTHH:MM:SS[.mmm]&quot; (ISO 8601 format) in UTC time.
        </p></dd>
</dl>
</dd>
<dt><code>feeder_position</code></dt>
<dd><p>Optional object to specify the coordinate of the feeder link ground station.
    If not set, it is assumed that the feeder link ground station is located at cell <code>position</code> parameter.
    The feeder link ground position is used to compute the full delay of the satellite link (service link + feeder link).<br>
    Contains the following parameters:
        </p><dl compact="compact">
<dt><code>latitude</code></dt>
<dd><p>Float value. Range -90 to 90. Degrees of latitude.
        </p></dd>
<dt><code>longitude</code></dt>
<dd><p>Float value. Range -180 to 180. Degrees of longitude.
        </p></dd>
<dt><code>altitude</code></dt>
<dd><p>Optional float value (default = 0). Range -1000m to 20km. Altitude in meters.
        </p></dd>
</dl>
</dd>
<dt><code>gain</code></dt>
<dd><p>Optional float (default 0.0). Configures the directional gain (in dBi) of the satellite antenna.
    Any additional directional gain on the UE side antenna can also be added.
    </p></dd>
</dl>

</dd>
<dt><code>ref_signal_power</code></dt>
<dd><p>Float. Reference signal power in dBm. Should normally have the same
value as <code>SIB2.referenceSignalPower</code> (LTE) or <code>SIB1.ss-PBCH-BlockPower</code>
(NR).
</p>
</dd>
<dt><code>ul_power_attenuation</code></dt>
<dd><p>Float. Real uplink analog attenuation (in dB) actually present between the UE simulator and the eNodeB. It is used to compute the TX power of each UE TX message so that the eNodeB receives them at the power level computed by the
channel simulator.
</p>
<p>The UE TX power is calculated as <br>
<br><code>pTX = p0 - path_loss + ul_power_attenuation</code> <br>
<br>where p0 is the simulated TX power (as per 3GPP power control) and path_loss is calculated by channel simulator.
</p>
<p>The <code>ul_power_attenuation</code> should be set low enough so that there is no power
saturation and high enough so that the DAC range of the RF interface
is correctly used.
</p>
<p>The <code>ul_power_attenuation</code> should be lowered until there is no saturation in
the <code>sat</code> column of the <code>t g</code> monitor command while the
virtual UEs are transmitting. The <code>sat</code> column counts the number of times the UE simulator had to limit the TX power of an uplink signal (e.g. PUCCH or PUSCH) so that it does not give a saturated output on the DAC. These saturations do not degrade the signal like the saturations at the sample level (see <code>t spl</code> monitor
command) but they indicate that the UE received power at the eNodeB will be lower than expected by the channel simulator.
</p>
<p>The same can be achieved with the <a href="#tx_005fgain">tx_gain</a>, the <code>tx_gain</code> should be set high enough so that there is no power saturation (higher analog power requires less digital power) and low enough so that the DAC range of the RF interface is correctly used. 
</p>
<p>With the PCIe SDR board, it is suggested to start with a
<code>tx_gain</code> at maximum value (90 dB) and 60 dB analog
attenuation. The actual value depends on the simulated UE path loss.
</p>
<span id="delay_005fsim"></span></dd>
<dt><code>delay_sim</code></dt>
<dd><p>Optional boolean (default = true). When the UE channel simulator is
enabled, select whether the propagation delays are simulated. They are
computed according to the distance between the UE and the cell
antenna. The propagation delay is simulated by adding a cyclic
shift to the corresponding uplink signal.
</p>
</dd>
</dl>

<span id="Per-UE-parameters"></span><h4 class="subsection">6.7.3 Per UE parameters</h4>

<p>When the channel simulator is enabled, the following additional
parameters may be specified for each UE:
</p>
<!-- prop:ue_list -->

<dl compact="compact">
<dd>
<span id="position"></span></dd>
<dt><code>position</code></dt>
<dd><p>Array of 1 to 3 floats. X, Y and Z coordinates of the UE in meters. If
less than 3 elements are provided, the remaining coordinates are set
to zero.
</p>
</dd>
<dt><code>initial_radius</code></dt>
<dd><p>Optional float (default = 0). If larger than zero, set the UE position
randomly in a disc of <code>initial_radius</code> meters centered on
<code>position</code>.
</p>
<span id="speed"></span></dd>
<dt><code>speed</code></dt>
<dd><p>Optional float (default = 0). UE speed in kilometers per hour.
</p>
<span id="direction"></span></dd>
<dt><code>direction</code></dt>
<dd><p>Optional float (default = 0). the UE speed vector direction in degrees.
</p>
<span id="elevation"></span></dd>
<dt><code>elevation</code></dt>
<dd><p>Optional float (default = 0). the UE speed vector elevation in degrees.
</p>
</dd>
<dt><code>noise_spd</code></dt>
<dd><p>Optional float (default = -174). Noise spectral density in dBm/Hz.
</p>
</dd>
<dt><code>channel</code></dt>
<dd>
<p>Object. Parameters of the downlink channel. If <code>ul_channel</code> is
not present, the same parameters are used for the uplink channel. Each
UE has separate uplink and downlink channel simulator instance to each
connected cell.  The following properties are available:
</p>  
<dl compact="compact">
<dt><code>type</code></dt>
<dd><p>Simulated channel type:
</p>
<table>
<thead><tr><th>Type</th><th>Description</th></tr></thead>
<tr><td>awgn</td><td>Additive White Gaussian Noise channel. When there are more than one
    input or output antennas, the channel matrix <em>a_{i,j}</em> is set
    such as <em>a_{i,i \bmod n_{tx}} = 1</em>.</td></tr>
<tr><td>epa</td><td>Extended Pedestrian A model from 3GPP TS 36.101.</td></tr>
<tr><td>eva</td><td>Extended Vehicular A model from 3GPP TS 36.101.</td></tr>
<tr><td>etu</td><td>Extended Typical Urban model from 3GPP TS 36.101.</td></tr>
<tr><td>mbsfn</td><td>MBSFN channel from 3GPP TS 36.101.</td></tr>
<tr><td>tdla30</td><td>TDLA30 channel from 3GPP TS 38.141 (TDLA with 30 ns delay spread).</td></tr>
<tr><td>tdlb100</td><td>TDLB100 channel from 3GPP TS 38.141 (TDLB with 100 ns delay spread).</td></tr>
<tr><td>tdlc300</td><td>TDLC300 channel from 3GPP TS 38.141 (TDLC with 300 ns delay spread).</td></tr>
<tr><td>tdla, tdlb, tdlc, tdld or tdle</td><td>TDL channels from 3GPP TS 38.901 section 7.7.2. Note that the TDL
    channels from 3GPP TS 38.141 slightly differ from the ones defined
    in 3GPP TS 38.901 when using the same delay spread.</td></tr>
</table>

</dd>
<dt><code>freq_doppler</code></dt>
<dd><p>Optional float.  For non AWGN channels, sets the doppler frequency,
  in Hz. Note that is has no relation with the configured UE speed
  which is only used to update the UE position.
</p>
</dd>
<dt><code>delay_spread</code></dt>
<dd><p>Set the delay spread in ns for TDL channels (<code>tdla</code>, <code>tdlb</code>,
  <code>tdlc</code>, <code>tdld</code> and <code>tdle</code>).
</p>  
</dd>
<dt><code>mimo_correlation</code></dt>
<dd><p>Optional enumeration. Set the MIMO correlation matrix for non AWGN
  channels.
</p>
<p>Allowed values:
    </p><table>
<thead><tr><th>Value</th><th>Description</th></tr></thead>
<tr><td>low</td><td>Low correlation matrix (identity matrix) (3GPP TS 36.101 section B.2.3.2).</td></tr>
<tr><td>medium</td><td>Medium correlation matrix with uniform linear array (3GPP TS 36.101 section B.2.3.2).</td></tr>
<tr><td>high</td><td>High correlation matrix with uniform linear array (3GPP TS 36.101 section B.2.3.2).</td></tr>
<tr><td>cross_pol_medium</td><td>Medium correlation matrix with cross polarized antennas (3GPP TS 38.101-4 section B.2.3.2).</td></tr>
<tr><td>cross_pol_high</td><td>High correlation matrix with cross polarized antennas (3GPP TS 38.101-4 section B.2.3.2).</td></tr>
</table>
  
</dd>
<dt><code>A</code></dt>
<dd><p>Optional float (default = 15.3)
</p>
</dd>
<dt><code>B</code></dt>
<dd><p>Optional float (default = 37.6). If <code>A</code> or <code>B</code> are
  provided, the UE path loss in dB is computed as <code>A + B *
  log10(d)</code> where <code>d</code> is the distance in meters between the UE
  and the cell antenna. Otherwise, the UE path loss is computed from
  the cell antenna <code>attenuation</code> parameter.
</p>
</dd>
</dl>

</dd>
<dt><code>ul_channel</code></dt>
<dd>
<p>Optional object. If present, specifies the parameters of the uplink
channel. Otherwise the uplink channel has the same parameters as the
downlink channel. This object contains the properties <code>type</code>,
<code>freq_doppler</code> and <code>mimo_correlation</code> with the same
definition as in the <code>channel</code> object.
</p>
<p>DL and UL channel reciprocity on TDD NR serving cells is enabled provided
the following conditions are met:
  </p><ul>
<li> <code>ul_channel</code> is not present
  </li><li> <code>n_antenna_ul</code> is less or equal to <code>n_antenna_dl</code>
  </li><li> <code>n_antenna_ul_rf</code> is equal to <code>n_antenna_dl_rf</code>
  </li></ul>

<p>When channel reciprocity is enabled, SRS antenna switching is
accurately simulated.
</p>
<p>When channel reciprocity is not enabled or when the UE channel
simulator is not used, SRS configured with antenna switching are sent
to the n-th UL antenna assuming the UL antennas are connected to the
same cables as the DL antennas so that they share the same channel
propagation. In this case, SRS antenna switching can only be
accurately simulated if <code>n_antenna_ul</code> is equal to
<code>n_antenna_dl</code>.
</p>
</dd>
</dl>

<span id="Known-limitations-and-implementation-details"></span><h4 class="subsection">6.7.4 Known limitations and implementation details</h4>

<ul class="no-bullet">
<li>- The fading channels are implemented in the frequency domain. Hence the channel simulation is accurate only if the doppler frequency (<code>freq_doppler</code>) is small regarding to the subcarrier spacing.

</li><li>- For the uplink, the channel is not modified between the symbol repetitions of a given PRACH.

</li><li>- For the downlink, the PER of the PDCCH is currently computed assuming an AWGN channel. However the fading channel is accurately modeled for PDSCH and CSI measurements.

</li><li>- In LTE, the PDSCH PER for UE specific transmission modes (TM7/TM8/TM9/TM10) is not accurately modeled. For TM9/TM10, the CSI measurement is currently modeled from the CRS (cell reference signal) instead of the CSI-RS.

</li></ul>

<span id="CPU_002fCores-configuration"></span><h2 class="chapter">7 CPU/Cores configuration</h2>

<p>For optimal performances LTEUE will use multiple cores. Those cores can be spread
on multiple CPUs (Multi socket) as long as Linux operating system makes them available.<br>
</p>
<p>By default, LTEUE will try to find the most suitable amount of necessary cores depending
on the total number of available cores and the desired radio configuration (Mainly depending on
number of cells, on their bandwidth and number of antenna).
</p>
<p>For optimization purpose, this can be manually defined as explained in this chapter.
</p>
<span id="Hyperthreading"></span><h3 class="section">7.1 Hyperthreading</h3>

<p>We strongly recommend to disable CPU hyperthreading.<br>
The main reason is that LTEUE is memory intensive and any process running
on a twin of a core used by the process may steal its cache resources, leading to
performance degradation.<br>
</p>
<p>If you use Amarisoft automatic installation, you should disable it
during the installation process.<br>
For optimal performances, you may disable hyperthreading in the BIOS.<br>
</p>
<p>If you want to keep hyperthreading on for other processes, you may configure
Linux to avoid scheduling other processes on the twin of the cores used by LTEUE
using core isolation.
</p>
<span id="Core-restriction-cores"></span><h3 class="section">7.2 Core restriction cores</h3>

<p>LTEUE will restrict its core usage to the list of cores affected to the process
by the OS at startup.<br>
</p>
<p>If the process is launch with a dedicated core list, such as what <code>tasket</code> program
will do, the software relies on it and will tries to use only specified cores.
</p>
<p>In the case where cores would have been isolated by kernel at boot time, those cores won&rsquo;t
be used by default.<br>
If you want to use them, you will need to use <code>taskset</code> program (or equivalent) to
prevent this restriction.
</p>

<span id="Affinity"></span><h3 class="section">7.3 Affinity</h3>

<span id="cpu_005fcore_005flist"></span><p>You can force core affinity of the process externaly (Ex: using taskset program) or use
<code>cpu_core_list</code> array.<br>
</p>
<p>Each element will represent cores to use or not, with following syntax:
</p><dl compact="compact">
<dt><code>Number</code></dt>
<dd><p>Represent the core index to use (Same as processor information in /proc/cpuinfo).
</p></dd>
<dt><code>String</code></dt>
<dd><table>
<thead><tr><th>String</th><th>Description</th></tr></thead>
<tr><td>&lt;a&gt;</td><td>where &lt;a&gt; is a number, represents the core index to use.</td></tr>
<tr><td>*</td><td>all cores (excluding hyperthreaded twins) will be added to the list.</td></tr>
<tr><td>numa&lt;n&gt;</td><td>all cores related to NUMA node &lt;n&gt; will be added</td></tr>
<tr><td>&lt;a&gt;-&lt;b&gt;</td><td>all cores between core index &lt;a&gt; and core index &lt;b&gt; (included) will be added.
    &lt;b&gt; can be &quot;last&quot; representing the index of the last core.</td></tr>
<tr><td>!&lt;cores&gt;</td><td>remove all the cores defined by &lt;core&gt; where &lt;code&gt; can have the other string syntax
    defined above.</td></tr>
</table>
<p>By default, only non hyperthreaded cores will be used. To select hyperthreaded core twins, use number syntax
or start string by <code>&quot;ht:&quot;</code>.<br>
Ex: <code>&quot;ht:*&quot;</code> will select all cores including hyperthreaded twins.
</p></dd>
</dl>

<p>The <code>cpu_core_list</code> can be defined at top level of your configuration file
to force the global affinity of the process or for dedicated sections.
</p>
<p>Examples:<br>
Let&rsquo;s assume we have a CPU with 8 hyperthreaded cores (16 logical cores).<br>
</p><pre class="verbatim">cpu_core_list: [&quot;*&quot;, &quot;!4&quot;]
</pre><p>Will assign cores 0, 1, 2, 3, 5, 6 and 7
</p>
<pre class="verbatim">cpu_core_list: [&quot;5-last&quot;, &quot;ht:12-last&quot;]
</pre><p>Will assign cores 5, 6, 7, 12, 13, 14, 15
</p>
<span id="memory"></span><span id="Memory"></span><h3 class="section">7.4 Memory</h3>

<p>On NUMA (Non Uniform Memory Access) CPU architecture, you may improve performances
by assigning NUMA nodes to different digital processing engines.<br>
This is the case when you have multiple sockets on your motherboard or with AMD processor.<br>
Note that by default NUMA nodes are hidden by BIOS to the OS so you may change your BIOS
configuration to use them.<br>
</p>
<p>For each digital processing engine, you should assign NUMA nodes for memory and for
core affinity that has the shortest path.<br>
In other words, when you affect cores to a DSP engine, you should ensure that the assigned
cores are located on the fewest NUMA nodes possible and if needed select manually your
NUMA node for memory (See <a href="#cpu_005fnuma_005flist">cpu_numa_list</a>).<br>
</p>
<p>As the DSP engine communicates huge amount of memory to the radio frontend, you may select
same NUMA nodes as your radio frontend.<br>
If you use Amarisoft PCIe radio frontends, you can check which NUMA node is used by checking
kernel traces (dmesg) when inserting kernel driver.<br>
Ex:
</p><pre class="verbatim">sdr PCI device 6c:00.0 assigned to minor 5, type=RF_SDR100_Slave (rev 1) numa=1 dma:1ch 64b
</pre>



<span id="Remote-API"></span><span id="Remote-API-1"></span><h2 class="chapter">8 Remote API</h2>

<p>You can access LTEUE via a remote API.<br>
Protocol used is WebSocket as defined in RFC 6455
(<a href="https://tools.ietf.org/html/rfc6455">https://tools.ietf.org/html/rfc6455</a>).<br>
</p>
<p>Note that Origin header is mandatory for the server to accept connections.<br>
This behavior is determined by the use of <code>nopoll</code> library.<br>
Any value will be accepted.
</p>
<span id="Messages"></span><h3 class="section">8.1 Messages</h3>

<p>Messages exchanged between client and LTEUE server are in strict JSON
format.<br>
</p>
<p>Each message is represented by an object. Multiple message can be sent to
server using an array of message objects.<br>
</p>
<p>Time and delay values are floating number in seconds.<br>
</p>
<p>There are 3 types of messages:
</p>
<ul>
<li> Request

<p>Message sent by client.<br>
Common definition:
</p>
<!-- prop:request -->

<dl compact="compact">
<dt><code>message</code></dt>
<dd><p>String. Represent type of message. This parameter is mandatory and depending
  on its value, other parameters will apply.<br>
</p>
</dd>
<dt><code>message_id</code></dt>
<dd><p>Optional any type. If set, response sent by the server to this message will
  have same message_id. This is used to identify response as WebSocket does not
  provide such a concept.
</p>
</dd>
<dt><code>start_time</code></dt>
<dd><p>Optional float. Represent the delay before executing the message.<br>
  If not set, the message is executed when received.<br>
</p>
</dd>
<dt><code>absolute_time</code></dt>
<dd><p>Optional boolean (default = false). If set, <code>start_time</code> is interpreted as absolute.<br>
  You can get current clock of system using <code>time</code> member of any response.
</p>
</dd>
<dt><code>standalone</code></dt>
<dd><p>Optional boolean (default = false). If set, message will survive WebSocket disconnection,
  else, if socket is disconnected before end of processing, the message will be cancelled.
</p>
<span id="loop_005fcount"></span></dd>
<dt><code>loop_count</code></dt>
<dd><p>Optional integer (default = 0, max = 1000000). If set, message will be repeated <code>loop_count</code> time(s)
  after <code>loop_delay</code> (From message beginning of event).<br>
  Response will have a <code>loop_index</code> to indicate iteration number.
</p>
<span id="loop_005fdelay"></span></dd>
<dt><code>loop_delay</code></dt>
<dd><p>Optional number (min = 0.1, max = 86400). Delay in seconds to repeat message from its <code>start_time</code>.
  Mandatory when <code>loop_count</code> is set &gt; 0.
</p>
</dd>
</dl>

</li><li> Response

<p>Message sent by server after any request message as been processed.<br>
Common definition:
</p>
<!-- prop:response -->

<dl compact="compact">
<dt><code>message</code></dt>
<dd><p>String. Same as request.
</p>
</dd>
<dt><code>message_id</code></dt>
<dd><p>Optional any type. Same as in request.
</p>
</dd>
<dt><code>time</code></dt>
<dd><p>Number representing time in seconds since start of the process.<br>
  Usefull to send command with absolute time.
</p>
</dd>
<dt><code>utc</code></dt>
<dd><p>Number representing UTC seconds.
</p>
</dd>
</dl>

</li><li> Events

<p>Message sent by server on its own initiative.<br>
Common definition:
</p>
<!-- prop:event -->

<dl compact="compact">
<dt><code>message</code></dt>
<dd><p>String. Event name.
</p>
</dd>
<dt><code>time</code></dt>
<dd><p>Number representing time in seconds.<br>
  Usefull to send command with absolute time.
</p>
</dd>
</dl>

</li></ul>


<span id="Remote-API-Startup"></span><span id="Startup"></span><h3 class="section">8.2 Startup</h3>


<p>When WebSocket connections is setup, LTEUE will send a first message with
name set to <code>com_name</code> and type set to UE.<br>
</p>
<p>If authentication is not set, message will be <code>ready</code>:
</p>
<div class="example">
<pre class="example">{
    &quot;message&quot;: &quot;ready&quot;,
    &quot;type&quot;: &quot;UE&quot;,
    &quot;name&quot;: &lt;com_name&gt;,
    &quot;version&quot;: &lt;software version&gt;,
    &quot;product&quot;: &lt;Amarisoft product name (optional)&gt;
}
</pre></div>

<p>If authentication is set, message will be <code>authenticate</code> :
</p>
<div class="example">
<pre class="example">{
    &quot;message&quot;: &quot;authenticate&quot;,
    &quot;type&quot;: &quot;UE&quot;,
    &quot;name&quot;: &lt;com_name&gt;,
    &quot;challenge&quot;: &lt;random challenge&gt;
}
</pre></div>

<p>To authenticate, the client must answer with a <code>authenticate</code> message
and a <code>res</code> parameter where:
</p>
<div class="example">
<pre class="example">res = HMAC-SHA256( &quot;&lt;type&gt;:&lt;password&gt;:&lt;name&gt;&quot;, &quot;&lt;challenge&gt;&quot; )
</pre></div>

<p><code>res</code> is a string and HMAC-SHA256 refers to the standard algorithm
(<a href="https://en.wikipedia.org/wiki/HMAC">https://en.wikipedia.org/wiki/HMAC</a>)
</p>
<p>If the authentication succeeds, the response will have a <code>ready</code> field
set to <code>true</code>.
</p>
<div class="example">
<pre class="example">{
    &quot;message&quot;: &quot;authenticate&quot;,
    &quot;message_id&quot;: &lt;message id&gt;,
    &quot;ready&quot;: true
}
</pre></div>

<p>If authentication fails, the response will have an <code>error</code> field and will
provide a new challenge.
</p>
<div class="example">
<pre class="example">{
    &quot;message&quot;: &quot;authenticate&quot;,
    &quot;message_id&quot;: &lt;message id&gt;,
    &quot;error&quot;: &lt;error message&gt;,
    &quot;type&quot;: &quot;UE&quot;,
    &quot;name: &lt;name&gt;,
    &quot;challenge&quot;: &lt;new random challenge&gt;
}
</pre></div>


<p>If any other message is sent before authentication succeeds,
the error <code>&quot;Authentication not done&quot;</code> will be sent as a response.
</p>

<span id="Errors"></span><h3 class="section">8.3 Errors</h3>

<p>If a message produces an error, response will have an error string field
representing the error.
</p>

<span id="Sample-nodejs-program"></span><h3 class="section">8.4 Sample nodejs program</h3>

<p>You will find in this documentation a sample program: <code>ws.js</code>.<br>
It is located in <code>doc</code> subdirectory.<br>
This is a nodejs program that allow to send message to LTEUE.<br>
It requires nodejs to be installed:
</p><div class="example">
<pre class="example">dnf install nodejs npm
npm install nodejs-websocket
</pre></div>

<p>Use relevant package manager instead of NPM depending on your Linux distribution.<br>
</p>
<p>Then simply start it with server name and message you want to send:
</p><div class="example">
<pre class="example">./ws.js 127.0.0.1:9002 '{&quot;message&quot;: &quot;config_get&quot;}'
</pre></div>


<span id="Common-messages"></span><h3 class="section">8.5 Common messages</h3>

<dl compact="compact">
<dt><code>config_get</code></dt>
<dd><p>Retrieve current config.<br>
</p>
<p>Response definition:
    </p><dl compact="compact">
<dt><code>type</code></dt>
<dd><p>Always &quot;UE&quot;
</p>
</dd>
<dt><code>name</code></dt>
<dd><p>String representing server name.
</p>
<span id="config_005fget-logs-member"></span></dd>
<dt><code>logs</code></dt>
<dd><p>Object representing log configuration.<br>
      With following elements:
        </p><dl compact="compact">
<dt><code>layers</code></dt>
<dd><p>Object. Each member of the object represent a log layer configuration:
</p>
<dl compact="compact">
<dt><code>layer name</code></dt>
<dd><p>Object. The member name represent log layer name and parameters are:
</p>
<dl compact="compact">
<dt><code>level</code></dt>
<dd><p>See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>max_size</code></dt>
<dd><p>See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>key</code></dt>
<dd><p>See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>crypto</code></dt>
<dd><p>See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>payload</code></dt>
<dd><p>See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>rep</code></dt>
<dd><p>Optional boolean. See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>dci_size</code></dt>
<dd><p>Optional boolean. See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>csi</code></dt>
<dd><p>Optional boolean. See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>cell_meas</code></dt>
<dd><p>Optional boolean. See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>cch</code></dt>
<dd><p>Optional boolean. See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>ntn</code></dt>
<dd><p>Optional boolean. See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>plmn</code></dt>
<dd><p>Optional boolean. See <a href="#log_005foptions">log_options</a>
                  </p></dd>
<dt><code>signal</code></dt>
<dd><p>Optional boolean. See <a href="#log_005foptions">log_options</a>
                </p></dd>
</dl>

</dd>
</dl>

</dd>
<dt><code>count</code></dt>
<dd><p>Number. Number of bufferizer logs.
</p>
</dd>
<dt><code>rotate</code></dt>
<dd><p>Optional number. Max log file size before rotation.
</p>
</dd>
<dt><code>path</code></dt>
<dd><p>Optional string. Log rotation path.
</p>
</dd>
<dt><code>bcch</code></dt>
<dd><p>Boolean. True if BCCH dump is enabled (eNB only).
</p>
</dd>
<dt><code>mib</code></dt>
<dd><p>Boolean. True if MIB dump is enabled (eNB only).
        </p></dd>
</dl>

</dd>
<dt><code>locked</code></dt>
<dd><p>Optional boolean. If <code>true</code>, logs configuration can&rsquo;t be changed
      with <code>config_set</code> API.
</p>
</dd>
<dt><code>cells</code></dt>
<dd><p>Object. List of objects (numbered by cell index) containing the following members:<br>
  </p><dl compact="compact">
<dt><code>pci</code></dt>
<dd><p>Optional integer. Physical cell ID. Not present if the cell is not synchronized.
</p>
</dd>
<dt><code>dl_earfcn</code></dt>
<dd><p>Integer. Downlink EARFCN.
</p>
</dd>
<dt><code>mode</code></dt>
<dd><p>Optional numeration: FDD, TDD. Operation mode.
</p>
</dd>
<dt><code>n_rb_dl</code></dt>
<dd><p>Integer. Number of downlink resource blocks.
</p>
</dd>
<dt><code>uldl_config</code></dt>
<dd><p>Optional integer. TDD subframe assignment. Only present if <code>mode</code> is &quot;TDD&quot;.
</p>
</dd>
<dt><code>sp_config</code></dt>
<dd><p>Optional integer. TDD special subframe pattern. Only present if <code>mode</code> is &quot;TDD&quot;.
</p>
</dd>
<dt><code>ul_earfcn</code></dt>
<dd><p>Optional integer. Uplink EARFCN. Present once SIB2 is read.
</p>
</dd>
<dt><code>ul_carrier_freq_offset</code></dt>
<dd><p>Optional integer. NB-IoT uplink carrier frequency offset in multiple of 2.5 kHz. Present once SIB2 is read.
</p>
</dd>
<dt><code>n_rb_ul</code></dt>
<dd><p>Optional integer. Number of uplink resource blocks. Present once SIB2 is read.
</p>

</dd>
<dt><code>counters</code></dt>
<dd><p>Object. List of counters, with following sub members:
</p>
<dl compact="compact">
<dt><code>messages</code></dt>
<dd><p>Object. Each member name is the message name and its value is its occurence.<br>
      To get list of message, type <var>cevent help msg</var> in LTEUE monitor.
</p>
</dd>
<dt><code>errors</code></dt>
<dd><p>Object. Each member name is the error name and its value is its occurence.<br>
      To get list of message, type <var>cevent help error</var> in LTEUE monitor.
</p>
</dd>
</dl>

</dd>
</dl>

</dd>
<dt><code>rx_channels</code></dt>
<dd><p>Array of objects. Each entry contains the following members:<br>
  </p><dl compact="compact">
<dt><code>gain</code></dt>
<dd><p>Float. Cell gain in dB.
</p>
</dd>
<dt><code>freq</code></dt>
<dd><p>Float. Receive frequency in MHz.
  </p></dd>
</dl>

</dd>
<dt><code>rtx_channels</code></dt>
<dd><p>Array of objects. Each entry contains the following members:<br>
  </p><dl compact="compact">
<dt><code>gain</code></dt>
<dd><p>Float. Cell gain in dB.
</p>
</dd>
<dt><code>freq</code></dt>
<dd><p>Float. Transmit frequency in MHz.
</p>
</dd>
<dt><code>port</code></dt>
<dd><p>Integer. RF port index.
</p>
</dd>
</dl>

</dd>
</dl>

</dd>
<dt><code>config_set</code></dt>
<dd><p>Change current config.<br>
  Each member is optional.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>logs</code></dt>
<dd><p>Optional object. Represent logs configuration. Same structure as config_get (See <a href="#config_005fget-logs-member">config_get logs member</a>).<br>
      All elements are optional.<br>
      Layer name can be set to <code>all</code> to set same configuration for all layers.<br>
      If set and logs are locked, response will have <code>logs</code> property set to <code>locked</code>.
</p>

</dd>
</dl>

</dd>
<dt><code>log_get</code></dt>
<dd><p>Get logs.<br>
  This API has a per connection behavior. This means that the response will depend on previous calls
  to this API within the same WebSocket connection.<br>
  In practice, logs that have been provided in a response won&rsquo;t be part of subsequent request unless
  connection is reestablished. To keep on receiving logs, client should send a new <code>log_get</code> request
  as soon as the previous response has been received.<br>
  If a request is sent before previous request has been replied, previous request will be replied right now
  without considering specific min/max/timeout conditions.
</p>
<p>Message definition:
    </p><dl compact="compact">
<dt><code>min</code></dt>
<dd><p>Optional number (default = 1). Minimum amount of logs to retrieve.<br>
      Response won&rsquo;t be sent until this limit is reached (Unless timeout occurs).
</p>
</dd>
<dt><code>max</code></dt>
<dd><p>Optional number (default = 4096). Maximum logs sent in a response.
</p>
</dd>
<dt><code>timeout</code></dt>
<dd><p>Optional number (default = 1). If at least 1 log is available and no
      more logs have been generated for this time, response will be sent.
</p>
</dd>
<dt><code>allow_empty</code></dt>
<dd><p>Optional boolean (default = false). If set, response will be sent after timeout,
      event if no logs are available.
</p>
</dd>
<dt><code>rnti</code></dt>
<dd><p>Optional number. If set, send only logs matching rnti.
</p>
</dd>
<dt><code>ue_id</code></dt>
<dd><p>Optional number. If set, send only logs with matching ue_id.
</p>
</dd>
<dt><code>layers</code></dt>
<dd><p>Optional Object. Each member name represents a log layer and values must be
      string representing maximum level. See <a href="#log_005foptions">log_options</a>.<br>
      If <var>layers</var> is not set, all layers level will be set to <var>debug</var>,
      else it will be set to <var>none</var>.<br>
      Note also the logs is also limited by general log level. See <a href="#log_005foptions">log_options</a>.<br>
</p>
</dd>
<dt><code>short</code></dt>
<dd><p>Optional boolean (default = false). If set, only first line of logs will be dumped.
</p>
</dd>
<dt><code>headers</code></dt>
<dd><p>Optional boolean. If set, send log file headers.
</p>
</dd>
<dt><code>start_timestamp</code></dt>
<dd><p>Optional number. Is set, filter logs older than this value in milliseconds.
</p>
</dd>
<dt><code>end_timestamp</code></dt>
<dd><p>Optional number. Is set, filter logs more recent than this value in milliseconds.
</p>
</dd>
<dt><code>max_size</code></dt>
<dd><p>Optional number (default = 1048576, i.e. 1MB). Maximum size in bytes of the generated
      JSON message. If the response exceeds this size, the sending of logs will be
      forced independently from other parameters.
</p>
</dd>
</dl>

<p>Response definition:
    </p><dl compact="compact">
<dt><code>logs</code></dt>
<dd><p>Array. List of logs. Each item is a an object with following members:
        </p><dl compact="compact">
<dt><code>data</code></dt>
<dd><p>Array. Each item is a string representing a line of log.
</p>
</dd>
<dt><code>timestamp</code></dt>
<dd><p>Number. Milliseconds since January 1st 1970. Not present if <code>com_log_us</code> is set in configuration.<br>
</p>
</dd>
<dt><code>timestamp_us</code></dt>
<dd><p>Number. Microseconds since January 1st 1970. Only present if <code>com_log_us</code> is set in configuration.<br>
</p>
</dd>
<dt><code>layer</code></dt>
<dd><p>String. Log layer.
</p>
</dd>
<dt><code>level</code></dt>
<dd><p>String. Log level: <var>error</var>, <var>warn</var>, <var>info</var> or <var>debug</var>.
</p>
</dd>
<dt><code>dir</code></dt>
<dd><p>Optional string. Log direction: <var>UL</var>, <var>DL</var>, <var>FROM</var> or <var>TO</var>.
</p>
</dd>
<dt><code>ue_id</code></dt>
<dd><p>Optional number. UE_ID.
</p>
</dd>
<dt><code>cell</code></dt>
<dd><p>Optional number (only for PHY layer logs). Cell ID.
</p>
</dd>
<dt><code>rnti</code></dt>
<dd><p>Optional number (only for PHY layer logs). RNTI.
</p>
</dd>
<dt><code>frame</code></dt>
<dd><p>Optional number (only for PHY layer logs). Frame number (Subframe is decimal part).
</p>
</dd>
<dt><code>channel</code></dt>
<dd><p>Optional string (only for PHY layer logs). Channel name.
</p>
</dd>
<dt><code>src</code></dt>
<dd><p>String. Server name.
</p>
</dd>
<dt><code>idx</code></dt>
<dd><p>Integer. Log index.
</p>
</dd>
<dt><code>headers</code></dt>
<dd><p>Optional array. Array of strings.
</p>
</dd>
</dl>

</dd>
<dt><code>discontinuity</code></dt>
<dd><p>Optional number. If set, this means some logs have been discarded due to log buffer overflow.
</p>
</dd>
<dt><code>microseconds</code></dt>
<dd><p>Optional boolean. Present and set to true if <code>com_log_us</code> is set in configuration file.
    </p></dd>
</dl>

</dd>
<dt><code>log_set</code></dt>
<dd><p>Add log.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>log</code></dt>
<dd><p>Optional string. Log message to add. If set, <var>layer</var> and <var>level</var> are mandatory.
</p>
</dd>
<dt><code>layer</code></dt>
<dd><p>String. Layer name. Only mandatory if <var>log</var> is set.
</p>
</dd>
<dt><code>level</code></dt>
<dd><p>String. Log level: <var>error</var>, <var>warn</var>, <var>info</var> or <var>debug</var>. Only mandatory if <var>log</var> is set.
</p>
</dd>
<dt><code>dir</code></dt>
<dd><p>Optional string. Log direction: <var>UL</var>, <var>DL</var>, <var>FROM</var> or <var>TO</var>.
</p>
</dd>
<dt><code>ue_id</code></dt>
<dd><p>Optional number. UE_ID.
</p>
</dd>
<dt><code>flush</code></dt>
<dd><p>Optional boolean (default = false). If set, flushes fog file.
</p>
</dd>
<dt><code>rotate</code></dt>
<dd><p>Optional boolean (default = false). If set, forces log file rotation.
</p>
</dd>
<dt><code>cut</code></dt>
<dd><p>Optional boolean (default = false). If set, forces log file reset.
</p>
</dd>
</dl>


</dd>
<dt><code>log_reset</code></dt>
<dd><p>Resets logs buffer.
</p>
</dd>
<dt><code>license</code></dt>
<dd><p>Retrieves license file information.
</p>
</dd>
<dt><code>quit</code></dt>
<dd><p>Terminates lteue.
</p>
</dd>
<dt><code>help</code></dt>
<dd><p>Provides list of available messages in <var>messages</var> array of strings
  and events to register in <var>events</var> array of strings.<br>
</p>
</dd>
<dt><code>stats</code></dt>
<dd><p>Report statistics for LTEUE.<br>
  Every time this message is received by server, statistics are reset.<br>
  Warning, calling this message from multiple connections simultaneously will modify the
  statistics sampling time.
</p>
<p>Message definition:
    </p><dl compact="compact">
<dt><code>samples</code></dt>
<dd><p>Optional boolean (default = false). Provide information similar to the &rsquo;t spl&rsquo; monitor command.
      </p></dd>
<dt><code>rf</code></dt>
<dd><p>Optional boolean (default = false). Provide information similar to the &rsquo;t cpu&rsquo; monitor command.
      </p></dd>
</dl>

<p>Response definition:
    </p><dl compact="compact">
<dt><code>cpu</code></dt>
<dd><p>Object. Each member name defines a type and its value cpu load in % of one core.
</p>
</dd>
<dt><code>instance_id</code></dt>
<dd><p>Number. Constant over process lifetime. Changes on process restart.
</p>

</dd>
<dt><code>counters</code></dt>
<dd><p>Object. List of counters, with following sub members:
</p>
<dl compact="compact">
<dt><code>messages</code></dt>
<dd><p>Object. Each member name is the message name and its value is its occurence.<br>
      To get list of message, type <var>cevent help msg</var> in LTEUE monitor.
</p>
</dd>
<dt><code>errors</code></dt>
<dd><p>Object. Each member name is the error name and its value is its occurence.<br>
      To get list of message, type <var>cevent help error</var> in LTEUE monitor.
</p>
</dd>
</dl>

</dd>
<dt><code>cells</code></dt>
<dd><p>Object. Each member name is the cell ID and each value is an object
representing statistics as follow:
</p>
<dl compact="compact">
<dt><code>dl_sched_users_min</code></dt>
<dd><p>Number. Downlink minimum number of scheduled UE by TTI.
</p>
</dd>
<dt><code>dl_sched_users_max</code></dt>
<dd><p>Number. Downlink maximum number of scheduled UE by TTI.
</p>
</dd>
<dt><code>dl_sched_users_avg</code></dt>
<dd><p>Number. Downlink average number of scheduled UE by TTI.
</p>
</dd>
<dt><code>ul_sched_users_min</code></dt>
<dd><p>Number. Uplink minimum number of scheduled UE by TTI.
</p>
</dd>
<dt><code>ul_sched_users_max</code></dt>
<dd><p>Number. Uplink maximum number of scheduled UE by TTI.
</p>
</dd>
<dt><code>ul_sched_users_avg</code></dt>
<dd><p>Number. Uplink average number of scheduled UE by TTI.
</p>
</dd>
<dt><code>dl_bitrate</code></dt>
<dd><p>Number. Downlink bitrate in bits per seconds.
</p>
</dd>
<dt><code>ul_bitrate</code></dt>
<dd><p>Number. Uplink bitrate in bits per seconds.
</p>
</dd>
<dt><code>dl_rx_count</code></dt>
<dd><p>Integer. Number of downlink transmitted packets (Without retransmissions).
</p>
</dd>
<dt><code>ul_tx_count</code></dt>
<dd><p>Integer. Number of uplink transmitted packets (Without retransmissions).
</p>
</dd>
<dt><code>dl_retx_count</code></dt>
<dd><p>Integer. Number of downlink retransmitted packets.
</p>
</dd>
<dt><code>ul_retx_count</code></dt>
<dd><p>Integer. Number of uplink retransmitted packets.
</p>
</dd>
<dt><code>dl_err_count</code></dt>
<dd><p>Integer. Number of downlink bad CRC packets.
</p>
</dd>
<dt><code>ue_count</code></dt>
<dd><p>Number. Current number of powered on UE.
</p>
</dd>
<dt><code>rxtx_delay</code></dt>
<dd><p>Object. each value is an object representing the TX-RX latency statistics (average, max and min values).
</p>
</dd>
<dt><code>cfo</code></dt>
<dd><p>Number. Center frequency offset in Hz.
</p>
</dd>
</dl>


</dd>
<dt><code>samples</code></dt>
<dd><p>Object. Set if <code>samples</code> has been set to true in request.<br>
This object has the following properties:
  </p><dl compact="compact">
<dt><code>tx</code></dt>
<dd><p>Array of objects. Each object represents samples statistics of the antenna port.
    </p><dl compact="compact">
<dt><code>rms</code></dt>
<dd><p>Number. RMS of the signal in dBFS
    </p></dd>
<dt><code>max</code></dt>
<dd><p>Number. Maximum sample value in dBFS
    </p></dd>
<dt><code>sat</code></dt>
<dd><p>Number. Number of saturation events
    </p></dd>
<dt><code>count</code></dt>
<dd><p>Number of IQ samples analyzed
    </p></dd>
<dt><code>rms_dbm</code></dt>
<dd><p>Number. RMS of the signal in dBm
    </p></dd>
</dl>

</dd>
<dt><code>rx</code></dt>
<dd><p>Array of objects. Each object represents samples statistics of the antenna port.
    </p><dl compact="compact">
<dt><code>rms</code></dt>
<dd><p>Number. RMS of the signal in dBFS
    </p></dd>
<dt><code>max</code></dt>
<dd><p>Number. Maximum sample value in dBFS
    </p></dd>
<dt><code>sat</code></dt>
<dd><p>Number. Number of saturation events
    </p></dd>
<dt><code>count</code></dt>
<dd><p>Number of IQ samples analyzed
    </p></dd>
<dt><code>rms_db</code></dt>
<dd><p>Number. RMS of the signal in dBm.
    </p></dd>
</dl>

</dd>
</dl>


</dd>
</dl>

</dd>
<dt><code>register</code></dt>
<dd><p>Register client to message generated by server.
  Message definition:
    </p><dl compact="compact">
<dt><code>register</code></dt>
<dd><p>String or array of string. List of message to register to.<br>
      Can be <code>ue_update</code>, <code>sms</code>, <code>non_ip_data</code>, <code>pws_msg</code>, <code>measurement_report</code>, <code>srs</code>, <code>pdsch</code>, <code>npdsch</code>.
</p>
</dd>
<dt><code>unregister</code></dt>
<dd><p>String or array of string. List of message to unregister.<br>
      Can be <code>ue_update</code>, <code>sms</code>, <code>non_ip_data</code>, <code>pws_msg</code>, <code>measurement_report</code>, <code>srs</code>, <code>pdsch</code>, <code>npdsch</code>.
</p>
</dd>
</dl>


</dd>
</dl>



<span id="LTE-messages"></span><span id="LTE-messages-1"></span><h3 class="section">8.6 LTE messages</h3>

<dl compact="compact">
<dt><code>pdn_connect</code></dt>
<dd><p>Forces a connection to a PDN (LTE) or a PDU session (5G).<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. UE identifier.
      </p></dd>
<dt><code>apn</code></dt>
<dd><p>Optional string. Access Point Name. Must be present if emergency is set to false.
      </p></dd>
<dt><code>emergency</code></dt>
<dd><p>Optional boolean (default = false). Indicates if it is an emergency PDN. Must be set to true if apn is absent.
      </p></dd>
<dt><code>authentication</code></dt>
<dd><p>Optional enumeration: <code>none</code>, <code>pap</code>, <code>chap</code> or <code>eap</code>. Default <code>none</code>.
      <code>eap</code> is applicable to 5GS only.
      Defines the authentication mechanism used for this APN.
      </p></dd>
<dt><code>username</code></dt>
<dd><p>Optional string (up to 100 characters) containing the user name used for <code>pap</code> or <code>chap</code> or <code>eap</code> authentication.
      </p></dd>
<dt><code>password</code></dt>
<dd><p>Optional string (up to 100 characters) containing the password used for <code>pap</code> or <code>chap</code> or <code>eap</code> authentication.
      </p></dd>
<dt><code>pdn_type</code></dt>
<dd><p>Optional enumeration : <code>ipv4</code>, <code>ipv6</code>, <code>ipv4v6</code>, <code>unstructured</code> or <code>ethernet</code>. Default <code>ipv4v6</code>.
      Defines the PDN/PDU session type. Note that IPv6 and Ethernet require the use of the tun interface.
      </p></dd>
<dt><code>ims</code></dt>
<dd><p>Optional boolean (default = false). Specifies if the PDN or PDU session is for IMS.
      </p></dd>
<dt><code>pdu_session_id</code></dt>
<dd><p>Optional integer. PDU session identity.
      </p></dd>
<dt><code>always_on</code></dt>
<dd><p>Optional boolean (default = true). Requests a non always-on PDU session if set to false (5G only).
      </p></dd>
<dt><code>snssai</code></dt>
<dd><p>Optional S-NSSAI value (5G only).
      See <a href="#default_005fpdu_005fsession_005fsnssai">default_pdu_session_snssai</a>
    </p></dd>
</dl>
<p>Response definition:
    </p><dl compact="compact">
<dt><code>erab_id</code></dt>
<dd><p>Optional integer. Allocated ERAB identity for the corresponding default EPS bearer (LTE).
      </p></dd>
<dt><code>pdu_session_id</code></dt>
<dd><p>Optional integer. Allocated PDU session ID (5G).
    </p></dd>
</dl>

</dd>
<dt><code>pdn_disconnect</code></dt>
<dd><p>Forces a PDN/PDU session deconnection.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. UE identifier.
      </p></dd>
<dt><code>apn</code></dt>
<dd><p>Optional string. Access Point Name. Must be present if emergency is set to false;
      </p></dd>
<dt><code>emergency</code></dt>
<dd><p>Optional boolean (default = false). Indicates if it is an emergency PDN. 
      Must be set to true if apn is absent.
      </p></dd>
<dt><code>snssai</code></dt>
<dd><p>Optional S-NSSAI value (5G only).
    </p></dd>
</dl>

</dd>
<dt><code>rrc_reest</code></dt>
<dd><p>Triggers a RRC reestablishment.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. UE identifier.
    </p></dd>
</dl>

</dd>
<dt><code>power_on</code></dt>
<dd><p>Switch UE on.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. UE identifier.
    </p></dd>
</dl>

</dd>
<dt><code>power_off</code></dt>
<dd><p>Switch UE off.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. UE identifier.
    </p></dd>
</dl>

</dd>
<dt><code>deregister</code></dt>
<dd><p>Deregister the UE.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. UE identifier.
    </p></dd>
</dl>

</dd>
<dt><code>ue_get</code></dt>
<dd><p>Get list of UE with their states.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Optional integer. Identifier of UE to get state.<br>
      If not set, returns all UE.
      </p></dd>
<dt><code>max</code></dt>
<dd><p>Optional integer. Maximum number of UE to retrieve.
      </p></dd>
<dt><code>update</code></dt>
<dd><p>Optional boolean. If set to true will only return modified UE since last
      call with update set to true on same Web Socket connection.<br>
      If no UE have been modified, response will only occur when a UE will change
      or when timeout has been reached.
      </p></dd>
<dt><code>timeout</code></dt>
<dd><p>Optional integer (default = 5). Time in seconds to wait before returning when
      no UE has changed. Only used when <code>update</code> is set to true.
    </p></dd>
</dl>
<p>Response definition:
    </p><dl compact="compact">
<dt><code>ue_list</code></dt>
<dd><p>Array of Object. Each object represent a UE with following parameters:
      </p><dl compact="compact">
<dt><code>imsi</code></dt>
<dd><p>String. UE IMSI.
        </p></dd>
<dt><code>ue_id</code></dt>
<dd><p>Integer. UE identifier
        </p></dd>
<dt><code>category</code></dt>
<dd><p>Integer or string. If integer, UE LTE category, else can be <code>m1</code>, <code>nb1</code>, <code>nb2</code> or <code>nr</code>.
        </p></dd>
<dt><code>timing_advance</code></dt>
<dd><p>Integer. Current timing advance.
        </p></dd>
<dt><code>rnti</code></dt>
<dd><p>Integer. UE current RNTI.
        </p></dd>
<dt><code>power_on</code></dt>
<dd><p>Boolean. UE power state (true = powered on, false = powered off).
        </p></dd>
<dt><code>rrc_state</code></dt>
<dd><p>String. Radio connection state, can be <code>disconnected</code>, <code>connecting</code>, <code>connected</code>, <code>idle</code> or <code>inactive</code>.
        </p></dd>
<dt><code>emm_state</code></dt>
<dd><p>String. EMM/5GMM state.
        In 4G, it can be <code>power off</code>, <code>deregistered</code>, <code>registering</code>, <code>registered</code>, <code>tracking area updating</code> or <code>unregistering</code>.
        In 5G, it can be <code>power off</code>, <code>deregistered</code>, <code>registering</code>, <code>registered</code>, <code>service request sending</code> or <code>deregistering</code>.
        </p></dd>
<dt><code>cells</code></dt>
<dd><p>Array. List of cells (First one is always primary cell):
          </p><dl compact="compact">
<dt><code>index</code></dt>
<dd><p>Number. Index of the cell (as reported by the <code>config_get</code> message).
            </p></dd>
<dt><code>pci</code></dt>
<dd><p>Number. Physical cell ID.
            </p></dd>
<dt><code>cqi</code></dt>
<dd><p>Number. Last reported cqi.
            </p></dd>
<dt><code>ri</code></dt>
<dd><p>Number. Last reported ri.
            </p></dd>
<dt><code>rsrp</code></dt>
<dd><p>Number. RSRP of cell.
            </p></dd>
<dt><code>rsrq</code></dt>
<dd><p>Number. RSRQ of cell.
            </p></dd>
<dt><code>snr</code></dt>
<dd><p>Number. SNR of cell.
            </p></dd>
<dt><code>path_loss</code></dt>
<dd><p>Number. Current path loss estimated by the UE from RSRP and SIB reference signal level.
            </p></dd>
<dt><code>sim_path_loss</code></dt>
<dd><p>Optional number. It is present if the channel simulator is
            enabled. Current path loss computed by the channel model.
            </p></dd>
<dt><code>cfo</code></dt>
<dd><p>Integer. Center frequency offset in hertz.
            </p></dd>
<dt><code>sample_rate_offset</code></dt>
<dd><p>Number. Sample rate offset compared to the RF frontend one in ppm.
          </p></dd>
</dl>
</dd>
<dt><code>position</code></dt>
<dd><p>Array of 3 floats. If the channel simulator is enabled, define the current position of the UE.
        </p></dd>
<dt><code>pdn_list</code></dt>
<dd><p>Optional array containing the list of PDN/PDU session connections. Each element contains the following objects:
        </p><dl compact="compact">
<dt><code>apn</code></dt>
<dd><p>String. Access point name.
          </p></dd>
<dt><code>ipv4</code></dt>
<dd><p>Optional string. IPv4 address for this PDN connection.
          </p></dd>
<dt><code>ipv6_if_id</code></dt>
<dd><p>Optional string. IPv6 interface identifier for this PDN connection.
          </p></dd>
<dt><code>mac_addr</code></dt>
<dd><p>Optional string. MAC address for this PDN connection.
          </p></dd>
<dt><code>pdu_session_id</code></dt>
<dd><p>Optional integer. Applicable to 5GS only. PDU session identity.
          </p></dd>
<dt><code>qos_flows</code></dt>
<dd><p>Optional array of objects. Applicable to 5GS only. Each objects contains:
            </p><dl compact="compact">
<dt><code>default</code></dt>
<dd><p>Optional boolean. If present and set to true, indicates that it is the default QoS flow.
              </p></dd>
<dt><code>qfi</code></dt>
<dd><p>Integer. Range: 0 to 63. QoS flow identifier.
              </p></dd>
<dt><code>drb_id</code></dt>
<dd><p>Integer. Data Radio Bearer identity.
            </p></dd>
</dl>
</dd>
<dt><code>erabs</code></dt>
<dd><p>Optional array of objects. Applicable to EPS only. Each objects contains:
            </p><dl compact="compact">
<dt><code>default</code></dt>
<dd><p>Optional boolean. If present and set to true, indicates that it is the default PDN.
              </p></dd>
<dt><code>erab_id</code></dt>
<dd><p>Integer. EPS bearer identity.
              </p></dd>
<dt><code>drb_id</code></dt>
<dd><p>Integer. Data Radio Bearer identity.
            </p></dd>
</dl>
</dd>
</dl>
</dd>
<dt><code>dl_bitrate</code></dt>
<dd><p>Number. DL bitrate in bit/s (excluding transport blocks with CRC errors).
        </p></dd>
<dt><code>ul_bitrate</code></dt>
<dd><p>Number. UL bitrate in bit/s (excluding retranmissions).
        </p></dd>
<dt><code>dl_rx_count</code></dt>
<dd><p>Integer. Number of received transport blocks without CRC error.
        </p></dd>
<dt><code>dl_err_count</code></dt>
<dd><p>Integer. Number of received transport blocks with CRC errors.
        </p></dd>
<dt><code>dl_retx_count</code></dt>
<dd><p>Integer. Number of received retransmitted transport blocks (with or without CRC errors).
        </p></dd>
<dt><code>ul_tx_count</code></dt>
<dd><p>Integer. Number of sent transport blocks (first transmission only).
        </p></dd>
<dt><code>ul_retx_count</code></dt>
<dd><p>Integer. Number of retransmitted transport blocks.
        </p></dd>
<dt><code>dl_mcs</code></dt>
<dd><p>Number. Average MCS used for DL.
        </p></dd>
<dt><code>ul_mcs</code></dt>
<dd><p>Number. Average MCS used for UL.
        </p></dd>
<dt><code>dl_rb</code></dt>
<dd><p>Number. Average DL resource blocks per allocation.
        </p></dd>
<dt><code>ul_rb</code></dt>
<dd><p>Number. Average UL resource blocks per allocation.
        </p></dd>
<dt><code>dl_decoder_min</code></dt>
<dd><p>Optional number. Minimum turbo/ldpc decoder pass.
        </p></dd>
<dt><code>dl_decoder_avg</code></dt>
<dd><p>Optional number. Average turbo/ldpc decoder pass.
        </p></dd>
<dt><code>dl_decoder_max</code></dt>
<dd><p>Optional number. Maximum turbo/ldpc decoder pass.
        </p></dd>
<dt><code>pending</code></dt>
<dd><p>Boolean. Set to true if <code>update</code> was set to true with <code>max</code> parameter and
        modified UE are remaining. You may call <code>ue_get</code> again with <code>update</code> set
        to true when receiving <code>pending</code>.
        </p>
</dd>
<dt><code>counters</code></dt>
<dd><p>Object. List of counters, with following sub members:
</p>
<dl compact="compact">
<dt><code>messages</code></dt>
<dd><p>Object. Each member name is the message name and its value is its occurence.<br>
      To get list of message, type <var>cevent help msg</var> in LTEUE monitor.
</p>
</dd>
<dt><code>errors</code></dt>
<dd><p>Object. Each member name is the error name and its value is its occurence.<br>
      To get list of message, type <var>cevent help error</var> in LTEUE monitor.
</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>

</dd>
<dt><code>ue_add</code></dt>
<dd><p>Add one or several UE.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>list</code></dt>
<dd><p>Array of object. Each object represent a UE as defined config file.
      See <a href="#UE-configuration">UE configuration</a>
    </p></dd>
</dl>
<p>Response definition:
    </p><dl compact="compact">
<dt><code>info</code></dt>
<dd><p>Array of string. List of information.
    </p></dd>
</dl>

</dd>
<dt><code>ue_del</code></dt>
<dd><p>Remove a UE.<br>
  The UE will be removed without performing any deregistration.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer or array of integers. UE ID(s) of the UE to remove.
    </p></dd>
</dl>

<p>Response definition:
    </p><dl compact="compact">
<dt><code>deleted</code></dt>
<dd><p>Integer. Number of deleted UE in case of list deletion.
</p>
</dd>
<dt><code>unknown</code></dt>
<dd><p>Array of integers. List of unknown UE IDs in case of list deletion.
</p>
</dd>
<dt><code>invalid</code></dt>
<dd><p>Array of integers. List of invalid UE IDs in case of list deletion.
</p>
</dd>
</dl>

</dd>
<dt><code>ue_del_all</code></dt>
<dd><p>Remove all UEs.<br>
  The UEs will be removed without performing any deregistration.<br>
</p>
</dd>
<dt><code>ue_move</code></dt>
<dd><p>Move a UE to a specific position. Relevant only with <var>channel_sim</var> set to true.
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE to move.
</p>
</dd>
<dt><code>position</code></dt>
<dd><p>Optional array. See <a href="#position">position</a> channel simulator option.
</p>
</dd>
<dt><code>speed</code></dt>
<dd><p>Optional number. See <a href="#speed">speed</a> channel simulator option.
</p>
</dd>
<dt><code>direction</code></dt>
<dd><p>Optional number. See <a href="#direction">direction</a> channel simulator option.
</p>
</dd>
<dt><code>elevation</code></dt>
<dd><p>Optional number. See <a href="#elevation">elevation</a> channel simulator option.
    </p></dd>
</dl>

<span id="rf"></span></dd>
<dt><code>rf</code></dt>
<dd><p>Set radio frontend channels gain.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>tx_gain</code></dt>
<dd><p>Optional number or array of numbers. Set TX gain.<br>
      Same definition as the <a href="#tx_005fgain">tx_gain</a> property.
</p>
</dd>
<dt><code>tx_channel_index</code></dt>
<dd><p>Optional number. If set, apply gain to specified channel only.
</p>
</dd>
<dt><code>rx_gain</code></dt>
<dd><p>Optional number or array of numbers. Set RX gain.<br>
      Same definition as the <a href="#rx_005fgain">rx_gain</a> property.
</p>
</dd>
<dt><code>rx_channel_index</code></dt>
<dd><p>Optional number. If set, apply gain to specified channel only.
</p>
</dd>
</dl>

<p>Response definition:
    </p><dl compact="compact">
<dt><code>tx_gain</code></dt>
<dd><p>Array. List of TX gain per channel.
      </p></dd>
<dt><code>rx_gain</code></dt>
<dd><p>Array. List of RX gain per channel.
      </p></dd>
<dt><code>rf_info</code></dt>
<dd><p>Optional string. RF driver information (depends on radio frontend).
    </p></dd>
</dl>

</dd>
<dt><code>trx_iq_dump</code></dt>
<dd><p>Dump baseband IQ samples (time domain) to files.<br>
  The IQ samples are stored as little endian 32 bit floating point numbers.<br>
  Real and imaginary part are interleaved: the real part (I) is written first, the imaginary one (Q) next:<br>
    I(0) <code>[0 ... 31]</code><br>
    Q(0) <code>[32 ... 63]</code><br>
    I(1) <code>[64 ... 95]</code><br>
    Q(1) <code>[96 ... 127]</code><br>
    ...<br>
    I(n) <code>[n*64 ... n*64+31]</code><br>
    Q(n) <code>[n*64+32 ... n*64+63]</code><br>
</p>  
<p>Message definition
    </p><dl compact="compact">
<dt><code>duration</code></dt>
<dd><p>Optional value (default = 1s). Sets dump duration in milliseconds.
</p>
</dd>
<dt><code>rf_port</code></dt>
<dd><p>Optional integer or array of integer. If set, dump only the related RF port channels.
</p>
</dd>
<dt><code>rx_filename</code></dt>
<dd><p>Optional string. If set defines the file where the received IQ samples will be
      dumped.<br>
      May contain <var>%d</var> to differentiate antenna streams (printf style).<br>
      If not set, no RX data will be dumped.
</p>
</dd>
<dt><code>tx_filename</code></dt>
<dd><p>Optional string. If set defines the file where the transmitted IQ samples
      will be dumped.<br>
      May contain <var>%d</var> to differentiate antenna streams (printf style).<br>
      If not set, no TX data will be dumped.
</p>
</dd>
<dt><code>rx_channels</code></dt>
<dd><p>Optional array of integer. Selects channel to dump. Each integer represents
      the global index of the channel.
</p>
</dd>
<dt><code>tx_channels</code></dt>
<dd><p>Optional array of integer. Selects channel to dump. Each integer represents
      the global index of the channel.
</p>
</dd>
<dt><code>rx_header</code></dt>
<dd><p>Optional boolean (Default = false). Set the dump mode.
</p>
<p>If not set, only the IQ samples are written to the files. If
      set, add a header for each TRX read or write operation. It is
      followed by the corresponding IQ samples.<br>
</p>
<p>Header:<br>
      </p><dl compact="compact">
<dt><code>timestamp</code></dt>
<dd><p>64 bit TRX timestamp, in samples.
</p>
</dd>
<dt><code>count</code></dt>
<dd><p>32 bit integer: number of following IQ samples before next header.
</p>
</dd>
</dl>

</dd>
<dt><code>tx_header</code></dt>
<dd><p>Optional boolean (Default = false). Same as <var>rx_header</var> for TX.
    </p></dd>
</dl>


<span id="ext_005fapp"></span></dd>
<dt><code>ext_app</code></dt>
<dd><p>Launch and external application.<br>
  Only available if <var>tun_setup_script</var> is set.
  Message definition:
    </p><dl compact="compact">
<dt><code>name</code></dt>
<dd><p>String. Session name.
</p>
</dd>
<dt><code>end_time</code></dt>
<dd><p>Float. End time. If external application is not over when this time is reached,
      a kill signal will be sent.<br>
      The command may finish before this time if external application process ends up
      before.
</p>
</dd>
<dt><code>prog</code></dt>
<dd><p>String. Name of external application to launch.<br>
      If path is not absolute, LTEUE config file path will be used.<br>
      Arguments passed to application will be:
      </p><ul class="no-bullet">
<li>- UE_ID
      </li><li>- TUN interface name
      </li><li>- Duration in seconds.
      </li></ul>

</dd>
<dt><code>args</code></dt>
<dd><p>Array of string or number that will be passed to application as argument (from 4th).
</p>
</dd>
<dt><code>dump_stdout</code></dt>
<dd><p>Optional boolean (default = false). If set, external application stdout will be redirected to LTEUE stdout.<br>
      If external application is defined in <a href="#sim_005fevents">sim_events</a>, the default value is true.
</p>
</dd>
<dt><code>dump_stderr</code></dt>
<dd><p>Optional boolean (default = false). If set, external application stderr will be redirected to LTEUE stderr.<br>
      If external application is defined in <a href="#sim_005fevents">sim_events</a>, the default value is true.
</p>
</dd>
</dl>

<p>Response definition:
    </p><dl compact="compact">
<dt><code>output</code></dt>
<dd><p>String. Standard output of the application.
</p>
</dd>
<dt><code>error</code></dt>
<dd><p>String. Standard error of the application.
</p>
</dd>
</dl>

<p>Start notification:<br>
  A message with notification set to <var>start</var> will be sent when application is launched.
</p>
<p>Progress notification:<br>
  A message with notification set to <var>progress</var> will be sent
  with <var>output</var> as defined in response.
</p>
<p>Example:<br>
  Message sent:
</p><pre class="verbatim">{
    message: &quot;ext_app&quot;,
    message_id: 'foo',
    ue_id: 1,
    start_time: 1,
    end_time: 5,
    prog: &quot;ext_app.sh&quot;,
    args: [&quot;iperf -c 220.103.220.10 -i 1 -t 4&quot;],
}
</pre>
<p>Start notification:
</p><pre class="verbatim">{
    message_id: 'foo',
    notification: 'start'
}
</pre>
<p>Progress notifications:
</p><pre class="verbatim">{
    message_id: 'foo',
    output: 'ip netns exec ue1 iperf -c 220.103.220.10 -i 1 -t 4\n',
    notification: 'progress'
}

{
    message_id: 'foo',
    output: '------------------------------------------------------------\nClient connecting to 220.103.220.10, TCP port 5001\nTCP window size: 85.0 KByte (default)\n------------------------------------------------------------\n[  3] local 220.103.220.15 port 41634 connected with 220.103.220.10 port 5001\n',
    notification: 'progress'
}

{
    message_id: 'foo',
    output: '[ ID] Interval       Transfer     Bandwidth\n[  3]  0.0- 1.0 sec  1.25 MBytes  10.5 Mbits/sec\n',
    notification: 'progress'
}

{
    message_id: 'foo',
    output: '[  3]  1.0- 2.0 sec  1.00 MBytes  8.39 Mbits/sec\n',
    notification: 'progress'
}
</pre>
<p>Final response:
</p><pre class="verbatim">{
    message: 'ext_app',
    message_id: 'foo',
    output: '[  3]  2.0- 3.0 sec   896 KBytes  7.34 Mbits/sec\n'
}
</pre>
</dd>
<dt><code>sms</code></dt>
<dd><p>Send a SMS over SG.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>dst</code></dt>
<dd><p>String. Phone number to send SMS to.
      </p></dd>
<dt><code>text</code></dt>
<dd><p>String. SMS text.
      </p></dd>
<dt><code>validity</code></dt>
<dd><p>Optional integer (Default = 86400). Validity period in seconds.
      </p></dd>
<dt><code>status_req</code></dt>
<dd><p>Optional boolean (Default = false). Indicates if a status report is requested.
    </p></dd>
</dl>

</dd>
<dt><code>sms_command</code></dt>
<dd><p>Send a SMS-COMMAND.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>type</code></dt>
<dd><p>Enumeration: 0, 1, 2, 3. 
      TP-Command-Type as defined in 3GPP 23.040 paragraph 9.2.3.19 TP-Command-Type:<br>
      0 = Enquiry relating to previously submitted short message 
      1 = Cancel Status Report Request relating to previously submitted short message
      2 = Delete previously submitted Short Message
      3 = Enable Status Report Request relating to previously submitted short message
      </p></dd>
<dt><code>msg_number</code></dt>
<dd><p>Integer in range 0 to 255.
      Parameter indicating which SM in the SC to operate on.
      TP-Message-Number as defined in 3GPP 23.040 paragraph 9.2.3.18 TP-Message-Number.
      </p></dd>
<dt><code>dst</code></dt>
<dd><p>String. Destination Address to which the TP-Command refers.
      TP-Destination-Address as defined in 3GPP 23.040 9.2.3.8 TP-Destination-Address
    </p></dd>
</dl>

</dd>
<dt><code>sms_memory</code></dt>
<dd><p>Set SMS memory availability.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>memory</code></dt>
<dd><p>Boolean. If true, UE will send a RP SMMA message, else received SMS
      will lead to <code>memory capacity exceeded</code> error message.
    </p></dd>
</dl>

</dd>
<dt><code>non_ip_data</code></dt>
<dd><p>Send data over a non IP PDN or unstructured PDU session.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>erab_id</code></dt>
<dd><p>Optional integer. ERAB identity of the non IP default bearer, as given in pdn_connect response.
      Mandatory for a LTE UE.
      </p></dd>
<dt><code>pdu_session_id</code></dt>
<dd><p>Optional integer. PDU session identity of the non IP PDU session, as given in pdn_connect response.
      Mandatory for a 5G UE.
      </p></dd>
<dt><code>data</code></dt>
<dd><p>String. ASCII representation of the data hexadecimal dump.
    </p></dd>
</dl>

</dd>
<dt><code>force_meas_report</code></dt>
<dd><p>Force the sending of a RRC Measurement Report message.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>meas_id</code></dt>
<dd><p>Integer. Measurement identifier.
    </p></dd>
</dl>

</dd>
<dt><code>tau_request</code></dt>
<dd><p>Trigger a NAS Tracking Area Update / mobility Registration Request procedure.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
    </p></dd>
</dl>

</dd>
<dt><code>rlc_drop_rate</code></dt>
<dd><p>Define a percentage of downlink RLC PDUs dropped.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>rb_id</code></dt>
<dd><p>Integer. Bearer identity.
      </p></dd>
<dt><code>srb</code></dt>
<dd><p>Boolean. Indicates if the bearer is for signalling or data.
      </p></dd>
<dt><code>percentage</code></dt>
<dd><p>Integer (range 0 to 100). Drop percentage.
    </p></dd>
</dl>

</dd>
<dt><code>mbms_set</code></dt>
<dd><p>Start/stop receiving MBMS service.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>service_list</code></dt>
<dd><p>Array of strings. Each string should be formatted like &quot;plmn.service_id&quot; to start listening the given service.
    </p></dd>
</dl>

</dd>
<dt><code>ue_activate_dedicated_bearer</code></dt>
<dd><p>Trigger a Bearer Resource Allocation Request.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>def_beared_id</code></dt>
<dd><p>Integer. Default EPS bearer id.
      </p></dd>
<dt><code>qci</code></dt>
<dd><p>Optional integer (range 1 to 255). QoS Class Identifier of the E-RAB.
    <span id="GBR"></span>    </p></dd>
<dt><code>gbr</code></dt>
<dd><p>Optional object. Guaranted Bitrate information. List of properties:
      </p><dl compact="compact">
<dt><code>maximum_bitrate_dl</code></dt>
<dd><p>Integer. Bearer maximum bitrate for downlink (in bits/s).
      </p></dd>
<dt><code>maximum_bitrate_ul</code></dt>
<dd><p>Integer. Bearer maximum bitrate for uplink (in bits/s).
      </p></dd>
<dt><code>guaranteed_bitrate_dl</code></dt>
<dd><p>Integer. Bearer guaranteed bitrate for downlink (in bits/s).
      </p></dd>
<dt><code>guaranteed_bitrate_ul</code></dt>
<dd><p>Integer. Bearer guaranteed bitrate for uplink (in bits/s).
      </p></dd>
</dl>
<span id="TFT"></span></dd>
<dt><code>filters</code></dt>
<dd><p>Optional array of objects. List of TFT filters or QoS rules.
    Each filter has the following properties:
      </p><dl compact="compact">
<dt><code>direction</code></dt>
<dd><p>Enumeration: <code>dl</code>, <code>ul</code> or <code>both</code>. Set the filter direction.
      </p></dd>
<dt><code>id</code></dt>
<dd><p>Range: 0 to 15. Set the filter identifier.
      </p></dd>
<dt><code>precedence</code></dt>
<dd><p>Range: 0 to 255. Set the filter precedence. 
      All the filters must have different precedence. 0 is the highest precedence.
      Note that precedence 80 is reserved for derived QOS rules in 5GS and thus will be rejected if configured.
      <span id="TFT-components"></span>      </p></dd>
<dt><code>components</code></dt>
<dd><p>Array of objects. Each component contains one of the following properties as described in 3GPP TS 23.060 chapter 15.3.2:
        </p><dl compact="compact">
<dt><code>ipv4_remote_addr</code></dt>
<dd><p>String. Match a remote (external network entity) IPv4 address with the additional <code>mask</code> property.
        </p></dd>
<dt><code>ipv4_local_addr</code></dt>
<dd><p>String. Match a local IPv4 address with the additional <code>mask</code> property.
        Note that not all core networks support it (they must indicate the support of the Local address in TFT in PCO/ePCO).
        </p></dd>
<dt><code>ipv6_remote_addr</code></dt>
<dd><p>String. Match a remote (external network entity) IPv6 address with the additional <code>mask</code> property.
        </p></dd>
<dt><code>ipv6_remote_addr_prefix</code></dt>
<dd><p>String. Match a remote (external network entity) IPv6 address with the additional <code>prefix_len</code> property.
        Note that not all core networks support it (they must indicate the support of the Local address in TFT in PCO/ePCO).
        </p></dd>
<dt><code>ipv6_local_addr_prefix</code></dt>
<dd><p>String. Match a local IPv6 address with the additional <code>prefix_len</code> property.
        Note that not all core networks support it (they must indicate the support of the Local address in TFT in PCO/ePCO).
        </p></dd>
<dt><code>proto_id</code></dt>
<dd><p>Range: 0 to 255. Match against the IP protocol identifier.
        </p></dd>
<dt><code>local_port</code></dt>
<dd><p>Range: 0 to 65536. Match against the local (UE) port.
        </p></dd>
<dt><code>local_port_range</code></dt>
<dd><p>Array of 2 integers. Match against a local (UE) port range.
        </p></dd>
<dt><code>remote_port</code></dt>
<dd><p>Range: 0 to 65536. Match against the remote (external network entity) port.
        </p></dd>
<dt><code>remote_port_range</code></dt>
<dd><p>Array of 2 integers. Match against a remote (external network entity) port range.
        </p></dd>
<dt><code>security_parameter_index</code></dt>
<dd><p>32 bit integer. Match the ESP or AH security parameter index.
        </p></dd>
<dt><code>type_of_service</code></dt>
<dd><p>Range: 0 to 255. Match the type of service (IPv4) or the traffic class (IPv6) field. The additional <code>mask</code> property is the corresponding mask.
        </p></dd>
<dt><code>mask</code></dt>
<dd><p>Depends on TFT component.<br>
        If ipv4_remote_addr is set, string representing IPv4 address used as a mask to apply on packet remote address.<br>
        If ipv6_remote_addr is set, string representing IPv6 address used as a mask to apply on packet remote address.<br>
        If type_of_service is set, integer between 0 and 255 used as a mask to apply on packet tos.
        </p></dd>
<dt><code>flow_label</code></dt>
<dd><p>20 bit integer. Match the IPv6 flow label.
        </p></dd>
<dt><code>prefix_len</code></dt>
<dd><p>Range: 1 to 128. IPv6 address prefix length.
        </p></dd>
<dt><code>destination_mac_addr</code></dt>
<dd><p>String. Match the destination MAC address.
        </p></dd>
<dt><code>source_mac_addr</code></dt>
<dd><p>String. Match the source MAC address.
        </p></dd>
<dt><code>802.1q_ctag_vid</code></dt>
<dd><p>Range: 0 to 4095. Match the 802.1Q C-TAG VID.
        </p></dd>
<dt><code>802.1q_stag_vid</code></dt>
<dd><p>Range: 0 to 4095. Match the 802.1Q S-TAG VID.
        </p></dd>
<dt><code>802.1q_ctag_pcp_dei</code></dt>
<dd><p>Range: 0 to 15. Match the 802.1Q C-TAG PCP and DEI.
        </p></dd>
<dt><code>802.1q_stag_pcp_dei</code></dt>
<dd><p>Range: 0 to 15. Match the 802.1Q S-TAG PCP and DEI.
        </p></dd>
<dt><code>ethertype</code></dt>
<dd><p>Range: 0 to 65535. Match the ethertype.
        </p></dd>
<dt><code>destination_mac_addr_range</code></dt>
<dd><p>Array of 2 strings. Match the destination MAC address range. Only applicable to 5GC.
        </p></dd>
<dt><code>source_mac_addr_range</code></dt>
<dd><p>Array of 2 strings. Match the source MAC address range. Only applicable to 5GC.
        </p></dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>Response definition:
    </p><dl compact="compact">
<dt><code>erab_id</code></dt>
<dd><p>Integer. Allocated ERAB identity for the corresponding dedicated EPS bearer.
    </p></dd>
</dl>

</dd>
<dt><code>ue_bearer_resource_modification</code></dt>
<dd><p>Trigger a Bearer Resource Modification Request for bearer modification.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>beared_id</code></dt>
<dd><p>Integer . EPS bearer id.
      </p></dd>
<dt><code>qci</code></dt>
<dd><p>Optional integer (range 1 to 255). QoS Class Identifier of the E-RAB.
      </p></dd>
<dt><code>gbr</code></dt>
<dd><p>Optional object. See <a href="#GBR">GBR</a>.
      </p></dd>
<dt><code>filters</code></dt>
<dd><p>Optional array. See <a href="#TFT">TFT</a>.
    </p></dd>
</dl>

</dd>
<dt><code>ue_deactivate_dedicated_bearer</code></dt>
<dd><p>Trigger a Bearer Resource Modification Request for bearer deactivation .<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>beared_id</code></dt>
<dd><p>Integer . EPS bearer id.
    </p></dd>
</dl>

</dd>
<dt><code>ue_pdu_session_modification</code></dt>
<dd><p>Trigger a PDU Session Modification Request.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>apn</code></dt>
<dd><p>String. Access point name.
      </p></dd>
<dt><code>qos_rules</code></dt>
<dd><p>Optional array. List of the QoS rules other than the default one. Each element of the array contains the followings objects: 
      </p><dl compact="compact">
<dt><code>id</code></dt>
<dd><p>QoS rule identifier. Set it to 0 when creating a new QoS rule, or to the assigned value when modifying an existing QoS rule.
        </p></dd>
<dt><code>qfi</code></dt>
<dd><p>Integer. Range: 0 to 63. QoS flow identifier.
        </p></dd>
<dt><code>filters</code></dt>
<dd><p>Array of packet filters. See <a href="#TFT">TFT</a>.
      </p></dd>
</dl>
</dd>
<dt><code>qos_flow</code></dt>
<dd><p>Optional object. QoS flow parameters for the qfi. Contains the following items:
      </p><dl compact="compact">
<dt><code>qfi</code></dt>
<dd><p>Integer. Range: 0 to 63. QoS flow identifier.
        </p></dd>
<dt><code>5qi</code></dt>
<dd><p>Integer. Range: 1 to 254. 5QI of the QoS flow.
        </p></dd>
<dt><code>gbr</code></dt>
<dd><p>Optional object. See <a href="#GBR">GBR</a>.
      </p></dd>
</dl>
</dd>
</dl>

</dd>
<dt><code>ue_assistance_information</code></dt>
<dd><p>Trigger the sending of a UE assistance information message.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>power_pref_indication</code></dt>
<dd><p>Optional enumeration (normal, lowPowerConsumption).
      Defines the power preference indication to be sent in the UE assistance information message. LTE UE only.
      </p></dd>
<dt><code>preferred_rrc_state</code></dt>
<dd><p>Optional enumeration (idle, inactive, connected, outOfConnected).
      Defines the preferred RRC state to be sent in the UE assistance information message. NR UE only.
      </p></dd>
<dt><code>preferred_max_cc</code></dt>
<dd><p>Optional integer. Range: 1 to 31.
      Defines the reducedMaxCCs value for DL and UL to be sent in the UE assistance information message. NR UE only.
      </p></dd>
<dt><code>preferred_max_layers</code></dt>
<dd><p>Optional integer. Range: 1 to 4.
      Defines the reducedMaxMIMO_Layers for DL and UL to be sent in th UE assistance information message. NR UE only.
    </p></dd>
</dl>

</dd>
</dl>

<span id="LTE-events"></span><h3 class="section">8.7 LTE events</h3>

<p>Following events are sent by UE if they have been registered on WebSocket.
</p>
<dl compact="compact">
<dt><code>ue_update</code></dt>
<dd><p>Generated by a UE NAS or RRC state change:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. UE ID.
    </p></dd>
</dl>

</dd>
<dt><code>measurement_report</code></dt>
<dd><p>Generated when a UE sends a measurement report:
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. UE ID.
      </p></dd>
<dt><code>meas_id</code></dt>
<dd><p>Integer. Measurement identifier.
      </p></dd>
<dt><code>report_type</code></dt>
<dd><p>String. Measurement report type. Can be <code>periodical_strongest_cells</code>, <code>cgi</code>,
      <code>event_a1</code>, <code>event_a2</code>, <code>event_a3</code>, <code>event_a4</code>, <code>event_a5</code>,
      <code>event_a6</code>, <code>event_b1_nr</code>, <code>event_b2_nr</code>, <code>event_b1</code>, or <code>event_b2</code>
    </p></dd>
</dl>

</dd>
<dt><code>sms</code></dt>
<dd><p>Generated by SMS reception:
    </p><dl compact="compact">
<dt><code>imsi</code></dt>
<dd><p>String. IMSI.
      </p></dd>
<dt><code>originator</code></dt>
<dd><p>String. SMS originator.
      </p></dd>
<dt><code>text</code></dt>
<dd><p>String. SMS text.
      </p></dd>
<dt><code>binary</code></dt>
<dd><p>String. If <code>text</code> is not set, base64 encoded string of SMS data.
      </p></dd>
<dt><code>dcs</code></dt>
<dd><p>Integer. Data coding scheme.
    </p></dd>
</dl>

</dd>
<dt><code>sms_status_report</code></dt>
<dd><p>Generated by the reception of SMS-STATUS_REPORT:
    </p><dl compact="compact">
<dt><code>imsi</code></dt>
<dd><p>String. IMSI.
      </p></dd>
<dt><code>tp_qualifier</code></dt>
<dd><p>Enumeration: &quot;SMS-SUBMIT&quot;, &quot;SMS-COMMAND&quot;.
      TP-Status-Report-Qualifier as defined in 23.040 9.2.2.3 SMS-STATUS-REPORT type.
      </p></dd>
<dt><code>tp_message_ref</code></dt>
<dd><p>Integer. TP-Message-Reference as defined in 23.040 9.2.2.3 SMS-STATUS-REPORT type.
      </p></dd>
<dt><code>tp_recipient_address</code></dt>
<dd><p>String.  TP-Recipient-Address as defined in 23.040 9.2.2.3 SMS-STATUS-REPORT type.
      </p></dd>
<dt><code>tp_discharge_time</code></dt>
<dd><p>String. TP-Discharge-Time as defined in 23.040 9.2.2.3 SMS-STATUS-REPORT type.
      </p></dd>
<dt><code>tp_status</code></dt>
<dd><p>Integer. TP-Status as defined in 23.040 9.2.2.3 SMS-STATUS-REPORT type.
</p>     
</dd>
</dl>

</dd>
<dt><code>non_ip_data</code></dt>
<dd><p>Generated by data reception over a non IP PDN or unstructured PDU session.<br>
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>erab_id</code></dt>
<dd><p>Integer. ERAB identity of the non IP default bearer.
      </p></dd>
<dt><code>data</code></dt>
<dd><p>String. ASCII representation of the data hexadecimal dump.
    </p></dd>
</dl>

</dd>
<dt><code>pws_msg</code></dt>
<dd><p>Generated by reception of a PWS message (either CMAS or ETWS secondary message).<br>
    </p><dl compact="compact">
<dt><code>ue_id</code></dt>
<dd><p>Integer. Identifier of UE.
      </p></dd>
<dt><code>message_id</code></dt>
<dd><p>Integer. Message Identifier, as per 3GPP TS 23.041
      </p></dd>
<dt><code>serial_number</code></dt>
<dd><p>Integer. Serial Number, as per 3GPP TS 23.041.
      </p></dd>
<dt><code>message</code></dt>
<dd><p>Array of strings containing the UTF8 representation of each page of the message.
    </p></dd>
</dl>

</dd>
<dt><code>srs, pdsch, npdsch</code></dt>
<dd><p>Generated each time such a channel is decoded by the physical layer.
  This message is in binary format and includes a JSON structure and signal data as followed:<br>
  First 4 bytes are an 32 bit integer representing the length in bytes of the serialized JSON, followed
  by the serialized JSON itslef.<br>
  Next 4 bytes are the length of the signal data in bytes followed by the data itself.<br>
  Note that the message can include several signal data. In this case, the pattern length/signal is repeated.
</p>
<p>JSON data has the following definition:
</p>
<dl compact="compact">
<dt><code>label</code></dt>
<dd><p>String. Can be <code>rs</code> or <code>re</code>
</p>
</dd>
<dt><code>data</code></dt>
<dd><p>Array of string. Information related to the signal being decoded.<br>
      Check <code>log_get</code> API.
    </p></dd>
</dl>

<p>Signal data bytes are defined this way:
</p>
<ul>
<li> Bytes 0...3: integer representing data length in bytes of the subsequent information.
    </li><li> Bytes 4...7: integer representing data element size where:
      <ul>
<li> 0: 32 bits floats
      </li><li> 1: 16 bits integer.
      </li></ul>
</li><li> Bytes 8..11: number of elements in data
    </li><li> Remaining bytes are for data.
    </li></ul>

<p>Note that &lt;data length&gt; = &lt;# of elements&gt; * &lt;element size in bytes&gt; + 8
</p>
<p>For more information about signal data, please check <code>signal.js</code> code inside <code>ltewww</code> software package.
</p>

</dd>
</dl>

<span id="IP-simulation-messages"></span><span id="IP-simulation-messages-1"></span><h3 class="section">8.8 IP simulation messages</h3>

<span id="Common-message-definition"></span><h4 class="subsection">8.8.1 Common message definition</h4>

<dl compact="compact">
<dt><code>name</code></dt>
<dd><p>String. Simulation name.
</p>
</dd>
<dt><code>ue_id</code></dt>
<dd><p>Integer. UE identifier.
</p>
</dd>
<dt><code>end_time</code></dt>
<dd><p>Float. End time.
</p>
</dd>
<dt><code>dst_addr</code></dt>
<dd><p>Optional string. <code>&lt;address&gt;[:&lt;port&gt;]</code> address and optionally port number of the remote test server.<br>
  If not set, use sim_ip_remote_addr of LTEUE configuration.<br>
  At least one of this two address must be set.<br>
  Must be an IP address or a MAC address if <code>type</code> is <code>ethernet</code> (<code>cbr_recv</code> and <code>cbr_send</code> cases).
</p>
</dd>
<dt><code>apn</code></dt>
<dd><p>Optional string. Access point name. If defined, IP simulation will
  use the corresponding PDN to send and receive packets.
</p>
</dd>
</dl>


<span id="Common-response-definition"></span><h4 class="subsection">8.8.2 Common response definition</h4>

<dl compact="compact">
<dt><code>info</code></dt>
<dd><p>String. Human readable simulation result.
</p></dd>
</dl>


<span id="Definitions"></span><h4 class="subsection">8.8.3 Definitions</h4>

<dl compact="compact">
<dt><code>ping</code></dt>
<dd><p>Performs a ICMP ping.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>delay</code></dt>
<dd><p>Float. Delay in seconds between two ICMP echos.
      </p></dd>
<dt><code>payload_len</code></dt>
<dd><p>Integer. Size of ICMP payload (Between 4 and 1500).
      </p></dd>
<dt><code>id</code></dt>
<dd><p>Optional integer. ICMP id. If not set, randomly defined.
    </p></dd>
</dl>

<p>Response definition:
    </p><dl compact="compact">
<dt><code>sent</code></dt>
<dd><p>Number of sent ECHO requests.
      </p></dd>
<dt><code>recv</code></dt>
<dd><p>Number of received ECHO replies.
    </p></dd>
</dl>

</dd>
<dt><code>cbr_send</code></dt>
<dd><p>Send UDP/Ethernet packets at constant bitrate.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>type</code></dt>
<dd><p>Optional enumeration: udp, rtp voip or ethernet (default = udp). Select the packet format: UDP, RTP, VOIP (Voice Over IP) or Ethernet.<br>
      VOIP uses RTP packets with 8 kHz timestamps and an optional silence compression (SID (Silence Indicator) payload size of 6 bytes and one SID packet).
      </p></dd>
<dt><code>bit_rate</code></dt>
<dd><p>Integer. Bitrate in bits per second.
      </p></dd>
<dt><code>payload_len</code></dt>
<dd><p>Integer. Size of UDP/RTP/Ethernet payload (Between 4 and 1500).
    </p></dd>
</dl>

<p>Additional parameter when type is <code>voip</code>:
    </p><dl compact="compact">
<dt><code>vaf</code></dt>
<dd><p>Range: 0 to 100 (only for VOIP). Voice Activity Factor in percent. 100% means no silence.
      </p></dd>
<dt><code>mean_talking_duration</code></dt>
<dd><p>Float (only for VOIP). Mean talking duration in seconds.
      </p></dd>
<dt><code>sid_period</code></dt>
<dd><p>Optional integer. Silent duration in packets. If not set, period will be configured so that
      silent packets are sent at least every 160ms.
    </p></dd>
</dl>

<p>Additional parameter when type is <code>ethernet</code>:
    </p><dl compact="compact">
<dt><code>ether_type</code></dt>
<dd><p>Optional integer (Between 0 and 65535). In case of Ethernet packets, sets the <code>ether_type</code> protocol number of the Ethernet header.
    </p></dd>
</dl>

<p>Response definition:
    </p><dl compact="compact">
<dt><code>sent</code></dt>
<dd><p>Number of sent packets.
      </p></dd>
<dt><code>recv</code></dt>
<dd><p>Number of received packets.
    </p></dd>
</dl>

</dd>
<dt><code>cbr_recv</code></dt>
<dd><p>Receive UDP/Ethernet packets at constant bitrate.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>type</code></dt>
<dd><p>Optional enumeration: udp, rtp voip ethernet (default = udp). Select the packet format: UDP, RTP, VOIP (Voice Over IP) or Ethernet.<br>
      VOIP uses RTP packets with 8 kHz timestamps and an optional silence compression (SID (Silence Indicator) payload size of 6 bytes and one SID every 8 normal voice packets).
      </p></dd>
<dt><code>bit_rate</code></dt>
<dd><p>Integer. Bitrate in bits per second.
      </p></dd>
<dt><code>payload_len</code></dt>
<dd><p>Integer. Size of UDP/RTP/Ethernet payload (Between 4 and 1500).
      </p></dd>
<dt><code>vaf</code></dt>
<dd><p>Range: 0 to 100 (only for VOIP). Voice Activity Factor in percent. 100% means no silence.
      </p></dd>
<dt><code>mean_talking_duration</code></dt>
<dd><p>Float (only for VOIP). Mean talking duration in seconds.
      </p></dd>
<dt><code>start_delay</code></dt>
<dd><p>Optional float (default = 0). Tell the server to begin sending packets after <code>start_delay</code> seconds. It is useful to test paging.
      </p></dd>
<dt><code>ether_type</code></dt>
<dd><p>Optional integer (Between 0 and 65535). In case of Ethernet packets, sets the <code>ether_type</code> protocol number of the Ethernet header.
      </p></dd>
</dl>

<p>Response definition:
    </p><dl compact="compact">
<dt><code>sent</code></dt>
<dd><p>Number of sent packets.
      </p></dd>
<dt><code>recv</code></dt>
<dd><p>Number of received packets.
    </p></dd>
</dl>

</dd>
<dt><code>flood_send</code></dt>
<dd><p>Send UDP packets by burst.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>payload_len</code></dt>
<dd><p>Integer. Size of UDP payload (Between 4 and 1500).
    </p></dd>
</dl>

<p>Response definition:
    </p><dl compact="compact">
<dt><code>sent</code></dt>
<dd><p>Number of sent packets.
      </p></dd>
<dt><code>recv</code></dt>
<dd><p>Number of received packets.
      </p></dd>
<dt><code>rate_kbps</code></dt>
<dd><p>Transfer rate.
    </p></dd>
</dl>

</dd>
<dt><code>flood_recv</code></dt>
<dd><p>Receive UDP packets by burst.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>payload_len</code></dt>
<dd><p>Integer. Size of UDP payload (Between 4 and 1500).
    </p></dd>
</dl>

<p>Response definition:
    </p><dl compact="compact">
<dt><code>sent</code></dt>
<dd><p>Number of sent packets.
      </p></dd>
<dt><code>recv</code></dt>
<dd><p>Number of received packets.
      </p></dd>
<dt><code>rate_kbps</code></dt>
<dd><p>Transfer rate.
    </p></dd>
</dl>

</dd>
<dt><code>http</code></dt>
<dd><p>Performs HTTP transfers in loop.<br>
  Message definition:
    </p><dl compact="compact">
<dt><code>url</code></dt>
<dd><p>String. URL to download.
      </p></dd>
<dt><code>max_delay</code></dt>
<dd><p>Float. Maximum delay between two connection attempts.
      </p></dd>
<dt><code>max_cnx</code></dt>
<dd><p>Integer (default = 1000). Maximum number of connections.
    </p></dd>
</dl>

<p>Response definition:
    </p><dl compact="compact">
<dt><code>connections</code></dt>
<dd><p>Number of transfer attempt.
      </p></dd>
<dt><code>rx_size</code></dt>
<dd><p>Downloaded size in bytes.
      </p></dd>
<dt><code>duration</code></dt>
<dd><p>Real transfer duration. Useful to estimate bitrate.
    </p></dd>
</dl>

</dd>
</dl>


<span id="Start-notification"></span><h4 class="subsection">8.8.4 Start notification</h4>

<p>When started, an intermediate message is sent.<br>
This message is identified by a notification field set to string <code>start</code>.
</p>


<span id="IP-simulation-examples"></span><h3 class="section">8.9 IP simulation examples</h3>

<ol>
<li> Ping
    <ol>
<li> Client message
<pre class="verbatim">{
    &quot;message&quot;: &quot;ping&quot;,
    &quot;message_id&quot;: 42,
    &quot;start_time&quot;: 1.5,
    &quot;ue_id&quot;: 1,
    &quot;delay&quot;: 1,
    &quot;payload_len&quot;: 100
}
</pre>
</li><li> Server notification
<pre class="verbatim">{
    &quot;message&quot;: &quot;ping&quot;,
    &quot;message_id&quot;: 42,
    &quot;notification&quot;: &quot;start&quot;
}
</pre>

</li><li> Server response
<pre class="verbatim">{
    &quot;message&quot;: &quot;ping&quot;
    &quot;message_id&quot;: 42,
    &quot;sent&quot;: 100,
    &quot;recv&quot;: 100,
    &quot;info&quot;: &quot;PING: sent 100, received 100&quot;
}
</pre>
</li></ol>
</li></ol>

<span id="IP-simulation-server"></span><span id="IP-simulation-server-1"></span><h4 class="subsection">8.9.1 IP simulation server</h4>

<p>Some IP simulations requires a server to communicate with.<br>
PING test are handled direclty by network stacks implementing ICMP protocol.<br>
A common HTTP server can be used for HTTP simulations.<br>
</p>

<p>In LTEUE package, you will find a <code>ltesim_server</code> program used
for this communication.<br>
It is mandatory for simulations like CBR and FLOOD.<br>
In order to use this program, you need to copy the following files, available in your package, to your core network PC.
</p><ul>
<li> ltesim_server
</li><li> libnopoll.so
</li><li> libcrypto.so.1.1 (See <a href="#openssl">openssl</a>)
</li><li> libssl.so.1.1 (See <a href="#openssl">openssl</a>)
</li><li> libc_wrapper.so
</li><li> libnuma.so
</li></ul>


<p>Now, you can start this program in core network as below:
</p>
<div class="example">
<pre class="example">./ltesim_server -a &lt;interface address&gt;[:&lt;port&gt;]
</pre></div>

<p>Or, if you want HTTP handling:
</p>
<div class="example">
<pre class="example">./ltesim_server -a &lt;interface address&gt; -H &lt;port&gt;
</pre></div>

<p>For Ethernet, you need to select listening interface:
</p>
<div class="example">
<pre class="example">./ltesim_server -e &lt;interface name&gt;[/&lt;ether_type&gt;] -H &lt;port&gt;
</pre></div>


<span id="Examples"></span><h3 class="section">8.10 Examples</h3>

<ol>
<li> Config
    <ol>
<li> Client sends
<pre class="verbatim">{
    &quot;message&quot;: &quot;config_get&quot;,
    &quot;message_id&quot;: &quot;foo&quot;
}
</pre>
</li><li> Server replies
<pre class="verbatim">{
    &quot;message_id&quot;: &quot;foo&quot;,
    &quot;message&quot;: &quot;config_get&quot;,
    &quot;name&quot;: &quot;UE&quot;,
    &quot;logs&quot;: {
        &quot;phy&quot;: {
            &quot;level&quot;: &quot;error&quot;,
            &quot;max_size&quot;: 0
        },
        ...
        &quot;rrc&quot;: {
            &quot;level&quot;: &quot;debug&quot;,
            &quot;max_size&quot;: 1
        }
    }
}
</pre>
</li></ol>

</li><li> Error
    <ol>
<li> Client sends
<pre class="verbatim">{
    &quot;message&quot;: &quot;bar&quot;,
    &quot;message_id&quot;: &quot;foo&quot;
}
</pre>
</li><li> Server replies
<pre class="verbatim">{
    &quot;message_id&quot;: &quot;foo&quot;,
    &quot;message&quot;: &quot;bar&quot;,
    &quot;error&quot;: &quot;Unknown message: bar&quot;
}
</pre>
</li></ol>
</li></ol>



<span id="Command-line-monitor-reference"></span><h2 class="chapter">9 Command line monitor reference</h2>
<p>The following commands are available:
</p>
<dl compact="compact">
<dt><code>help</code></dt>
<dd><p>Display the help. Use <code>help <var>command</var></code> to have a more
detailed help about a command.
</p>
</dd>
<dt><code>t [ue|g|cpu|spl] [<var>period</var>]</code></dt>
<dd><p>Activate various traces on the console. The display is stopped when
typing return. The default trace is <code>ue</code>. An optional display
period (in seconds) is accepted.
</p>
<p>Available traces:
</p><dl compact="compact">
<dt><code>ue[:n]</code></dt>
<dd><p>UE MAC and PRACH traces. If <code>n</code> is provided, only display the UE
ID <code>n</code>.
</p></dd>
<dt><code>g</code></dt>
<dd><p>Show global statistics.
</p></dd>
<dt><code>cpu</code></dt>
<dd><p>Display the CPU usage from the TRX (transceiver) API and the TX-RX
latency statistics.
</p></dd>
<dt><code>spl</code></dt>
<dd><p>Display various statistics about the sent and received complex samples
(at the TRX API level). For the TX side, the RMS and maximum
sample value are displayed. The number of saturation events
(<code>abs(sample) &gt; 1</code>) are displayed too. For the RX side the RMS
and maximum sample value are displayed. The unit is dB FS (dB Full
Scale). 0 dB FS is reached with a square signal of amplitude 1.
</p></dd>
</dl>

</dd>
<dt><code>log [<var>log_options</var>]</code></dt>
<dd><p>Display the current log state. If <var>log_options</var> are given, change
the log options. The syntax is the same as the <code>log_options</code>
configuration property.
</p>
</dd>
<dt><code>tx_gain <var>gain</var> [<var>channel</var>]</code></dt>
<dd><p>Set the TX gain in dB of the radio driver. With an array of floats a different gain is specified for each channel. Same definition as the <a href="#tx_005fgain">tx_gain</a> property.
</p>
</dd>
<dt><code>rx_gain <var>gain</var> [<var>channel</var>]</code></dt>
<dd><p>Set the RX gain in dB of the radio driver. With an array of floats a different gain is specified for each channel. Same definition as the <a href="#rx_005fgain">rx_gain</a> property.
</p>
</dd>
<dt><code>rf_info <var>gain</var></code></dt>
<dd><p>Get RF driver information.
</p>
</dd>
<dt><code>ue</code></dt>
<dd><p>List the configured UEs.
</p>
</dd>
<dt><code>pdn_connect [<var>ue_id</var>] <var>apn|emergency</var> [<var>auth username password</var>]</code></dt>
<dd><p>Send PDN connectivity / PDU session establishment request.
</p>
</dd>
<dt><code>pdn_disconnect [<var>ue_id</var>] <var>apn|emergency</var></code></dt>
<dd><p>Send PDN disconnect / PDU session release request.
</p>
</dd>
<dt><code>rrc_reest [<var>ue_id</var>]</code></dt>
<dd><p>Trigger a RRC reestablishment.
</p>
</dd>
<dt><code>power_on [<var>ue_id</var>]</code></dt>
<dd><p>Initiate a UE power on.
</p>
</dd>
<dt><code>power_off [<var>ue_id</var>]</code></dt>
<dd><p>Initiate a UE power off.
</p>
</dd>
<dt><code>deregister [<var>ue_id</var>]</code></dt>
<dd><p>Initiate a UE detach/deregistration.
</p>
</dd>
<dt><code>sms <var>ue_id</var> <var>tel</var> <var>text</var> [<var>status_req</var>]</code></dt>
<dd><p>Send SMS
</p>
</dd>
<dt><code>sms_command <var>ue_id</var> <var>type</var> <var>msg_number</var> <var>dst</var></code></dt>
<dd><p>Send SMS-COMMAND.
</p>
</dd>
<dt><code>mbms_set <var>ue_id</var> [<var>plmn.service_id</var>] [<var>plmn.service_id</var>]</code></dt>
<dd><p>Starting receiving MBMS service(s).
</p>
</dd>
<dt><code>mbms <var>ue_id</var></code></dt>
<dd><p>Show MBMS statistics.
</p>
</dd>
<dt><code>rlc_drop_rate <var>UE_ID</var> <var>rb_id</var> <var>rate</var> [<var>is_srb</var>]</code></dt>
<dd><p>Define a <var>rate</var> percentage of downlink RLC PDUs dropped.
</p>
</dd>
<dt><code>csfb [<var>ue_id</var>] [<var>service_type</var>]</code></dt>
<dd><p>Initiate a CS fallback.
</p>
</dd>
<dt><code>force_meas_report [<var>ue_id</var>] <var>meas_id</var></code></dt>
<dd><p>Force a RRC Measurement Report message sending.
</p>
</dd>
<dt><code>tau_request <var>ue_id</var></code></dt>
<dd><p>Trigger a NAS Tracking Area Update / mobility Registration Request procedure.
</p>
</dd>
<dt><code>cevent <var>error|msg|&lt;event&gt;|help [error|msg]</var></code></dt>
<dd><p>Display event counters for errors, messages or a selected event. To get the list of error or message counters, you can type <code>cevent help error</code> or <code>cevent help msg</code>. 
</p>
</dd>
<dt><code>com</code></dt>
<dd><p>COM connection status.
</p>
</dd>
</dl>

<span id="Remote-UE"></span><span id="Remote-UE-1"></span><h2 class="chapter">10 Remote UE</h2>

<p>When using tunnel interface with external program, you may want external
program to be run on a different PC.<br>
The Remote UE tool allows you to transfer IP traffic from each UE to
a remote entity.<br>
</p>
<p>For this run <code>lterue</code> program on a different computer.<br>
You don&rsquo;t need any specific license.<br>
<code>lterue</code> uses GTP over SCTP to communicate with LTEUE.<br>
<code>lterue</code> must be used with <var>tun_setup_script</var>.<br>
</p>
<p>Note that we recommend to use same version of <code>lterue</code> and <code>lteue</code>.
</p>
<span id="Configuration-1"></span><h3 class="section">10.1 Configuration</h3>

<dl compact="compact">
<dt><code>bind_addr</code></dt>
<dd><p>IP address and optional port on which the SCTP with connection to
  LTEUE is bound.
</p></dd>
</dl>

<p>Note that <var>tun_setup_script</var> and <var>ext_app</var> prog member
associated to UE will be forwarded to <var>lterue</var> and thus
those scripts must be present in local directory.<br>
</p>
<p>For instance, if you put <var>lterue</var> on another PC, copy
<var>lterue</var>, <var>config/rue.cfg</var>, <var>config/ue-if.cfg</var>,
<var>config/ext_app.sh</var>, <var>libnopoll.so</var>, <var>libc_wrapper.so</var>,
<var>libcrypto.so.1.1</var> and <var>libssl.so.1.1</var>.
</p>
<span id="UDC-configuration-reference"></span><span id="UDC-configuration-reference-1"></span><h2 class="chapter">11 UDC configuration reference</h2>

<p>The UDC configuration is made by the script <code>udc-auto-cfg.sh</code>. For the input parameters See <a href="#cmd">cmd</a>. The script needs to ouput on stdout the following lines:
</p><ul>
<li> <code>LO_FREQ</code>: LO frequency confgured for the UDC devices belonging to the same <code>udc_port</code>

</li><li> <code>TX_POWER_OFFSET</code>: UDC up conversion gain [dB]. This quantity is used by the software to estimate the value of <code>ss-PBCH-BlockPower</code>

</li><li> <code>TX_POWER_MAXn</code>: it corresponds to the maximum power level [dBm] tolerated by the UDC IF port equally divided by the number of aggregated carriers using the same <code>udc_port</code>. <code>n</code> line output, one for each <code>rf_port</code>. This quantity is used by the software to find the maximum allowed <code>tx_gain</code> for each <code>rf_port</code> in order to avoid the UDC device IF port saturation. 

</li><li> <code>IFn</code>: it corresponds to the intermediate frequency at which each SDR is configured. <code>n</code> line output, one for each <code>rf_port</code>.

</li><li> <code>TX_GAIN_MARGINn</code>: it corresponds to the <code>tx_gain</code> reduction [dB] from the maximum allowed value. It is automatically applied by the software by <code>rf_port</code> during the startup.  <code>n</code> line output, one for each <code>rf_port</code>.

</li></ul>

<span id="args-configuration"></span><span id="args-Configuration"></span><h3 class="section">11.1 args Configuration</h3>
<p>This section specifies how to configure the parameter <code>args</code> (See <a href="#args">args</a>). The only mandatory string parameter is the UDC device enumeration, it specifies how the UDC has been mounted at Linux level. UDCB2 and UDCB4 are mounted as /dev/ttyUSBx and UDCA2 as /dev/ttyACMx. The other string parameters are optional, if not specified, they are configured with the default value. Supported parameters:
</p>
<p>Clock configuration:
</p><ul>
<li> A2: default(ingored). Any possibility to send clock configuration command for this UDC
      </li><li> B2: internal,external,default(master=internal,slave=external). If only one UDC B2 in the setup default=internal.
      </li><li> B4: internal,external,gps,default(internal)
</li></ul>

<p>TX port configuration:
</p><ul>
<li> A2: 1,2,default(1). 1=port IF1, 2=port IF2
      </li><li> B2: 1,2,3,4,default(2). 1=port IF1A, 2=port IF1B, 3=port IF2A, 4=port IF2B
      </li><li> B4: 1,2,3,4,default(1,3). 1=port IF1, 2=port IF2, 3=port IF3, 4=port IF4
</li></ul>

<p>RX port configuration:
</p><ul>
<li> A2: 1,2,default(2). 1=port IF1, 2=port IF2
      </li><li> B2: 1,3,default(3). 1=port IF1A, 3=port IF2A
      </li><li> B4: 1,2,3,4,default(2,4). 1=port IF1, 2=port IF2, 3=port IF3, 4=port IF4
</li></ul>

<p>Example: &quot;/dev/ttyUSB0;clock=default;tx=default;rx=default&quot;
</p>
<span id="Debug"></span><h3 class="section">11.2 Debug</h3>
<p>To enable the <code>udc-auto-cfg.sh</code> debug logs it is required to enable the <code>trx</code> log level in debug mode in the configuration file. Example:
</p><div class="example">
<pre class="example">log_options: &quot;all.level=error,all.max_size=0,nas.level=debug,nas.max_size=1,
s1ap.level=debug,s1ap.max_size=1,x2ap.level=debug,x2ap.max_size=1,
rrc.level=debug,rrc.max_size=1,trx.level=debug,trx.max_size=1&quot;,
</pre></div>



<span id="Log-file-format"></span><span id="Log-file-format-1"></span><h2 class="chapter">12 Log file format</h2>


<span id="PHY-layer"></span><h3 class="section">12.1 PHY layer</h3>

<p>When a PHY message is dumped (debug level), the format is:
</p><div class="example">
<pre class="example">time layer dir ue_id cell rnti frame.subframe channel:short_content
        long_content
</pre></div>

<dl compact="compact">
<dt><code>time</code></dt>
<dd><p>Time using the selected format.
</p></dd>
<dt><code>layer</code></dt>
<dd><p>Layer (<code>[PHY]</code> here).
</p></dd>
<dt><code>dir</code></dt>
<dd><p>UL (uplink) or DL (downlink).
</p></dd>
<dt><code>ue_id</code></dt>
<dd><p>eNodeB UE identifier (hexadecimal, unique among all cells).
</p></dd>
<dt><code>cell</code></dt>
<dd><p>Cell index (hexadecimal).
</p></dd>
<dt><code>rnti</code></dt>
<dd><p>Associated RNTI (hexadecimal) or <code>-</code> if none.
</p></dd>
<dt><code>frame.subframe</code></dt>
<dd><p>Frame number (0-1023) and either subframe number (0-9) for LTE and NB-IoT cells or slot number for NR cells.
</p></dd>
<dt><code>channel</code></dt>
<dd><p>PHY channel name (e.g. PUSCH, PUCCH, PRACH, SRS, PSS,
PBCH, PCFICH, PDSCH, PHICH, PDCCH, EPDCCH, ...).
</p></dd>
<dt><code>short_content</code></dt>
<dd><p>Single line content. 
</p></dd>
<dt><code>long_content</code></dt>
<dd><p>Hexadecimal dump of the message if <code>phy.max_size &gt; 0</code>.
</p></dd>
</dl>

<p>In the uplink messages, <code>epre</code> is the relative Energy per
Resource Element in dB. The origin 0 dB corresponds to
<code>tx_gain_offset</code> dBFS.
</p>
<p>If UE power control is enabled, <code>p</code> is the absolute
transmit power in dBm.
</p>
<p>If the UE channel simulator is enabled, <code>p</code> is the absolute power
before the channel simulation is applied. Moreover, if the UE channel
simulator is enabled, <code>epre</code> is clamped to 0 dB to avoid a
potential saturation in the RF interface.
</p>
<span id="MAC-and-RRC-layers"></span><h3 class="section">12.2 MAC and RRC layers</h3>

<p>When a message is dumped, the format is:
</p><div class="example">
<pre class="example">time layer - ue_id message
</pre></div>

<p>When a PDU is dumped (debug level), the format is:
</p><div class="example">
<pre class="example">time layer dir ue_id short_content
        long_content
</pre></div>

<dl compact="compact">
<dt><code>time</code></dt>
<dd><p>Time using the selected format
</p></dd>
<dt><code>layer</code></dt>
<dd><p>Layer (<code>[MAC]</code> or <code>[RRC]</code> here).
</p></dd>
<dt><code>dir</code></dt>
<dd><p>UL (uplink) or DL (downlink). 
</p></dd>
<dt><code>ue_id</code></dt>
<dd><p>eNodeB UE identifier (hexadecimal, unique among all cells).
</p></dd>
<dt><code>cell_id</code></dt>
<dd><p>Primary cell index.
</p>
</dd>
<dt><code>short_content</code></dt>
<dd><p>Single line content. 
</p></dd>
<dt><code>long_content</code></dt>
<dd><ul>
<li> MAC: hexadecimal dump of the message if <code>layer.max_size &gt; 0</code>.
  </li><li> RRC: full ASN.1 content of the RRC message if <code>layer.max_size &gt; 0</code>.
  </li></ul>
</dd>
<dt><code>long_content</code></dt>
<dd><ul>
<li> MAC, RLC, PDCP: hexadecimal dump of the message if <code>layer.max_size &gt; 0</code>.
  </li><li> RRC: full ASN.1 content of the RRC message if <code>layer.max_size &gt; 0</code>.
  </li></ul>
</dd>
</dl>
<span id="RLC_002c-PDCP-and-NAS-layers"></span><h3 class="section">12.3 RLC, PDCP and NAS layers</h3>

<p>When a message is dumped, the format is:
</p><div class="example">
<pre class="example">time layer - ue_id message
</pre></div>

<p>When a PDU is dumped (debug level), the format is:
</p><div class="example">
<pre class="example">time layer dir ue_id short_content
        long_content
</pre></div>

<dl compact="compact">
<dt><code>time</code></dt>
<dd><p>Time using the selected format
</p></dd>
<dt><code>layer</code></dt>
<dd><p>Layer (<code>[RLC]</code>, <code>[PDCP]</code>, or <code>[NAS]</code> here).
</p></dd>
<dt><code>dir</code></dt>
<dd><p>UL (uplink) or DL (downlink). 
</p></dd>
<dt><code>ue_id</code></dt>
<dd><p>eNodeB UE identifier (hexadecimal, unique among all cells).
</p></dd>
<dt><code>short_content</code></dt>
<dd><p>Single line content. 
  </p><ul>
<li> RLC, PDCP: preceded by the SRB or DRB identifier. 
  </li></ul>
</dd>
<dt><code>long_content</code></dt>
<dd><ul>
<li> NAS: full content of the NAS message if <code>layer.max_size &gt; 0</code>.
  </li></ul>
</dd>
</dl>


<span id="IP-layer"></span><h3 class="section">12.4 IP layer</h3>

<p>When a IP data PDU is dumped (debug level), the format is:
</p><div class="example">
<pre class="example">time layer dir short_content
        long_content
</pre></div>

<dl compact="compact">
<dt><code>time</code></dt>
<dd><p>Time using the selected format
</p></dd>
<dt><code>layer</code></dt>
<dd><p>Indicate the layer (<code>[IP]</code> here).
</p></dd>
<dt><code>dir</code></dt>
<dd><p>UL (uplink) or DL (downlink). 
</p></dd>
<dt><code>short_content</code></dt>
<dd><p>Single line content (at least the IP protocol and the source and destination address).
</p></dd>
<dt><code>long_content</code></dt>
<dd><p>Optional hexadecimal dump of the PDU if <code>ip.max_size &gt; 0</code>.
</p></dd>
</dl>

<span id="Known-limitations"></span><h2 class="chapter">13 Known limitations</h2>

<p>We present here the known limitations of LTEUE:
</p>
<ul>
<li> No cell search (except for the initial connection).

</li><li> Handover is supported both in LTE and NR in UE simulation mode (<code>multi_ue:true</code>) between the configured cells. The real UE mode does not yet support handover.

</li><li> In UE simulation mode (<code>multi_ue:true</code>), events A1 to A6 and periodical report for strongest cells are supported for the configured cells. Events B1 and B2 are supported for EN-DC.
RRC measurements are not yet supported in real UE mode. 

</li><li> Subband periodic CQI is not supported (but wideband CQI and aperiodic CQI are supported).

</li><li> Category M1 specific:

<ul>
<li> Only CE-Mode A is supported.
  </li><li> No message repetition for PRACH.
  </li><li> No frequency hopping.
  </li></ul>

</li><li> NB-IoT specific:

<ul>
<li> Channel simulator is not supported.
  </li><li> Multi cell is not supported.
  </li></ul>

</li><li> NR specific:

<ul>
<li> The maximum number of PDSCH codewords per DCI is one.
  </li><li> A single code block group is supported.
  </li><li> Semi-static HARQ ACK is not fully supported.
  </li><li> k1 (PDSCH to ACK delay in slots) must be larger than or equal to <code>rx_to_tx_latency</code>.
  </li><li> k2 (DCI to PUSCH delay in slots) must be larger than or equal to <code>rx_to_tx_latency</code>.
  </li><li> The RAR to PUSCH delay in slots must be larger than or equal to <code>rx_to_tx_latency</code> + 1.
  </li></ul>

</li></ul>


<span id="Change-history"></span><h2 class="chapter">14 Change history</h2>

<span id="Version-2024_002d12_002d23"></span><h3 class="section">14.1 Version 2024-12-23</h3>

<ul>
<li> added NR DL MIMO 8x8
</li></ul>

<span id="Version-2024_002d12_002d13"></span><h3 class="section">14.2 Version 2024-12-13</h3>

<ul>
<li> updated RRC ASN.1 to release 18.3.0
</li><li> updated NR RRC ASN.1 to release 18.3.0
</li><li> added R18 3MHz cell bandwidth support for NR cells
</li><li> added NR band 106 definition
</li><li> added R14 skip uplink TX dynamic and SPS support
</li><li> <code>redcap</code> parameter is changed from a boolean to an enum. Boolean is still supported for backward compatibility
</li><li> added <code>eredcap_reduced_bb_bw</code> parameter
</li><li> added <code>pdsch_fer</code> parameter
</li><li> added <code>dl_ca</code> parameter
</li><li> added <code>max_mimo_layers_dl</code>, <code>nr_max_mimo_layers_dl</code> and <code>nr_max_mimo_layers_ul</code> parameters
</li><li> added <code>measurement_report</code> remote API event
</li><li> added <code>vrb_lib_path</code> parameter to the NR UE configuration for Intel vRANBoost support
</li></ul>

<span id="Version-2024_002d09_002d13"></span><h3 class="section">14.3 Version 2024-09-13</h3>

<ul>
<li> added LTE bands 107 and 108 definition
</li><li> added split 7.2 multi cell support
</li><li> added support for NR Paging Early Indication (PEI)
</li><li> added <code>status_req</code> to <code>sms</code> remote API and monitor command
</li><li> added <code>sms_status_report</code> event
</li><li> added <code>sms_command</code> remote API and monitor command
</li><li> added <code>license</code> remote API
</li><li> added <code>attenuation</code> parameter to all antenna types in the channel simulator
</li><li> added <code>tun_ifname</code> parameter
</li><li> added <code>ue_del_all</code> remote API
</li><li> added value 100_enhanced to <code>f_raster</code> parameter
</li><li> <code>com_logs_lock</code> parameter is renamed to <code>com_log_lock</code>. <code>com_logs_lock</code> is still supported for backward compatibility
</li><li> added <code>com_log_us</code> parameter
</li><li> added <code>sid_period</code> to <code>cbr_send</code> remote API
</li><li> added <code>eab</code> parameter
</li></ul>

<span id="Version-2024_002d06_002d14"></span><h3 class="section">14.4 Version 2024-06-14</h3>

<ul>
<li> OpenSSL library is upgraded to 1.1.1w
</li><li> added FR2 support
</li><li> added NR band 54 definition
</li><li> added data inactivity monitoring
</li><li> added <code>apply_ul_mbr</code> parameter
</li><li> added <code>delay_sim</code> parameter
</li><li> added <code>ca_intraband</code> parameter
</li><li> added <code>access_control_classes</code> and <code>uac_access_identities</code> parameters
</li><li> added <code>satellite</code> antenna type for NTN channel simulator
</li><li> added <code>sim_path_loss</code> to <code>ue_get</code> remote API
</li><li> added <code>rrc_sel_resel</code> parameter
</li></ul>

<span id="Version-2024_002d03_002d15"></span><h3 class="section">14.5 Version 2024-03-15</h3>

<ul>
<li> updated NR RRC ASN.1 to release 17.6.0
</li><li> added LTE bands 106, 253 and 254 definition
</li><li> added NR bands 31, 72, 105, 109 and 254 definition
</li><li> added IPv4 Link MTU request in PCO and automatic configuration of TUN interface based on the value received from the network
</li><li> added NR 2-steps RA SDT support
</li><li> added NR multi-CSI-PUCCH support
</li><li> added NR R17 PUSCH repetition support
</li><li> added <code>qos_flows</code> and <code>erabs</code> parameters to <code>ue_get</code> remote API
</li><li> added <code>apply_ta_commands</code> parameter
</li><li> added <code>rlc_drop_rate</code> remote API
</li><li> added <code>cells.counters</code> to <code>config_get</code> remote API
</li><li> added support of &rsquo;+&rsquo; in <code>sms_centre_address</code>
</li><li> added <code>uplink_tx_switch_option</code> parameter
</li><li> <code>ntn_ground_position</code> and <code>ground_position_at_origin</code> are deprecated, replaced by a single <code>ground_position</code> parameter
</li><li> added <code>sprt_support</code> parameter
</li><li> increased <code>drx_cycle</code> value range for NB-IoT UEs
</li><li> added handover_command, handover_success and handover_failure cevent counters
</li><li> added <code>cfo</code> parameter to <code>stats</code> remote API
</li><li> use <code>trx_get_numa_nodes2</code> TRX API instead of <code>trx_get_numa_nodes</code>
</li></ul>

<span id="Version-2023_002d12_002d15"></span><h3 class="section">14.6 Version 2023-12-15</h3>

<ul>
<li> added EPS user plane integrity support when <code>as_release</code> is set to 17 or higher
</li><li> added RRC cell selection and reselection
</li><li> added NAS PLMN selection
</li><li> added support of TRX multi-thread API
</li><li> added extended measurement identities and measurement objects support
</li><li> added CSG support
</li><li> <code>ca_filter_bc_3x101</code> parameter replaces the old <code>ca_filter_bc_36101</code> and can now apply to NR UEs
</li><li> <code>ul_ca</code> parameter can also apply to NR UEs
</li><li> added <code>loop_count</code> and <code>loop_delay</code> to remote API messages
</li><li> added <code>sim_events_loop_count</code> and <code>sim_events_loop_delay</code>
</li><li> added <code>plmnwact</code>, <code>oplmnwact</code>, <code>hplmnact</code>, <code>ehplmn</code> and <code>lrplmnsi</code> used by the NAS PLMN selection procedure
</li><li> added <code>ntn</code> parameter to <code>custom_freq_band</code> object
</li><li> removed <code>ntn</code> parameter from the cell configuration object (the NTN info comes from the band used)
</li><li> added <code>ue_usage_setting</code> and <code>voice_domain_preference_eutran</code> parameters
</li><li> added Ethernet traffic generation type to <code>cbr_recv</code> and <code>cbr_send</code>
</li><li> added <code>preferred_max_cc</code> and <code>preferred_max_layers</code> parameters to <code>ue_assistance_information</code> API for NR UEs
</li><li> <code>altitude</code> parameter in <code>ground_position_at_origin</code> and <code>ntn_ground_position</code> parameters is now optional
</li><li> added <code>ntn_service_dl_freq</code> and <code>ntn_service_ul_freq</code> parameters for NR NTN cell groups
</li><li> added <code>csg_info_list</code> parameter
</li><li> added <code>com_ssl_ca</code> parameter for SSL verification
</li><li> added <code>emergency_attach</code> and <code>imei_attach</code> parameters
</li><li> added <code>emergency</code> parameter to <code>pdn_connect</code> and <code>pdn_disconnect</code> remote APIs
</li><li> <code>mnc_nb_digits</code> parameter is now also applicable to LTE and NB-IoT UEs
</li></ul>

<span id="Version-2023_002d09_002d08"></span><h3 class="section">14.7 Version 2023-09-08</h3>

<ul>
<li> updated EUTRA band combinations based on 3GPP TS 36.101 v18.2.0
</li><li> added the <code>ptrs_density_recommendation_dl</code> parameter
</li><li> <code>snssai</code> parameter is added to <code>pdn_disconnect</code> remote API
</li><li> <code>sms_centre_address</code> parameter is added
</li><li> NUMA configuration automatically uses RF frontend driver information
</li><li> <code>attach_pdn_type</code> parameter value <code>ethernet</code> is added
</li><li> <code>pdn_type</code> parameter value <code>ethernet</code> is added
</li><li> <code>wus_support</code>, <code>wus_edrx_min_time_offset</code> and <code>gwus_paging_probability</code> parameters are added for Cat-M1 UEs
</li><li> <code>redcap</code> and <code>half_duplex</code> parameters added for NR UEs
</li><li> <code>supi_concealment_by_sim</code> parameter is removed
</li></ul>

<span id="Version-2023_002d06_002d10"></span><h3 class="section">14.8 Version 2023-06-10</h3>

<ul>
<li> added LTE band 73 definition
</li><li> <code>ntn</code>, <code>ntn_n_ta_ue</code> and <code>ntn_ground_position</code> parameters have been moved to the cell configuration and are now available for NB-IoT and NR cells
</li><li> added <code>ntn_eci_aligned_ecef</code> parameter
</li><li> phy related logging parameters are moved in the phy layer object of <code>config_set</code>/<code>config_get</code> remote APIs
</li><li> added rrc.cell_meas=[0|1] log level
</li><li> fading is now applied to the PRACH signal when using the channel simulator
</li><li> <code>attach_pdn_type</code> parameter value <code>non-ip</code> is renamed to <code>unstructured</code>. <code>non-ip</code> is still supported for backward compatibility
</li><li> <code>pdn_type</code> parameter value <code>non-ip</code> in <code>pdn_connect</code> remote API is renamed to <code>unstructured</code>. <code>non-ip</code> is still supported for backward compatibility
</li><li> <code>com_logs_lock</code> parameter added to disable logs configuration change via remote API
</li><li> <code>attach_pdn_ims</code> parameter is added
</li><li> <code>ims</code> parameter is added to <code>pdn_connect</code> remote API
</li><li> <code>ground_position_at_origin</code> parameter is added
</li><li> <code>lpp_support</code> parameter is added
</li></ul>

<span id="Version-2023_002d03_002d17"></span><h3 class="section">14.9 Version 2023-03-17</h3>

<ul>
<li> <code>com_addr</code> parameter now uses [::] address instead of 0.0.0.0 in the delivered configuration files to allow IPv6 connection
</li><li> updated RRC ASN.1 to release 17.3.0
</li><li> updated NR RRC ASN.1 to release 17.3.0
</li><li> added LTE category 1bis support
</li><li> added inter-RAT EUTRA/NR support
</li><li> added EUTRA/NR CGI reporting support
</li><li> added LTE bands 54, 255 and 256 definition
</li><li> added NR bands 100, 101, 102, 104, 255 and 256 definition
</li><li> added <code>wus_support</code>, <code>wus_edrx_min_time_offset</code> and <code>gwus_paging_probability</code> parameters for NB-IoT UEs
</li><li> added <code>rms_dbm</code> parameter to <code>stats</code> remote API
</li><li> added <code>cpu_core_list</code> parameter to cell group
</li><li> added missing <code>deregister</code> monitor command in documentation
</li><li> <code>t3412</code> parameter can be used for MICO requested T3512
</li><li> added <code>eutra_voice_support</code> and <code>nr_voice_support</code> parameters
</li><li> <code>cfo</code> parameter was wrongly named <code>freq_shift</code> in <code>ue_get</code> remote API documentation
</li><li> <code>f_raster</code> parameter supports the value 15_30_100
</li><li> <code>delta_gscn</code> parameter supports the value 7
</li><li> added <code>snssai_credentials</code> parameter
</li><li> increased <code>sim_reader_index</code> parameter range
</li></ul>

<span id="Version-2022_002d12_002d16"></span><h3 class="section">14.10 Version 2022-12-16</h3>

<ul>
<li> updated RRC ASN.1 to release 17.2.0
</li><li> updated NR RRC ASN.1 to release 17.2.0
</li><li> added Configured Grant Type1 support
</li><li> added eDRX support for NR UEs
</li><li> added enhanced skip uplink TX support for NR UEs
</li><li> added <code>ca_certificate</code> parameter to <code>eap_tls</code>
</li><li> added <code>snpn_access_mode</code> and <code>allowed_snpn</code> parameters
</li><li> added <code>cag_info_list</code> parameters
</li><li> added <code>tun_script_param</code> for tun mode
</li><li> <code>nr_support</code> parameter is renamed to <code>en_dc_support</code>. <code>nr_support</code> is still supported for backward compatibility
</li><li> added <code>ntn</code>, <code>ntn_n_ta_ue</code>, <code>ntn_ground_position</code> in NB-IoT UEs for Rel17 NTN support
</li><li> added <code>random_ap_subband_cqi</code> and <code>random_ap_subband_pmi</code> parameters
</li><li> added <code>inactive</code> value to <code>rrc_state</code> parameter in <code>ue_get</code> remote API
</li><li> added <code>utc</code> parameter to remote API response messages
</li></ul>

<span id="Version-2022_002d09_002d16"></span><h3 class="section">14.11 Version 2022-09-16</h3>

<ul>
<li> updated RRC ASN.1 to release 17.1.0
</li><li> updated NR RRC ASN.1 to release 17.1.0
</li><li> added NUMA architecture support
</li><li> added log support for remote UE. GTP-U and IP layers available
</li><li> added <code>freq_shift</code> and <code>sample_rate_offset</code> parameters to <code>ue_get</code> remote API
</li><li> added <code>gtp_socket_size</code> option for remote UE
</li><li> added <code>nr_forced_li</code> parameter
</li><li> added <code>ue_assistance_information</code> remote API
</li><li> added R17 35MHz and 45MHz cell bandwidth support for NR cells
</li><li> added <code>cross_pol_medium</code> and <code>cross_pol_high</code> MIMO correlation matrixes to channel simulator
</li><li> added <code>deregister</code> remote API
</li><li> added band 103 support
</li><li> added support for CRI_RI_LI_PMI_CQI report quantity
</li><li> added Cat-M R14 PDSCH scheduling enhancement, HARQ ACK bundling and 10 HARQ processes support
</li><li> added <code>dump_stdout</code> and <code>dump_stderr</code> parameters to <code>ext_app</code>
</li></ul>

<span id="Version-2022_002d06_002d17"></span><h3 class="section">14.12 Version 2022-06-17</h3>

<ul>
<li> OpenSSL library is upgraded to 1.1.1n
</li><li> improved global NR performances
</li><li> added <code>ipv4_local_addr</code>, <code>ipv6_remote_addr_prefix</code> and <code>ipv6_local_addr_prefix</code> TFT components
</li><li> <code>pdcch_decode_opt</code> and <code>pdcch_decode_opt_threshold</code> are now supported with NR
</li><li> the <code>delay_spread</code> channel simulator parameter is added for the new <code>tdla</code>, <code>tdlb</code>, <code>tdlc</code>, <code>tdld</code> and <code>tdle</code> channel types
</li><li> added <code>start_timestamp</code> and <code>end_timestamp</code> to <code>log_get</code> API
</li><li> added <code>phy.rep=1</code> log level for NPUSCH/NPDSCH allocations and repetitions in each subframe
</li><li> added support for R16 NR RLC extended t-PollRetransmit and extended t-StatusProhibit
</li><li> added support for R16 NR PDCP extended discardTimer
</li></ul>

<span id="Version-2022_002d03_002d18"></span><h3 class="section">14.13 Version 2022-03-18</h3>

<ul>
<li> <code>prach_delay</code> is now available for NR UEs too
</li><li> added notes about channel reciprocity and SRS antenna switching
</li><li> updated NR UE capabilities reporting
</li><li> the NR UE configuration files found in config folder are changed to use a cell SCS of 15kHz in FDD to match the changes done in the gNB configuation files
</li><li> added channel estimation signal log for PDSCH (LTE, NR)
</li><li> <code>supi_concealment_by_sim</code> parameter is added
</li></ul>

<span id="Version-2021_002d12_002d17"></span><h3 class="section">14.14 Version 2021-12-17</h3>

<ul>
<li> a new phy.cell_meas log level is added
</li><li> <code>license</code> monitor command is added
</li><li> support of antenna panels in the multi-UE channel simulator is added
</li><li> <code>rx_agc</code> and <code>rx_agc_timeout</code> remote APIs are removed; use <code>rx_gain</code> instead
</li><li> ssf5120 and sf10240 DRX long cycle in RRC connected state is supported
</li><li> PDCCH order PRACH in LTE, NB-IoT and NR is supported
</li><li> aperiodic SRS is supported in NR
</li><li> NB-IoT NPRACH Format 2 is supported
</li><li> <code>mbms_set</code> remote API is added
</li></ul>

<span id="Version-2021_002d09_002d17"></span><h3 class="section">14.15 Version 2021-09-17</h3>

<ul>
<li> the minimum GLIBC version is now 2.17
</li><li> logs can be displayed with microseconds precision
</li><li> <code>nas_5gs</code> parameter is added for EUTRA/5GC in LTE, Category M1 and NB-IoT
</li><li> addition of control plane CIoT 5GS optimization
</li><li> <code>sul_support</code> parameter is added for NR supplementary uplink
</li><li> <code>cpu_core_list</code> parameter is added to control the list of cores used for multi threading
</li><li> <code>forced_pci</code> parameter is added for LTE, Category M1 and NR UEs
</li><li> new parameters are added to the channel simulator for antenna panels
</li><li> <code>f_raster</code> parameter supports the value 15
</li><li> <code>as_release</code> parameter supports the value 16
</li><li> NAI can be configured instead of IMSI
</li><li> the ue-xwu script is updated
</li><li> PRACH repetitions in LTE-M are added
</li></ul>


<span id="License"></span><h2 class="chapter">15 License</h2>

<p><code>lteue</code> is copyright (C) 2012-2024 Amarisoft. Its redistribution
without authorization is prohibited.
</p>
<p><code>lteue</code> is available without any express or implied warranty. In
no event will Amarisoft be held liable for any damages arising from
the use of this software.
</p>
<p>For more information on licensing, please refer to <code>license.pdf</code> file.
</p>

<hr>



</body>
</html>
